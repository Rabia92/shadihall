/*!
 * Kiosked CFE library
 * @copyright Kiosked Ltd. - All rights reserved
 * @see http://kiosked.com
 */
!function(){"use strict";var e="development",t=[];return"object"==typeof window.ITGS?void console.warn("Kiosked Script has been already loaded. Skipping load."):void function(e){function t(i){if(n[i])return n[i].exports;var r=n[i]={exports:{},id:i,loaded:!1};return e[i].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(t,n,i){function r(e){return e&&e.__esModule?e:{"default":e}}i(150),i(66),i(98),i(97);var o=i(2),a=r(o),s=i(53),l=r(s),u=i(100),c=r(u),d=i(141),f=r(d),h=i(64),p=r(h),g=i(143),m=r(g),v=i(9),y=r(v),_=i(18),E=r(_),A=i(114),b=r(A),S=i(34),I=r(S),w=i(108),T=r(w),C=i(71),O=r(C),D=i(1),M=r(D),P=i(41),k=r(P),x=i(3),N=r(x),R=i(7),L=r(R),F=i(12),B=r(F),H=i(109),j=r(H),z=i(99),W=r(z);!function(){function t(e){var t=new T["default"](e.settings);e.settings=t.getMergedSettingsForCurrentDevice();var n=new m["default"](M["default"].deepClone(e.settings));return e.settings=n.getSettingsInNewLayout(),e}function n(){var e=new b["default"];e.setPrefersFirst(!1);var t=e.locateScriptWithURLMatch(/(kiosked|intags|localhost).+?(\/loader\/|kiosked-cfe\.js).+?site=[0-9]+/i),n=!1,i={};return ITGS.loadedScript=!1,t===!1&&(t=e.locateScriptWithURLMatch(/(intags\.com|kiosked\.com)(\/sniffer\/get-script\/|\/widget\/sniff\/sign\/)(.*?)albumid\/[0-9]+/i),n=!0),t instanceof I["default"]==!0?(ITGS.loadedScript=t.getSource(),i=n?k["default"].getOldFormatURLDetails(t.getSource()):t.getQueryParameters()):N["default"].warn("/Init/","No script tag was found"),{publisherID:l["default"].getClientDataset("publisherID",i.pub||0),siteID:l["default"].getClientDataset("siteID",i.site||0)}}if(e=l["default"].getClientDataset("environment","production"),W["default"].isDisabled())return void N["default"].warn("/Init/","Loading cancelled.");var i=y["default"].getGrandCentralStation();try{var r=L["default"].getAnalyticsConsumerData();r[a["default"].ANALYTICS_EVENT_NAME_PROPERTY]="scriptInit",r["page.album_id"]=l["default"].getClientDataset("siteID",0),r["page.publisher_id"]=l["default"].getClientDataset("publisherID",0),i.dispatch(a["default"].ANALYTICS_EVENT_NAME,r)}catch(o){}var s=l["default"].getClientDataset("domain",""),u=n();if(console.log("%cKiosked%c - %s","background: #219bb6; color: #FFF; font-weight: bold; padding: 3px","",a["default"].VERSION),W["default"].isAllowedOnDomain()!==!0)return N["default"].warn("/Init/","Current domain is not permitted by allowed-domains"),void N["default"].log("/Init/","Script loading halted");var d=B["default"].getCurrentTimestamp();i.prepareTimingController().then(function(e){"number"==typeof ITGS.startLibraryTime&&e.registerEvent("startStaticLib",{},ITGS.startLibraryTime),e.registerEvent("libLoad",{},d)}),L["default"].setPublisherID(u.publisherID),L["default"].setDataEndpoint(s);var h=L["default"].getPageUrl(),g=l["default"].getClientDataset("countryCode","00");i.libraryInit();var v=l["default"].getClientDataset("settings",{settings:{settingsTree:{}}});v.settings=(0,j["default"])(v.settings,h,u.publisherID),v=t(v);var _=new p["default"](v,{countryCode:g});ITGS.overrideFunctions=c["default"].getOverrideFunctions(_.getBaseSettingsContext().getSettings()),(M["default"].overrideCall("GrandCentralStation.libraryInit")||function(){})();var A=new f["default"]({countryCode:g,publisherID:u.publisherID,siteID:u.siteID},_);ITGS.SnifferControllerLocator=E["default"],E["default"].setSnifferController(A);var S=A.getSettings().getInt("ui.media.Banner.adTemplateId",0),w=O["default"].extractFromData(l["default"].getClientDataset("adZoneTemplate",[]),S);if(w&&(A.setAdZoneTemplates([w]),A.setAdZoneTemplateID(S)),"development"!==e&&(A.start(),N["default"].log("/Init/","Sniffer started")),"function"==typeof window.ITGSonload)try{window.ITGSonload(),window.ITGSonload=null,delete window.ITGSonload}catch(C){N["default"].warn("/Init/","Library onload failed:",C.message)}}()},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),a=i(o),s={animations:[],easingFunctions:{backInCubic:function(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(4*o+-3*r)},backInQuartic:function(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(2*r*r+2*o+-3*r)},inOutQuintic:function(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(6*o*r+-15*r*r+10*o)},linear:function(e,t,n,i){var r=n-t,o=e/i;return t+o*r},outElastic:function(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(56*o*r+-175*r*r+200*o+-100*r+20*e)},outQuartic:function(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(-1*r*r+4*o+-6*r+4*e)},outQuintic:function(e,t,n,i){var r=(e/=i)*e,o=r*e;return t+n*(o*r+-5*r*r+10*o+-10*r+5*e)}},addClass:function(e,t){this.hasClass(e,t)||(e.className+=" "+t)},addCSSRule:function(e,t,n,i){"insertRule"in e?e.insertRule(t+"{"+n+"}",i):"addRule"in e&&e.addRule(t,n,i)},_getValues:function(e,t){var n={},i=window.getComputedStyle(e);for(var r in t)t.hasOwnProperty(r)&&(n[r]=parseFloat(e.style[r]||i.getPropertyValue(r)),n[r]=n[r]?n[r]:0);return n},_getUnits:function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)){var i=e[n].toString().match(/[A-Za-z%]+/g);t[n]={value:parseFloat(e[n].toString().match(/-?[0-9\.]+/)),unit:null!==i?i[0]:null}}return t},animate:function(t,n){var i,r=Date.now(),o=n.easing||"inOutQuintic",a=s.isset(n.duration)?n.duration:1e3,l=this._getValues(t,n.properties),u=this._getUnits(n.properties),c=this;return new e(function(e){!function s(){var d,f,h,p=Date.now(),g=p-r;for(var m in n.properties)n.properties.hasOwnProperty(m)&&(f=u[m].value-l[m],d=c.easingFunctions[o](g,l[m],f,a),h=(g>a?l[m]+f:d)+u[m].unit,t.style[m]=h);return g>a?(n.callback&&n.callback(t),cancelAnimationFrame(i),void e()):void(i=requestAnimationFrame(s))}()})},calculateZIndex:function(e){if(!(e instanceof HTMLElement))throw new Error("Expected HTMLElement, received "+("undefined"==typeof e?"undefined":r(e))+" instead");if(window.getComputedStyle){var t=parseInt(document.defaultView.getComputedStyle(e,null).zIndex,10);return isNaN(t)?!1:t}if(e.currentStyle){var n=parseInt(e.currentStyle.zIndex,10);return isNaN(n)?!1:n}return!1},calculateZIndexOfChildren:function(e){var t=0;if(!(e instanceof HTMLElement))return!1;for(var n=e.childNodes.length,i=0;n>i;i+=1)if(!(e.childNodes[i]instanceof HTMLElement!=!0||(e.childNodes[i].className||"").indexOf("kskd")>=0)&&s.isVisible(e.childNodes[i])){var r=s.calculateZIndex(e.childNodes[i]);r>t&&(t=r)}return t},compose:function(){function e(n){for(var i=t.length-1;i>-1;i-=1)try{n=t[i].call(this,n)}catch(r){throw r.message=e.toString()+" blew up on "+t[i].toString(),r}return n}var t=arguments;return e.toString=function(){return"compose("+[].slice.call(t).map(function(e){return e.toString()}).join(", ")+")"},e},curry:function(e,t){var n=e.length;return t=t?t:null,function i(){var r=Array.prototype.slice.call(arguments,0);return r.length>=n?e.apply(t,r):function(){var e=Array.prototype.slice.call(arguments,0);return i.apply(t,r.concat(e))}}},curryWhole:function(e,t){return t=t?t:null,function(){var n=Array.prototype.slice.call(arguments,0);return function(){return e.apply(t,n)}}},deepClone:function l(e,t){if(s.isset(t)||(t=!1),null===e||"object"!==("undefined"==typeof e?"undefined":r(e)))return e;if(e instanceof Date){var n=new Date;return n.setTime(e.getTime()),n}if(e instanceof Array){for(var i=[],o=0,a=e.length;a>o;o+=1)i[o]=l(e[o],t);return i}if(e instanceof HTMLElement)return e;if(e instanceof Object){var u={};for(var c in e)(e.hasOwnProperty(c)||t)&&(u[c]=l(e[c],t));return u}throw new Error("Unable to clone object - Type not supported")},deepFreeze:function(e){var t=Object.getOwnPropertyNames(e);return t.forEach(function(t){var n=e[t];"object"!==("undefined"==typeof n?"undefined":r(n))||Object.isFrozen(n)||s.deepFreeze(n)}),Object.freeze(e)},delay:function(t,n){s.isset(n)||(n=!1);var i=function(){return new e(function(e){setTimeout(e,t||1)})};return n?i:i()},escapeHTML:function(e){return e=e||"",e=e.replace(/&#([^\s]*);/g,function(e,t){return String.fromCharCode(Number(t))}),e.split("&").join("&amp;").split("<").join("&lt;").split(">").join("&gt;")},getObjectLength:function(e){var t=0;if("object"===("undefined"==typeof e?"undefined":r(e)))for(var n in e)e.hasOwnProperty(n)&&(t+=1);return t},getRandomInt:function(e,t){return t+=1,Math.floor(Math.random()*(t-e))+e},getRange:function(e,t){return e>=0?t>=0?t-e:0-(Math.abs(t)+e):t>=0?Math.abs(e)+t:t-e},getWindowLocationPath:function(){var e=s.overrideCall("tools.getWindowLocationPath");return e?e():window.location.protocol+"//"+window.location.hostname+window.location.pathname},getWindowSize:function(){var e=0,t=0;return window.innerWidth?(e=window.innerWidth,t=window.innerHeight):0!==document.documentElement.clientWidth&&(e=document.documentElement.clientWidth,t=document.documentElement.clientHeight),{width:parseInt(e,10),height:parseInt(t,10)}},hasClass:function(e,t){var n=e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"));return null!==n},hash:function(e){s.isString(e)||(e+="");var t,n,i=2166136261,r=!0;for(t=0,n=e.length;n>t;t+=1)i^=e.charCodeAt(t),i+=(i<<1)+(i<<4)+(i<<7)+(i<<8)+(i<<24);return r?("0000000"+(i>>>0).toString(16)).substr(-8):i.toString()>>>0},isBrowser:{chrome:function(){return!!window.chrome},edge:function(){return/edge/i.test(navigator.userAgent)},firefox:function(){return/firefox/i.test(navigator.userAgent)},internetExplorer:function(){var e=s.isBrowser.internetExplorer11();return e||-1!==navigator.appVersion.indexOf("MSIE")},internetExplorer9:function(){return s.isBrowser.internetExplorer()&&9===parseInt(document.documentMode,10)},internetExplorer11:function(){var e=navigator.userAgent.indexOf("Trident/7.0")>-1,t=navigator.userAgent.indexOf(".NET4.0E")>-1||navigator.userAgent.indexOf(".NET CLR")>-1;return e&&t}},isDifferentPosition:function(e,t){return e.top!==t.top||e.left!==t.left},isDifferentSize:function(e,t){return e.width!==t.width||e.height!==t.height},isEmpty:function(e){if(null===e||e===!1)return!0;switch("undefined"==typeof e?"undefined":r(e)){case"undefined":return!0;case"boolean":return e===!1;case"number":return 0===e;case"string":return 0===e.length||""===e||"0"===e;case"object":return e instanceof Array?0===e.length:0===Object.getOwnPropertyNames(e).length;default:throw new Error("unexpected case: "+e)}},isLandscapeOrientation:function(){return window.innerWidth>window.innerHeight},isMobileType:function(){var e={Android:function(){return/Android/i.test(navigator.userAgent)}(),BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)}(),iOS:function(){return/iPhone|iPad|iPod|iPhone Simulator|iPad Simulator/i.test(navigator.userAgent)}(),iPad:function(){return/iPad|iPad Simulator/i.test(navigator.userAgent)}(),iPhone:function(){return/iPhone|iPod|iPhone Simulator/i.test(navigator.userAgent)}(),Opera:function(){return/Opera Mini/i.test(navigator.userAgent)}(),Windows:function(){return/IEMobile|Windows Phone/i.test(navigator.userAgent)}(),any:function(){return function(e){return!(!/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)&&!/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))}(navigator.userAgent||navigator.vendor||window.opera)}()};return e}(),isOnScreen:function(e,t){var n=!1,i="object"===("undefined"==typeof t?"undefined":r(t))?t:s.deepClone(e.getBoundingClientRect(),!0);if(i.top>-1*i.height&&i.bottom-window.innerHeight<i.height&&i.left>-1*i.width&&i.right-window.innerWidth<i.width){0===i.height&&(i.height=1),0===i.width&&(i.width=1);var o=i.height-(i.height+i.top),a=i.bottom-window.innerHeight,l=i.width-(i.width+i.left),u=i.right-window.innerWidth,c=i.height-(o>0?o:0)-(a>0?a:0),d=i.width-(l>0?l:0)-(u>0?u:0);n=d*c/(i.width*i.height)*100}return n},isset:function(e){return"undefined"!=typeof e&&null!==e},isString:function(e){return"string"==typeof e||e instanceof String},isVisible:function(e){var t=window.getComputedStyle(e);return 0===t.getPropertyValue("opacity")||"none"===t.getPropertyValue("display")||"hidden"===t.getPropertyValue("visibility")?!1:0!==parseInt(e.style.opacity,10)&&"none"!==e.style.display&&"hidden"!==e.style.visibility},mergeDefaults:function u(e,t){for(var n in t)if(t.hasOwnProperty(n))try{t[n].constructor===Object?e[n]instanceof HTMLElement||t[n]instanceof HTMLElement?e[n]=t[n]:e[n]=u(e[n],t[n]):e[n]=t[n]}catch(i){e[n]=t[n]}return e?e:t},outerHeight:function(e){if("undefined"==typeof e)return 0;var t=parseInt(e.offsetHeight,10);return e.style.marginTop&&(t+=parseInt(e.style.marginTop,10)),e.style.marginBottom&&(t+=parseInt(e.style.marginBottom,10)),t},overrideCall:function(e){return ITGS.overrideFunctions[e]&&"function"==typeof ITGS.overrideFunctions[e]?ITGS.overrideFunctions[e]:!1},pageProtocol:function(){var e=["http:","https:"];return e.indexOf(window.location.protocol)>=0?window.location.protocol:e[0]}(),parseBoolean:function(e){return"string"!=typeof e||"true"!==e.toLowerCase()&&"yes"!==e.toLowerCase()?"boolean"==typeof e?e:parseInt(e,10)>0:!0},preventDefault:function(e,t){e&&(e.preventDefault&&e.preventDefault(),e.returnValue=!1,t&&(e.cancelBubble=!0,e.cancel=!0,e.stopPropagation&&e.stopPropagation()))},processPluginsArray:function(e,t){var n,i=s.deepClone(e);if(t.isSet("overridePlugins")){var r,o=[];try{if(r=JSON.parse(t.get("overridePlugins")),a["default"].isArray(r))for(n=0;n<r.length;n+=1)o.push(r[n]);else o=[r]}catch(l){for(r=t.get("overridePlugins").split(","),n=0;n<r.length;n+=1){var u=s.trim(r[n]);if(!ITGS.Plugins.hasOwnProperty(u))throw u=u.length<=0?"(empty)":u,new KioskedException("Failed loading plugin with invalid name:",u);o.push({name:u})}}i=o}return i},promiseRace:function(t){return new e(function(e,n){for(var i=0,r=t.length;r>i;i+=1)t[i].then(e,n)})},routeSettingsOutput:function(e){var t={settings:{},targets:{}};if("[object Array]"===Object.prototype.toString.call(e)){var n=e.length;if(n>0)for(var i=0;n>i;i+=1)e[i].hasOwnProperty("key")&&e[i].hasOwnProperty("value")&&(e[i].hasOwnProperty("target")&&s.isset(e[i].target)?(t.targets.hasOwnProperty(e[i].target)||(t.targets[e[i].target]={}),t.targets[e[i].target][e[i].key]=e[i].value):t.settings[e[i].key]=e[i].value)}return t},safeDestroy:function(t){if(t)try{var n=t.destroy();if(n instanceof e)return n}catch(i){}return e.resolve()},sequence:function(){return s.compose.apply(this,Array.prototype.slice.call(arguments).reverse())},settingsDiff:function(e,t){var n=function(e,t){return e.filter(function(e){return 0===t.filter(function(t){return t.key===e.key&&t.target===e.target&&parseInt(t.targetDeviceFamily,10)===parseInt(e.targetDeviceFamily,10)}).length})},i=e.length;return{deleted:n(e,t),added:n(t,e),changed:t.filter(function(t){for(var n=0;i>n;n+=1)if(t.key===e[n].key&&t.target===e[n].target&&parseInt(t.targetDeviceFamily,10)===parseInt(e[n].targetDeviceFamily,10)&&t.value!==e[n].value)return!0;return!1}).map(function(t){for(var n=null,r=0;i>r;r+=1)if(t.key===e[r].key&&t.target===e[r].target&&parseInt(t.targetDeviceFamily,10)===parseInt(e[r].targetDeviceFamily,10)){n=e[r].value;break}return t.originalValue=n,t})}},shuffleArray:function(e){for(var t=[];e.length;)t.push(e.splice(Math.random()*e.length,1)[0]);for(;t.length;)e.push(t.pop());return e},trim:function(e){return e?e.replace(/^\s+|\s+$/g,""):""}};t["default"]=s}).call(t,n(4))},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={ANALYTICS_EVENT_NAME:"kioskedAnalytics",ANALYTICS_EVENT_NAME_PROPERTY:"name",ANALYTICS_MODULE_LOG_NAME:"KioskedAnalytics",ANALYTICS_SAMPLERATE_IMMUNE_EVENTS:["pageDataInvalid"],ANALYTICS_TARGET_DOMAIN_PRODUCTION:"//events.kiosked.com/u",ANALYTICS_TARGET_DOMAIN_STAGING:"//events.intags.com/u",BANNER_AD_Z_INDEX:10,BANNER_ANIMATION_SPEED_IN:600,BANNER_ANIMATION_SPEED_OUT:600,BANNER_CLASS_NAMES:["BannerSlotAbstract","BannerSlot","ExternalBannerSlot","FloorBannerSlot","ExpandableBannerSlot","ExpandableBannerLightBoxSlot","VastPreroll"],BANNER_COMPONENT_LOAD_STATUS:{BUILT:500,BUILT_AND_LOADED:501},BANNER_DISCLAIMER:{HEIGHT_DESKTOP:18,HEIGHT_MOBILE:20},BANNER_SIZE_STANDARDS:{HORIZONTAL:{WIDTH:728,HEIGHT:90},HORIZONTAL_SMALL:{WIDTH:468,HEIGHT:60},VERTICAL:{WIDTH:160,HEIGHT:600},MOBILE:{WIDTH:320,HEIGHT:50},MEDIUM_RECT:{WIDTH:300,HEIGHT:250},VIDEO:{WIDTH:640,HEIGHT:360},INTERSTITIAL:{WIDTH:320,HEIGHT:480}},BANNER_VIS_FRAME_Z_INDEX:5,BANNER_VIS_UPDATE_INTERVAL:400,CACHE:{ZONE_RESPONSE:!1},COUNTRY_CODE_UNKNOWN:"00",DFP_ELEMENT_PLACEMENT_ID_ATTR:"kskd-dfp-placement",DISCLAIMER_DEFAULT_LINK:"http://page.kiosked.com/who-served-this-ad",DISCLAIMER_DELAY_MAX:8e3,ELEMENT_SEARCH_MODE:{SEARCH:"search",SELECT:"select"},ELEMENT_SELECTION_MODE:{NORMAL:"normal",CUSTOM:"custom"},FIXED_BANNER_DIV_CLASS:"kskdFixedBannerContainer",FIXED_BANNER_Z_INDEX:2147483640,FLASH_PLAYER_NAME:"KskdAdPlayer_v0.2.0.swf",INTERSTITIAL_CLOSING:3,INSCROLL_DESTROY_TIMEOUT:3e3,INSCROLL_DISMISS_TRESHOLD:75,INSCROLL_DISMISS_POSSIBLE:500,INSCROLL_TRICKERY_CONTENT:2e4,IOW_AD_RESPONSE_CB:"_kskd_ad_response",IOW_AD_RESPONSE_SLOT_PREFIX:"kskd_slot_",IOW_AD_SERVER:{PRODUCTION:"//ads.kiosked.com/ad",DEVELOPMENT:"//adserving-dev.kiosked.iponweb.net/ad"},IOW_GLOBAL_NAMESPACE:"KRTB",IOW_TAGPROVIDER_GLOBAL_NAME:"KRTBTagProvider",KIOSKED_AD_ELEMENT_ID_ATTRIBUTE:"data-kioskid",LIGHTBOX_DIV_CLASS:"kskdLightBoxContainer",META_MAX_KEYWORDS:10,OPERATING_SYSTEM:{UNKNOWN:"unknown",WINDOWS:"win",MAC_OS:"mac",LINUX:"linux"},PERFORMANCE_RESOURCES_PROPS:["redirectStart","redirectEnd","domainLookupStart","domainLookupEnd","connectStart","connectEnd","secureConnectionStart","requestStart","responseStart","responseEnd","duration","fetchStart","initiatorType","name","startTime"],PLACEMENT_ANCHOR_TYPE:{BOX:"box",STUB:"stub",LAUNCHPAD:"launchpad",INTERSTITIAL:"interstitial",IN_SCROLL:"in-scroll",REWARD:"reward"},PLACEMENT_INPUT_MGR_INTERVAL:400,PLACEMENT_TYPE:{UNDEFINED:"",IN_MEDIA:"in-media",IN_LINE:"in-line",IN_SCREEN:"in-screen",IN_SCROLL:"in-scroll",INTERSTITIAL:"interstitial",REWARD:"reward"},RTB_PERCENTAGE_ATF:.5,RTB_POS:{UNKNOWN:0,ABOVE_FOLD:1,BELOW_FOLD:3},SAMPLE_RATE_PAGE_IMP:.1,SAMPLE_RATE_CONTAINER_IMP:.1,SAMPLE_RATE_CONTAINER_OPP:.1,SAMPLE_RATE_PAGE_TIMINGS:.1,SAMPLE_RATE_SEND_ALL:1,SAMPLE_RATE_VIDEO:.1,SAMPLE_RATE_WATERFALL:.1,SAMPLE_RATE_SCRIPT_STATUS_UPDATE:.1,SAMPLE_RATE_SCRIPT_INIT:.1,SAMPLE_RATE_KSKD_ERRORS:.025,SAMPLE_RATE_KSKD_MEMORY_PROFILING:.025,SETTINGS_AB_TEST_OVERRIDE_NONE:0,SETTINGS_AB_TEST_OVERRIDE_FAIL:1,SETTINGS_AB_TEST_OVERRIDE_PARTIAL:2,SETTINGS_AB_TEST_OVERRIDE_FULL:3,SETTINGS_CONDITION_VALUE:{DEFAULT:"default",ACCOUNT:"account",URI:"URI",ZONE:"zone",CSS_SELECTOR:"css-selector"},SETTINGS_DEVICE_TARGET:{ANY:0,DESKTOP:1,MOBILE:2,TABLET:3},SNIFFER_BLOCK_PARAM:"kskd-disable",SNIFFER_ELEMENT_QUEUE_DELAY:500,SNIFFER_INTERVAL:500,SNIFFER_MAX_ELEMENTS_PER_CYCLE:15,SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:5,SAMPLE_RATE_RANDOM_CURRENT:1,VAST_VIDEO_FORMAT_UNKNOWN:0,VAST_VIDEO_FORMAT_FLASH:1,VAST_VIDEO_FORMAT_HTML5:2,VERSION:"5.10.1",WATERFALL_RULE_FILTER:{DEVICE:"device_family",LOCATION:"location",OS:"os",URI:"uri"},ZONE_DATA_URL_SUFFIX:"/ssp/zone-data",ZONE_REPORT_URL_SUFFIX:"/matching-report/report"}},function(t,n,i){function r(e){return e&&e.__esModule?e:{"default":e}}function o(){return c||"production"!==e}function a(e,t,n){if(n=void 0===n?!1:n,(o()||n)&&window.console&&window.console[e]){try{console[e].apply(console,t)}catch(i){console[e](t.join(" "))}return!0}return!1}function s(e,t){return u["default"]&&u["default"].zeroPad?u["default"].zeroPad(e,t):e}Object.defineProperty(n,"__esModule",{value:!0});var l=i(42),u=r(l),c=/(\?|#|&)kioskeddebug/.test(document.location.href),d={error:function(){var e=d.getLogPrefix();if(arguments.length>0){var t=Array.prototype.slice.call(arguments,0);return t.unshift(e),a.call(this,"error",t,!0)}return!1},getLogPrefix:function(){var e=new Date;return"[Kiosked] ("+s(e.getHours(),2)+":"+s(e.getMinutes(),2)+":"+s(e.getSeconds(),2)+")"},log:function(){var e=d.getLogPrefix();if(arguments.length>0){var t=Array.prototype.slice.call(arguments,0);return t.unshift(e),a.call(this,"log",t)}return!1},warn:function(){var e=d.getLogPrefix();if(arguments.length>0){var t=Array.prototype.slice.call(arguments,0);return t.unshift(e),a.call(this,"warn",t)}return!1}};n["default"]=d},function(e,t){!function(t){function n(){}function i(e,t){return function(){e.apply(t,arguments)}}function r(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(e,this)}function o(e,t){for(;3===e._state;)e=e._value;return 0===e._state?void e._deferreds.push(t):(e._handled=!0,void f(function(){var n=1===e._state?t.onFulfilled:t.onRejected;if(null===n)return void(1===e._state?a:s)(t.promise,e._value);var i;try{i=n(e._value)}catch(r){return void s(t.promise,r)}a(t.promise,i)}))}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var n=t.then;if(t instanceof r)return e._state=3,e._value=t,void l(e);if("function"==typeof n)return void c(i(n,t),e)}e._state=1,e._value=t,l(e)}catch(o){s(e,o)}}function s(e,t){e._state=2,e._value=t,l(e)}function l(e){2===e._state&&0===e._deferreds.length&&f(function(){e._handled||h(e._value)},1);for(var t=0,n=e._deferreds.length;n>t;t++)o(e,e._deferreds[t]);e._deferreds=null}function u(e,t,n){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=n}function c(e,t){var n=!1;try{e(function(e){n||(n=!0,a(t,e))},function(e){n||(n=!0,s(t,e))})}catch(i){if(n)return;n=!0,s(t,i)}}var d=setTimeout,f="function"==typeof setImmediate&&setImmediate||function(e){d(e,1)},h=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};r.prototype["catch"]=function(e){return this.then(null,e)},r.prototype.then=function(e,t){var i=new r(n);return o(this,new u(e,t,i)),i},r.all=function(e){var t=Array.prototype.slice.call(e);return new r(function(e,n){function i(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,function(e){i(o,e)},n)}t[o]=a,0===--r&&e(t)}catch(l){n(l)}}if(0===t.length)return e([]);for(var r=t.length,o=0;o<t.length;o++)i(o,t[o])})},r.resolve=function(e){return e&&"object"==typeof e&&e.constructor===r?e:new r(function(t){t(e)})},r.reject=function(e){return new r(function(t,n){n(e)})},r.race=function(e){return new r(function(t,n){for(var i=0,r=e.length;r>i;i++)e[i].then(t,n)})},r._setImmediateFn=function(e){f=e},r._setUnhandledRejectionFn=function(e){h=e},"undefined"!=typeof e&&e.exports?e.exports=r:t.Promise||(t.Promise=r)}(this)},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(39),l=i(s),u=n(1),c=i(u),d=n(12),f=i(d),h=n(3),p=i(h),g=n(138),m=i(g),v="",y={addAttributes:function(e,t){for(var n in t)if(t.hasOwnProperty(n))try{e[n]=t[n]}catch(i){}},addEvent:function(e,t,n){if(e instanceof HTMLElement||y.isWindow(e)){e.addEventListener(t,n,!1);var i={remove:function(){y.removeEvent(e,t,n),delete i.remove}};return i}throw new KioskedException("Parameter not an instance of HTMLElement")},addEvents:function(e,t,n){var i=[];return t.split(" ").forEach(function(t){i.push(y.addEvent(e,t,n))}),i},calculateRTBPosition:function(e,t,n){var i=e.top,r=c["default"].getWindowSize().height,o=t*a["default"].RTB_PERCENTAGE_ATF;return n?a["default"].RTB_POS.ABOVE_FOLD:r>i-o?a["default"].RTB_POS.ABOVE_FOLD:a["default"].RTB_POS.BELOW_FOLD},create:function(e,t,n,i){var r=document.createElement(e);if(r.className="kskdDiv",t){if(t.className){for(var o=t.className.split(" "),a=t.design?t.design:!1,s=0;s<o.length;s+=1)l["default"].setStyle(r,o[s],a);delete t.className}t.style&&(l["default"].style(r,t.style),delete t.style),t.cssClass&&(r.className="kskdDiv "+t.cssClass),this.addAttributes(r,t)}return n&&(i&&"first"===i?n.insertBefore(r,n.firstChild):i instanceof HTMLElement&&y.isDescendant(n,i)?n.insertBefore(r,i.nextSibling):n.appendChild(r)),r},destroy:function(e){if(e instanceof HTMLElement){var t=e.parentNode;t&&t.removeChild(e)}},DOMIsReady:function(){return["interactive","complete"].indexOf(document.readyState)>=0},getAbsoluteOffsetRect:function(e){var t=e.getBoundingClientRect(),n=document.body,i=document.documentElement,r=window.pageYOffset||i.scrollTop||n.scrollTop,o=window.pageXOffset||i.scrollLeft||n.scrollLeft,a=i.clientTop||n.clientTop||0,s=i.clientLeft||n.clientLeft||0,l=t.top+r-a,u=t.left+o-s;return{top:Math.round(l),left:Math.round(u)}},getAllElementsOfType:function(e){return Array.prototype.slice.call(document.getElementsByTagName(e))},getBorderSizing:function(e){var t=document.defaultView.getComputedStyle(e,""),n=parseInt(t.borderLeftWidth,10),i=parseInt(t.borderRightWidth,10),r=parseInt(t.borderTopWidth,10),o=parseInt(t.borderBottomWidth,10),a=parseInt(t.paddingLeft,10),s=parseInt(t.paddingRight,10),l=parseInt(t.paddingTop,10),u=parseInt(t.paddingBottom,10),c=parseInt(t.marginLeft,10),d=parseInt(t.marginRight,10),f=parseInt(t.marginTop,10),h=parseInt(t.marginBottom,10);return{border:{left:n,right:i,top:r,bottom:o},margin:{left:c,right:d,top:f,bottom:h},padding:{left:a,right:s,top:l,bottom:u}}},getElementOffset:function(e,t,n){var i,r,o,a,s,l,u,c,d,f,h,p,g,m,v=0,_=0;if(!t){var E=document.defaultView.getComputedStyle(e,"");o=parseInt(E.borderLeftWidth,10),a=parseInt(E.borderRightWidth,10),s=parseInt(E.borderTopWidth,10),l=parseInt(E.borderBottomWidth,10),u=parseInt(E.paddingLeft,10),c=parseInt(E.paddingRight,10),d=parseInt(E.paddingTop,10),f=parseInt(E.paddingBottom,10),h=parseInt(E.paddingLeft,10),p=parseInt(E.paddingRight,10),g=parseInt(E.paddingTop,10),m=parseInt(E.paddingBottom,10)}n||(i=e.offsetWidth,r=e.offsetHeight);var A,b,S=e&&e.ownerDocument,I={top:0,left:0};return S&&(A=S.documentElement,e.getBoundingClientRect&&(I=e.getBoundingClientRect()),b=y.getWindow(A),v=I.top+b.pageYOffset-A.clientTop,_=I.left+b.pageXOffset-A.clientLeft),{top:v,left:_,height:r,width:i,border:{left:o,right:a,top:s,bottom:l},padding:{left:u,right:c,top:d,bottom:f},margin:{left:h,right:p,top:g,bottom:m},screen:I}},getElementsWithAttributes:function(e,t){return y.getAllElementsOfType(e).filter(function(e){for(var n in t)if(t.hasOwnProperty(n)){var i=t[n].length<=0;if(i&&!e.hasAttribute(n))return!1;if(!i&&e.getAttribute(n)!==t[n])return!1}return!0})},getImageSource:function(e){if(e instanceof HTMLImageElement){if(e.src)return e.src;if(e.srcset)return e.srcset}return""},getIntersection:function(e,t){var n=y.getScreenPosition(e),i=y.getScreenPosition(t),r={left:c["default"].getRange(n.left,i.left),top:c["default"].getRange(n.top,i.top),right:c["default"].getRange(i.left+i.width,n.left+n.width),bottom:c["default"].getRange(i.top+i.height,n.top+n.height)},o=Math.max(0,Math.min(n.left+n.width,i.left+i.width)-Math.max(n.left,i.left)),a=Math.max(0,Math.min(n.top+n.height,i.top+i.height)-Math.max(n.top,i.top)),s=o*a,l={a:n.width*n.height,b:i.width*i.height};return{area:l,cuts:r.left<0||r.right<0||r.top<0||r.bottom<0,difference:r,excluded:{a:l.a-s,b:l.b-s},intersect:{width:o,height:a},screen:{a:n,b:i}}},getMetaKeywords:function(){if(v.length>0)return v;var e=y.query("meta[name=keywords]"),t=a["default"].META_MAX_KEYWORDS;if(e.length>0){var n=e[0].getAttribute("content")||"";n=n.split(",",t);for(var i=n.length,r=0;i>r;r+=1)n[r]=c["default"].trim(n[r]);v=n.join(",")}return v},getNavigationPerfTimingValue:function(e){if(f["default"].navigationTimingSupported())try{var t="undefined"!=typeof window.performance.timing[e]?parseInt(window.performance.timing[e],10):-1;if(t>0)return t}catch(n){p["default"].error("Performance event request failed: "+e)}return!1},getResourceEntryByRegex:function(e){if(f["default"].resourcePerfSupported())try{var t=window.performance.getEntriesByType("resource").filter(function(t){return e.test(t.name)});return t}catch(n){p["default"].error("Resource performance request failed: "+e)}return!1},getPlainText:function(e,t){t=t||["script","style"];var n=function(e){return e.replace(/\t/g," ").replace(/\n/g," ").replace(/[ ]{2,}/g," ")},i=function o(e){var i="";if(e.tagName&&t.indexOf(e.tagName.toLowerCase())>=0)return i;if(e.nodeType&&3===e.nodeType&&(i+=n(e.nodeValue)),e.childNodes){var r=e.childNodes.length;if(r>0)for(var a=0;r>a;a+=1)i+=o(e.childNodes[a])}return i},r=e.cloneNode(!0);return r.innerHTML=r.innerHTML.replace(/<br>/g,"\n"),c["default"].trim(i(r))},getScreenPosition:function(e){var t=e&&e.ownerDocument,n={top:0,left:0,width:0,height:0};return t&&e.getBoundingClientRect&&(n=e.getBoundingClientRect()),n},getWindow:function(e){if(ITGS.windowObj=ITGS.windowObj?ITGS.windowObj:y.isWindow(e)?e:!1,ITGS.windowObj===!1){var t=Object.getPrototypeOf(e)===document.constructor.prototype?e:e.ownerDocument;if(!t)return!1;ITGS.windowObj=t.defaultView||t.parentWindow}return ITGS.windowObj},imageHasLoaded:function(e){if(!(e instanceof HTMLImageElement))throw new Error("Expected image type");return e.complete?"undefined"==typeof e.naturalWidth||0!==e.naturalWidth:!1},isDescendant:function(e,t){for(var n=t.parentNode;null!==n;){if(n===e)return!0;n=n.parentNode}return!1},isElement:function(e){return"object"===("undefined"==typeof HTMLElement?"undefined":r(HTMLElement))||"function"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"===("undefined"==typeof e?"undefined":r(e))&&null!==e&&1===e.nodeType&&"string"==typeof e.nodeName},isElementInDocument:function(e){for(;e!==document&&e.parentNode;)e=e.parentNode;return e===document},isVideoElement:function(e){var t=!1;return window.HTMLVideoElement&&(t=e instanceof window.HTMLVideoElement),t||(t=e.tagName?"video"===e.tagName.toLowerCase():!1),t},isWindow:function(e){var t=Object.prototype.toString.call(e);return"[object global]"===t||"[object Window]"===t||"[object DOMWindow]"===t;
},mouseIsOutside:function(e,t){for(var n=e.relatedTarget||e.toElement||e.fromElement;n&&n!==t;)n=n.parentNode;return n!==t},nodeIdentifier:function(e){var t=e,n={getElement:function(){return t},isHTMLElement:function(){return t instanceof HTMLElement},isIFrame:function(){return t instanceof HTMLIFrameElement},isImage:function(){return t instanceof HTMLImageElement},isVideo:function(){return y.isVideoElement(e)},isYoutubeContainer:function(){return!(!n.isIFrame()||!(t.src.indexOf("youtube.com")>-1||t.src.indexOf("youtu.be")>-1))},nextElementOfType:function(t){for(var n,i=e;n=i.nextSibling;){if(n instanceof t)return n;i=n}return null},previousElementOfType:function(t){for(var n,i=e;n=i.previousSibling;){if(n instanceof t)return n;i=n}return null}};return n},onDOMReady:function(e){if(y.DOMIsReady())e();else{var t=function n(){e(),document.removeEventListener("DOMContentLoaded",n,!1)};document.addEventListener("DOMContentLoaded",t,!1)}},reloadScriptsInNode:function(t){var n=[];return[].forEach.call(t.querySelectorAll("script"),function(t){n.push(new e(function(e,n){var i=document.createElement("script");i.setAttribute("type","text/javascript"),t.src&&t.src.length>0?(i.onload=e,i.onerror=function(e){n("Failed reloading script: "+t.src+" ("+e.message+")")},i.src=t.src):(i.innerHTML=t.innerHTML,setImmediate(e)),i.id=t.id||"";var r=t.nextSibling,o=t.parentNode;y.destroy(t),o.insertBefore(i,r)}))}),e.all(n)},removeEvent:function(e,t,n){if(!(e instanceof HTMLElement||y.isWindow(e)))throw new KioskedException("Parameter not an instance of HTMLElement");e.removeEventListener(t,n,!1)},triggerEvent:function(e,t){var n,i=document;i.createEvent?"click"===t?(n=i.createEvent("MouseEvents"),n.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(n)):(n=new Event(t),e.dispatchEvent(n)):(n=i.createEventObject(),e.fireEvent("on"+t,n))}};y.query=m["default"].query,y.queryFirst=m["default"].queryFirst,t["default"]=y}).call(t,n(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){this._status=new l["default"],p["default"].decorateWithStatus(this,this._status),this._pubSub=new f["default"],p["default"].decorateWithPubSub(this,this._pubSub),p["default"].decorateWithMeta(this),this._mutex=new c["default"],p["default"].decorateWithMutex(this,this._mutex)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(67),a=i(o),s=n(26),l=i(s),u=n(45),c=i(u),d=n(22),f=i(d),h=n(25),p=i(h),g=n(15),m=i(g),v=n(1),y=i(v);t["default"]=a["default"].extend({construct:function(){r.call(this)},bindMember:function(e){var t=this[e];if("function"!=typeof t)throw new KioskedException("Provided member name did not match any member function: "+e);return m["default"].bindFunction(t,this)},destroy:function(){this._pubSub.removeAll(),this.destroyed=!0},destroyMembers:function(){for(var t=Array.prototype.slice.call(arguments)||[],n=[],i=this,r=0,o=t.length;o>r;r+=1)!function(e){n.push(y["default"].safeDestroy(i[e]).then(function(){i[e]=null;try{delete i[e]}catch(t){}}))}(t[r]);return e.all(n)},isBuilt:function(){return!0}})}).call(t,n(4))},function(n,i,r){(function(n){function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var a=r(2),s=o(a),l=r(1),u=o(l),c=r(136),d=o(c),f=r(137),h=o(f),p=r(5),g=o(p),m=r(3),v=o(m),y=r(12),_=o(y),E=r(10),A=o(E),b=r(56),S=o(b),I=r(19),w=o(I),T=r(18),C=o(T),O=r(21),D=o(O),M="",P="",k=null,x=0,N={checkIfContentFit:function(){return screen.width>=window.innerWidth},generateEventHash:function(e,t){x+=1;var n=d["default"].md5(""+e+t),i=d["default"].md5(""+x+u["default"].getRandomInt(1,999999)+Date.now()+u["default"].getRandomInt(1,999999));return n+i},generatePageEventHash:function(){return P.length<=0&&(P=d["default"].md5(N.getPageUrl()+u["default"].getRandomInt(1,999999))+d["default"].md5(""+u["default"].getRandomInt(1,999999)+Date.now())),P},getAnalyticsConsumerData:function(){return{"browser.ts":_["default"].getCurrentTimestamp(),"browser.device":N.getDeviceType(),distinct_id:"",environment:e,run_id:N.generatePageEventHash(),user_agent:N.getUserAgent(),"library.version":s["default"].VERSION}},getAnalyticsPageData:function(e){return new n(function(n){var i=t.length,r=0,o=S["default"].getPageInventory();if(i>0)for(var a=0;i>a;a+=1){var l=t[a];l.isHealthy()&&(r+=1)}var c=e||C["default"].getSnifferController(),d=c.getPageProperties(),f=d.publisherID,p=d.siteID,m=N.getContainerTypesCount(),v=N.getPageUrl(),y=w["default"].processPageURL(v),_={};if(t.length>0){var E=t[0],A=E.getPlacement().getOptions();if(A.categories){var b=h["default"].getMostRelevantCategory(A.categories,"iabtier1");b&&(_=b)}}n(u["default"].mergeDefaults({"page.uri":y,"page.original_uri":v,"page.publisher_id":f,"page.album_id":p,"page.containers":r,"page.unfiltered_containers":c.getUnfilteredContainers(),"page.valid_containers":o.getValidContainers(),"page.valid_inventory":o.getValidInventory(),"library.version":s["default"].VERSION,"page.container_types.total":m.all,"page.container_types.in-content":m["in-content"],"page.container_types.in-line":m["in-line"],"page.container_types.in-screen":m["in-screen"],"page.container_types.interstitial":m.interstitial,"page.container_types.in-scroll":m["in-scroll"],"page.container_types.reward":m.reward,"page.category":_,"page.meta.keywords":g["default"].getMetaKeywords()},N.getAnalyticsConsumerData()))})},getContainerTypesCount:function(){var e,n=t.length;if(e={all:0,"in-content":0,"in-line":0,"in-screen":0,interstitial:0,"in-scroll":0,reward:0},n>0)try{for(var i=0;n>i;i+=1)if(t[i].isHealthy()){var r=t[i].getPlacement().getAnchor(),o=r.getOptions().anchorType;e.all+=1,o===s["default"].PLACEMENT_TYPE.IN_MEDIA&&(e["in-content"]+=1),o===s["default"].PLACEMENT_ANCHOR_TYPE.STUB&&(e["in-line"]+=1),o===s["default"].PLACEMENT_ANCHOR_TYPE.LAUNCHPAD&&(e["in-screen"]+=1),o===s["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL&&(e.interstitial+=1),o===s["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL&&(e["in-scroll"]+=1),o===s["default"].PLACEMENT_ANCHOR_TYPE.REWARD&&(e.reward+=1)}}catch(a){v["default"].warn("Failed counting container types",a)}return e},getDataEndpoint:function(){return M},getDeviceType:function(){var e=A["default"].isTablet(),t=A["default"].isMobile(),n=t||e?e?"tablet":"mobile":"desktop";return n},getDeviceNumericalType:function(){switch(N.getDeviceType()){case"mobile":return s["default"].SETTINGS_DEVICE_TARGET.MOBILE;case"tablet":return s["default"].SETTINGS_DEVICE_TARGET.TABLET;case"desktop":return s["default"].SETTINGS_DEVICE_TARGET.DESKTOP;default:return s["default"].SETTINGS_DEVICE_TARGET.ANY}},getImageFullURL:function(e){var t=function(e){try{return e.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")}catch(t){return e}},n=function(e){var n=document.createElement("div");return n.innerHTML='<a href="'+t(e)+'">x</a>',n.firstChild.href};return n(e)},getIOWAdServerURL:function(){return s["default"].IOW_AD_SERVER.PRODUCTION},getMetaTagByName:function(e){for(var t=document.getElementsByTagName("meta"),n=0,i=t.length;i>n;n+=1)if(t[n].getAttribute("name")===e)return t[n];return!1},getPageDomain:function(){return window.location.hostname.length>0?window.location.hostname:window.location.host},getPageUrl:function(){return document.URL+""},getPlacementIndex:function(e){var n=e.getOptions().kioskID,i=D["default"].getPlacementContainerByID(n),r=t.indexOf(i);return r>=0?r:!1},getPublisherID:function(){return k},getResourcesDomain:function(){return"production"===e?"resources.kiosked.com":"resources-staging.intags.com"},getUserAgent:function(){return navigator.userAgent},getZoneDataURL:function(){var e=N.getDataEndpoint();return e&&e.length>0?"//"+e+s["default"].ZONE_DATA_URL_SUFFIX:""},getZoneReportURL:function(){var e=N.getDataEndpoint();return e&&e.length>0?"//"+e+s["default"].ZONE_REPORT_URL_SUFFIX:""},isMobileFriendly:function(){var e=N.getMetaTagByName("viewport"),t=N.checkIfContentFit();return!!(e&&e.getAttribute("content").indexOf("width=device-width")>-1&&t)},setDataEndpoint:function(e){M=e},setPublisherID:function(e){k=e}};i["default"]=N}).call(i,r(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r);t["default"]=o["default"].extend({construct:function(){this.$super(),this.set("healthy")},destroy:function(){this.unset("healthy"),this.$super()},isHealthy:function(){return this.is("healthy")}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(119),a=i(o);t["default"]={getGrandCentralStation:function(){return r||(r=new a["default"]),r},setGrandCentralStation:function(e){r=e}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=h.getUserAgent();l=c.test(e)||d.test(e.substr(0,4))}function o(){var e=h.getUserAgent();u=f.test(e)||d.test(e.substr(0,4))}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=i(a),l=null,u=null,c=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,d=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,f=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,h={getOperatingSystem:function(){var e=h.getPlatform(),t=/(u|li)n[ui]x|X11/i;if(e&&e.length>0){var n=/^Windows|Win[a-z0-9]{2}($|[^a-z0-9])|OS\/2/i,i=/Macintosh|Mac(Intel|PPC|68K)/i;if(n.test(e))return s["default"].OPERATING_SYSTEM.WINDOWS;if(i.test(e))return s["default"].OPERATING_SYSTEM.MAC_OS;if(t.test(e))return s["default"].OPERATING_SYSTEM.LINUX}else{var r=h.getUserAgent(),o=/Windows|Win(\d{2}|NT|CE| 9x)($|[^a-z0-9])/i,a=/MacPPC|MacIntel|Mac_PowerPC|Macintosh|Mac OS X/i;if(o.test(r))return s["default"].OPERATING_SYSTEM.WINDOWS;if(a.test(r))return s["default"].OPERATING_SYSTEM.MAC_OS;if(t.test(r))return s["default"].OPERATING_SYSTEM.LINUX}return s["default"].OPERATING_SYSTEM.UNKNOWN},getPlatform:function(){return window.navigator.platform||""},getUserAgent:function(){return""+(navigator.userAgent||navigator.vendor||window.opera)},isMobile:function(e){return(null===l||e)&&r(),l},isTablet:function(e){return(null===u||e)&&o(),u&&!h.isMobile()}};t["default"]=h},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={createSorter:{forObjectNumberProperty:function(e){return function(t,n){var i=parseInt(t[e],10),r=parseInt(n[e],10);return i>r?1:r>i?-1:0}}},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=window.performance&&window.performance.timing&&window.performance.navigation,i=window.performance&&window.performance.getEntriesByType&&window.performance.getEntriesByType("resource")instanceof Array,r=window.performance&&window.performance.memory;t["default"]={getCurrentTimestamp:function(){return Number((new Date).getTime())},getMemoryProfiling:function(){var e=window.performance.memory,t={};return["jsHeapSizeLimit","totalJSHeapSize","usedJSHeapSize"].forEach(function(n){t[n]=e[n]}),t},memoryProfilingSupported:function(){return r},navigationTimingSupported:function(){return n},resourcePerfSupported:function(){return i}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=i(r),a=n(1),s=i(a);t["default"]=o["default"].extend({construct:function(e,t){this.$super(),this._options=s["default"].mergeDefaults({name:"AbstractInput",kioskID:0,order:0},e),this._lastPlacement=null,this._settings=t},getLastPlacement:function(){return this._lastPlacement},getOptions:function(){return this._options},getSettings:function(){return this._settings},process:function(e){this._lastPlacement=e}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r),a={calculateActualAdSize:function(e,t,n){var i=a.calculateScale(e,t,n);return{width:Math.floor(t.width*i),height:Math.floor(t.height*i)}},calculateAdSize:function(e,t,n,i){if(n){var r=a.calculateScale(e,t,i);return{width:Math.floor(t.width*r),height:Math.floor(t.height*r)}}return o["default"].deepClone(t)},calculateScale:function(e,t,n){n=o["default"].isset(n)?n:!0;var i=n?e.width:e.height,r=n?t.width:t.height;return i/r}};t["default"]=a},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;n+=1)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16-(n-e)),r=window.setTimeout(function(){t(n+i)},i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}(),t["default"]={bindFunction:function(e,t){if("function"!=typeof e)throw new TypeError("bindFunction - what is trying to be bound is not callable");var n=Array.prototype.slice.call(arguments,2),i=function(){},r=function(){return e.apply(this instanceof i&&t?this:t,n.concat(Array.prototype.slice.call(arguments)))};return i.prototype=e.prototype,r.prototype=new i,r},isLocalStorageNameSupported:function(){var e="test",t=window.localStorage;try{return t.setItem(e,"1"),t.removeItem(e),!0}catch(n){return!1}}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(132),a=i(o);t["default"]={getStyling:function(){return r||(r=new a["default"]),r},setStyling:function(e){r=e}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e=l["default"].trim(e),e.length>0?("."===e[0]&&(e=e.substr(1)),"."===e[e.length-1]&&(e=e.substr(0,e.length-1)),e.split(".")):[e]}function o(e){var t,n,i,r={};for(var o in e)if(e.hasOwnProperty(o)){t=r,n=o.split(".");for(var a=n.pop();n.length;)i=n.shift(),t=t[i]=t[i]||{};t[a]=e[o]}return r}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=i(s),u=function c(e){if(e=e||{},this._settingsObj=e,"object"!==a(this._settingsObj))throw new KioskedException("Invalid settings item");if(this._settingsObj instanceof c)throw new KioskedException("Creating settings object from KModel instance is not supported");this._settingsObj=o.call(this,this._settingsObj),this._settingsObj=l["default"].deepFreeze(this._settingsObj)};u.prototype.clone=function(){return new u(this.getSettingsObject())},u.prototype.get=function(e,t){if(-1!==e.indexOf(".")){var n=r.call(this,e);if(this._settingsObj.hasOwnProperty(n[0])){var i=this.getSubset(n[0]);n=n.splice(1);var o=n.join(".");return i.get(o,t)}return t}return this._settingsObj.hasOwnProperty(e)?this._settingsObj[e]:t},u.prototype.getBool=function(e,t){var n,i=this.get(e,t),r="true"===i||"false"===i,o=i===!0||i===!1;return r?n="true"===i:o&&(n=i),l["default"].isset(n)||(n=l["default"].isset(t)?!!t:!!i),"undefined"==typeof n?!1:n},u.prototype.getInt=function(e,t){t=l["default"].isset(t)?t:0;var n=parseInt(this.get(e,t),10);return isNaN(n)||void 0===n?t:n},u.prototype.getFloat=function(e,t){t=l["default"].isset(t)?t:0;var n=parseFloat(this.get(e,t));return isNaN(n)||void 0===n?t:n},u.prototype.getSettingsObject=function(){return l["default"].deepClone(this._settingsObj)},u.prototype.getSubset=function(e){if(-1!==e.indexOf(".")){var t=r(e);if(this._settingsObj.hasOwnProperty(t[0])){var n=this.getSubset(t[0]);t=t.splice(1);var i=t.join(".");return n.getSubset(i)}return new u({})}return new u(this._settingsObj.hasOwnProperty(e)?this._settingsObj[e]:{})},u.prototype.isSet=function(e){if(-1===e.indexOf("."))return this._settingsObj.hasOwnProperty(e);var t=r(e);if(this._settingsObj.hasOwnProperty(t[0])){var n=this.getSubset(t[0]);t=t.splice(1);var i=t.join(".");return n.isSet(i)}return!1},u.prototype.mergeSettings=function(e,t){if(e instanceof u)return this.mergeSettings(e.getSettingsObject(),t);var n=l["default"].deepClone(this._settingsObj,!1);if(t=l["default"].isset(t)?!!t:!0,"object"===("undefined"==typeof e?"undefined":a(e)))return n=t?l["default"].mergeDefaults(n,e):l["default"].mergeDefaults(e,n),new u(n);throw new KioskedException("Invalid settings merge source")},t["default"]=u},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=null;t["default"]={getSnifferController:function(){return n},setSnifferController:function(e){n=e}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(32),s=i(a),l=n(1),u=i(l),c=n(5),d=i(c),f=n(7),h=i(f),p=n(12),g=i(p),m=["style","kioskedhash_development","kioskedhash_staging","kioskedhash_production"];t["default"]={createElementHash:function(e,t,n){u["default"].isset(t)||(t=0);var i=u["default"].hash(this.processPageURL(h["default"].getPageUrl()).toLowerCase()),r="";return r=e instanceof HTMLImageElement?this.processImageURL(d["default"].getImageSource(e)):this.elementAsString(e,m),r+=t.toString(),r=u["default"].hash(r.toLowerCase()),n+"_"+i+"_"+r},checkFreqMin:function(e,t){if(t>0&&s["default"].storageAvailable()){var n=s["default"].get(e)||0,i=g["default"].getCurrentTimestamp();return i-n>60*t*1e3?(s["default"].set(e,i),!0):!1}return!1},resetFreqMin:function(e){s["default"].set(e,0)},elementAsString:function(e,t){if(e instanceof HTMLElement!=!0)throw new KioskedException("Argument must be of type HTMLElement");t=t||m;var n,i=e.tagName.toLowerCase(),r=e.attributes,o=r.length,a={},s=[];for(n=0;o>n;n+=1){var l=r[n].name;t.indexOf(l)>=0||s.push(l)}s.sort();var u=s.length;for(n=0;u>n;n+=1)a[s[n]]=e.getAttribute(s[n]);return i+=" "+JSON.stringify(a)},elementHashIsValid:function(e){var t=new RegExp("^[0-9]{1,6}_[A-Za-z0-9]{8}_[A-Za-z0-9]{8}$");return u["default"].isString(e)&&t.test(e)},getMaximumItemsPerRound:function(){return u["default"].isBrowser.internetExplorer11()?o["default"].SNIFFER_MAX_ELEMENTS_PER_CYCLE_STEADY:o["default"].SNIFFER_MAX_ELEMENTS_PER_CYCLE},getPageType:function(){var e=0,t=0,n=0,i=document.getElementsByTagName("img"),r=0,o=0;for(n=0;n<i.length;n+=1)i[n].offsetHeight>250&&i[n].offsetWidth>300&&(r+=1);for(n=0;n<i.length;n+=1)i[n].offsetHeight>100&&i[n].offsetWidth>180&&(o+=1);3>r&&(e+=10),o>20&&(t+=20);var a=document.getElementsByTagName("h1");a.length>3&&(t+=20);var s=document.getElementsByTagName("h2");s.length>3&&(t+=10);var l=document.getElementsByTagName("h3");return l.length>50&&(t+=30),t>e?"index":"article"},getSnifferItemSkeleton:function(){return{categories:null,context:null,element:null,hash:"",node:null,plugins:[]}},highlightAnalyzedElement:function(e,t,n){if(n&&(t=t.toLowerCase(),e instanceof HTMLElement))switch(t){case"target":e.style.border="solid 8px #00FF00";break;case"title":e.style.backgroundColor="#0000FF",e.style.color="#FFF";break;case"content":e.style.backgroundColor="#FF0000"}},choosePriorityCappingSlot:function(e){for(var t=0,n=e.length;n>t;t+=1)if(e[t].requiresFreq===!1||this.checkFreqMin(e[t].freqKey,e[t].freqMin))return e[t].divName},processDOMModifications:function(e){e._bodyHTMLCollection=null;var t=e.getSettings();if(t){var n,i=[],r=t.getInt("ui.media.Banner.interstitialFreqMin",0),o=t.getInt("ui.media.Banner.inScrollFreqMin",0),a=t.getBool("ui.media.Banner.showFloorBanner",!1),s=t.getInt("ui.media.Banner.floorBannerFreqMin",0);if("undefined"!=typeof window.ITGSInScrollForce&&window.ITGSInScrollForce===!0)i.push("kskdInScroll");else{var l=[{divName:"kskdInterstitial",freqKey:"kskdInterstitialFreqMin",freqMin:r,enabled:r>0,requiresFreq:!0},{divName:"kskdInScroll",freqKey:"kskdInScrollFreqMin",freqMin:o,enabled:o>0,requiresFreq:!0},{divName:"kskdFooter",freqKey:"kskdFloorBannerFreqMin",freqMin:s,enabled:a,requiresFreq:!1}].filter(function(e){return e.enabled}),u=this.choosePriorityCappingSlot(l);"string"==typeof u&&("kskdFooter"===u&&a||"kskdFooter"!==u)&&i.push(u)}if(i.length>0){var c=5e3,d=100,f=e,h=function(){var e=!1;try{for(var t=0,r=i.length;r>t;t+=1)f._bodyHTMLCollection=document.createElement("div"),document.body.appendChild(f._bodyHTMLCollection),f._bodyHTMLCollection.innerHTML+='<div style="width: 5px; height: 5px" id='+i[t]+"></div>"}catch(o){e=!0}if(e===!1)clearInterval(n);else if(c-=d,0>=c)throw clearInterval(n),new Error("Sniffer DOM modification never succeeded")};n=setInterval(h,d),h()}}},processImageURL:function(e){var t=u["default"].overrideCall("SnifferUtilities.processImageURL");return t?t(e):e},processPageURL:function(e){var t=u["default"].overrideCall("SnifferUtilities.processPageURL");return t?t(e):e.replace(/#.*$/,"")}}},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=this.getLimit(e,t);if(n>0){var i=this.getCount(e,t);return i===n}return!1}function o(e,t){var n=this.getLimit(e,t);if(n>0){var i=this.getCount(e,t);return n>i}return!0}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=i(a),l=s["default"].extend({construct:function(){this.$super(),this._limits={anchor:{},adFill:{}},this._counts={anchor:{},adFill:{}}},applyLimit:function(e,t,n){this._limits[e][t]=n},deregisterCount:function(e,t,n){if(this._counts[e][t]&&this._counts[e][t][n]){var i=r.call(this,e,t);this._counts[e][t][n]=!1,delete this._counts[e][t][n],i&&this.publish("slotOpen",{type:e,subType:t})}},destroy:function(){this._limits={},this._counts={},this.$super()},getCount:function(e,t){var n=0;if(this._counts[e]&&this._counts[e].hasOwnProperty(t)){var i=this._counts[e][t];for(var r in i)i.hasOwnProperty(r)&&i[r]===l.ItemState.Online&&(n+=1)}return n},getItemState:function(e,t,n){return this._counts[e]&&this._counts[e][t]&&this._counts[e][t][n]?this._counts[e][t][n]:l.ItemState.Unknown},getLimit:function(e,t){return this._limits[e]&&this._limits[e].hasOwnProperty(t)?this._limits[e][t]:0},registerCount:function(e,t,n){if(this.getItemState(e,t,n)===l.ItemState.Online)return!0;this._counts[e][t]=this._counts[e][t]||{};var i=o.call(this,e,t);return this._counts[e][t][n]=i?l.ItemState.Online:l.ItemState.InQueue,i},waitForSlot:function(t,n,i){var r=this;return new e(function(e){r.subscribe("slotOpen",function(o){if(o.type===t&&o.subType===n){var a=r.registerCount(t,n,i);a&&e()}})})}});l.InstanceType={Anchor:"anchor",AdFill:"adFill"},l.ItemState={Online:"online",InQueue:"queue",Unknown:"unknown"},t["default"]=l}).call(t,n(4))},function(e,n){Object.defineProperty(n,"__esModule",{value:!0}),n["default"]={getPlacementContainerByID:function(e){for(var n=0,i=t.length;i>n;n+=1)if(t[n].getPlacement().getOptions().kioskID===e)return t[n];return!1}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){this._topics={}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o);r.prototype.onEvents=function(){var e=Array.prototype.slice.call(arguments),t=this;return{publishOn:function(n){e.forEach(function(e){t.subscribe(e,function(t){n&&n.publish&&n.publish(e,t)})})}}},r.prototype.publish=function(e,t,n){this._topics.hasOwnProperty(e)&&(t=t||null,a["default"].isset(n)||(n=!0),this._topics[e].forEach(function(e){n?setImmediate(function(){e(t)}):e(t)}))},r.prototype.removeAll=function(){this._topics={}},r.prototype.subscribe=function(e,t){this._topics.hasOwnProperty(e)||(this._topics[e]=[]),this._topics[e].push(t);var n=this;return{remove:function(){n._topics.hasOwnProperty(e)&&n._topics[e].splice(n._topics[e].indexOf(t),1)}}},t["default"]=r},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e.kioskID.length<=0)throw new Error("Kiosk ID was empty")}function o(){g["default"].isMobile()?this.set("mobileAnchor"):this.set("desktopAnchor")}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=i(a),l=n(8),u=i(l),c=n(16),d=i(c),f=n(1),h=i(f),p=n(10),g=i(p),m=n(5),v=i(m),y=50;t["default"]=u["default"].extend({construct:function(e,t){this.$super(),t=t||{},this._options=h["default"].mergeDefaults({anchorType:!1,disclaimer:null,kioskID:"",placementType:null,refreshEnabled:!0,scaleEnabled:!0},t),r(this._options),this.addStatus("visible"),this.addStatus("beenVisible"),this.addStatusSet(["desktopAnchor","mobileAnchor"]),this._targetElement=e,this._anchorElement=null,this._adContainerElement=null,this._visibilityDetectionFrame=null,this._disclaimer=null,this._RTBPosition=s["default"].RTB_POS.UNKNOWN,d["default"].getStyling().placeHeaderStylesheetWithNamespace("clearStyles_"+this.getOptions().kioskID,this.getOptions().kioskID),o.call(this)},destroy:function(){this.unset("visible"),this._disclaimer&&this._disclaimer.destroy(),this._anchorElement&&(this._anchorElement.style.display="none",this._anchorElement=null,this._adContainerElement=null,this._visibilityDetectionFrame=null),this.$super()},appendAdElement:function(e){this.getAdContainerElement().appendChild(e)},applyPosition:function(e){var t=this.getAdContainerElement();t.style.left=e.left+"px",t.style.top=e.top+"px"},buildVisibilityDetectionFrame:function(){},createAnchorElement:function(){if(null===this._anchorElement){var e=this.getOptions().kioskID;this._anchorElement=v["default"].create("div",{cssClass:"kskdCls",style:{position:"relative",display:"block",width:"0px",height:"0px",clear:"both"},id:"kskd"+e})}},createContainerElement:function(){null===this._adContainerElement&&(this._adContainerElement=v["default"].create("div",{},this.getAnchorElement()),d["default"].getStyling().selectStyle("AdContainerElement").applyToElement(this._adContainerElement))},getAdContainerElement:function(){return this._adContainerElement},getAnchorElement:function(){return this._anchorElement},getDisclaimer:function(){return this._disclaimer},getOptions:function(){return this._options},getRTBPosition:function(){return this._RTBPosition},getTargetElement:function(){return this._targetElement},getVisibilityDetectionFrame:function(){return this._visibilityDetectionFrame},isVisible:function _(){var e=this.getVisibilityDetectionFrame();if(e){var t=h["default"].isOnScreen(this._visibilityDetectionFrame),_=t!==!1&&t>=y;return _?(this.set("visible"),this.set("beenVisible")):this.unset("visible"),_}return!1},prepareDisclaimer:function(){var e=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer,this._disclaimer.mountInto(e)},setRTBPosition:function(e){this._RTBPosition=e},updateLayout:function(e){var t=this.getAdContainerElement();t.style.width=e.width+"px",t.style.height=e.height+"px"}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){try{var n=window.getComputedStyle(t).cursor;""!==n&&"auto"!==n?e.style.cursor=n:"a"===t.tagName.toLowerCase()&&(e.style.cursor="pointer")}catch(i){p["default"].warn("/PlacementBoxAnchor/","Failed handling cursor for target element")}f["default"].addEvent(e,"click",function(){f["default"].triggerEvent(t,"click")})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(23),l=i(s),u=n(1),c=i(u),d=n(5),f=i(d),h=n(3),p=i(h),g=n(14),m=i(g),v=n(39),y=i(v);t["default"]=l["default"].extend({construct:function(e,t){this.$super(e,c["default"].mergeDefaults({anchorType:a["default"].PLACEMENT_ANCHOR_TYPE.BOX,placementType:a["default"].PLACEMENT_TYPE.IN_MEDIA},t)),this._insertionElement=this.getTargetElement().parentNode,this._insertionTargetElement=this.getTargetElement(),this._orientation="";try{"a"===this._insertionElement.tagName.toLowerCase()&&(this._insertionTargetElement=this._insertionElement,this._insertionElement=this._insertionElement.parentNode)}catch(n){p["default"].warn("/PlacementBoxAnchor/","Failed detecting insertion-element tag name")}},buildVisibilityDetectionFrame:function(e){null===this._visibilityDetectionFrame&&(this._visibilityDetectionFrame=f["default"].create("div"),this._visibilityDetectionFrame.className+=" kskdVis",this._visibilityDetectionFrame.style.zIndex=a["default"].BANNER_VIS_FRAME_Z_INDEX,this._orientation=e,"vertical"===e?y["default"].style(this._visibilityDetectionFrame,{position:"absolute",right:"0px",top:"0px",bottom:"0px"}):y["default"].style(this._visibilityDetectionFrame,{position:"absolute",bottom:"0px",left:"0px",right:"0px"}))},createAnchorElement:function(){this.$super();var e=this.getAnchorElement();e.id="kskd"+this.getOptions().kioskID,this.getInsertionElement().insertBefore(e,this.getInsertionTargetElement().nextSibling)},createContainerElement:function(){this.$super(),r.call(this,this.getAdContainerElement(),this.getInsertionTargetElement())},getInsertionElement:function(){return this._insertionElement},getInsertionTargetElement:function(){return this._insertionTargetElement},prepareDisclaimer:function(){this.$super()},updateLayout:function(e,t){this.$super(e,t);var n,i=this.getVisibilityDetectionFrame();i&&("vertical"===this._orientation?(n=m["default"].calculateScale(e,t,!1),i.style.width=n*t.width+"px"):(n=m["default"].calculateScale(e,t,!0),i.style.height=t.height*n+"px"))}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(26),a=i(o);t["default"]={decorateWithMeta:function(e){if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new KioskedException("Parameter expected to be of type object");e._metaStore={},e.getMeta=function(e,t){return this._metaStore.hasOwnProperty(e)?this._metaStore[e]:t},e.setMeta=function(e,t){this._metaStore[e]=t}},decorateWithMutex:function(e,t){if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new KioskedException("Target is not an object");e.isLocked=function(){return t.isLocked.apply(t,arguments)},e.lock=function(){
return t.lock.apply(t,arguments)},e.lockMany=function(){return t.lockMany.apply(t,arguments)},e.unlock=function(){return t.unlock.apply(t,arguments)}},decorateWithPubSub:function(e,t){if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new KioskedException("Target is not an object");e.onEvents=function(){return t.onEvents.apply(t,arguments)},e.publish=function(){return t.publish.apply(t,arguments)},e.removeSubscriptions=function(){return t.removeAll.apply(t,arguments)},e.subscribe=function(){return t.subscribe.apply(t,arguments)}},decorateWithStatus:function(e,t){if("object"!==("undefined"==typeof e?"undefined":r(e)))throw new KioskedException("Parameter expected to be of type object");if(t instanceof a["default"]!=!0)throw new KioskedException("Expected parameter to be of type Status");e.is=function(){return t.is.apply(t,arguments)},e.isNot=function(){return t.isNot.apply(t,arguments)},e.has=e.is,e.hasNot=e.isNot,e.set=function(){e.publish&&e.publish("statusSet",Array.prototype.slice.call(arguments)),t.set.apply(t,arguments)},e.unset=function(){return e.publish&&e.publish("statusUnset",Array.prototype.slice.call(arguments)),t.unset.apply(t,arguments)},e.addStatus=function(e){return t.registerStatus(e)},e.addStatusSet=function(){t.addSelection.apply(t,arguments)}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=function i(){return!this instanceof i?new i:(this._selectorsBin=[],this._selectors={},this._statuses={},this)};n.prototype.addSelection=function(e,t){if("[object Array]"!==Object.prototype.toString.call(e))throw new TypeError("Expected array");var n=e.length;if(0>=n)throw new Error("Empty options array");if(t||(t=e[0]),e.indexOf(t)<0)throw new Error("Default not in options array");for(var i=0;n>i;i+=1)if(this.statusExists(e[i]))throw new Error("Cannot register status '"+e[i]+"' - already exists");for(var r=this._selectorsBin.push(e)-1,o=0;n>o;o+=1)if(this.registerStatus(e[o],r)!==!0)throw new Error("Failed registering status: '"+e[o]+"'");this.set(t)},n.prototype.is=function(){var e=arguments.length;if(e>0){for(var t=0;e>t;t+=1)if(!this.statusSet(arguments[t]))return!1;return!0}return!1},n.prototype.isNot=function(){var e=arguments.length;if(e>0){for(var t=0;e>t;t+=1)if(this.statusSet(arguments[t]))return!1;return!0}return!1},n.prototype.isSelector=function(e){return this.statusExists(e)&&this._selectors[e]>-1},n.prototype.registerStatus=function(e,t){return null!==t&&void 0!==t||(t=-1),"string"!=typeof e||this._selectors.hasOwnProperty(e)?!1:(this._selectors[e]=t,!0)},n.prototype.set=function(){var e=arguments.length;if(e>0)for(var t=0;e>t;t+=1)this.setStatus(arguments[t])},n.prototype.setStatus=function(e){if(this.statusExists(e))if(this.isSelector(e)){var t=this._selectors[e],n=this._selectorsBin[t].slice(0);n.splice(n.indexOf(e),1);for(var i=n.length,r=0;i>r;r+=1)if(this._statuses.hasOwnProperty(n[r])&&(delete this._statuses[n[r]],this._statuses[n[r]]))throw new Error("Failed disabling status: '"+n[r]+"'");this._statuses[e]=!0}else this._statuses[e]=!0;else this.registerStatus(e),this._statuses[e]=!0},n.prototype.statusExists=function(e){return this._selectors.hasOwnProperty(e)},n.prototype.statusSet=function(e){return this.statusExists(e)&&this._statuses[e]},n.prototype.unset=function(){var e=arguments.length;if(e>0){for(var t=!0,n=0;e>n;n+=1)this.unsetStatus(arguments[n])!==!0&&(t=!1);return t}return!1},n.prototype.unsetStatus=function(e){if(this.statusExists(e)){if(this.isSelector(e))throw new Error("Cannot unset optioned status: '"+e+"'");if(delete this._statuses[e],this._statuses[e])throw new Error("Failed disabling status: '"+e+"'");return!0}return!1},t["default"]=n},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(74),o=i(r),a=n(9),s=i(a),l=n(1),u=i(l),c=n(3),d=i(c);t["default"]=o["default"].extend({construct:function(e,t){t=u["default"].mergeDefaults({name:"AdFillBanner",sourceURL:""},t),this.$super(e,t)},setup:function(e,t){var n=this,i=this.getAnchor().getOptions().kioskID,r=s["default"].getGrandCentralStation(),o=function(){r.dispatch("timingEvent",{name:"bannerCreated",properties:{kioskID:i}}),n.publish("waterfallTrickle",{waterfall:e})};return this.$super(e,t).then(function(){return n.updateAdElement(e,t)}).then(function(t){var i=e.getCurrentStep();return i?n.setProportions(i.proportions):d["default"].warn("/AdFillBanner/","No step from waterfall"),t}).then(function(t){if(!t)throw new KioskedException("No ad element was created");return n._adElement=t,n._adElement.subscribe("fallback",function(){r.publish("networkFallbackInitiated",{fallback:!0,container_id:i},!1)}),n.getOptions().viewabilityEnabled===!0&&0===e.getCurrentStepIndex()?(n._adElement.bundleApplicator(o),n.set("loaded")):(o(),n._adElement.applyInitialisation().then(function(){n.set("loaded")})),n._adElement})},updateLayout:function(){this.$super();var e;try{e=this.getAdElement().getScalingElement()}catch(t){}e&&(e.style.transformOrigin="0% 100%",e.style.msTransformOrigin="0% 100%",e.style.WebkitTransformOrigin="0% 100%",e.style.OTransformOrigin="0% 100%",e.style.visibility="visible",e.style.display="block",e.style.position="absolute",e.style.bottom="0px",e.style.left="0px",e.style.marginBottom="0px")}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(110),a=i(o);t["default"]={getIOWManager:function(){return r||(r=new a["default"]),r},setIOWManager:function(e){r=e}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(20),o=i(r),a=new o["default"];t["default"]={getSharedInstance:function(){return a}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=["externalbannerslot","floorbannerslot","vastpreroll","bannerslot"],s={convertAnchorTypeToPlacementType:function(e){return e===o["default"].PLACEMENT_ANCHOR_TYPE.STUB?o["default"].PLACEMENT_TYPE.IN_LINE:e===o["default"].PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?o["default"].PLACEMENT_TYPE.IN_SCREEN:e===o["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?o["default"].PLACEMENT_TYPE.INTERSTITIAL:e===o["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL?o["default"].PLACEMENT_TYPE.IN_SCROLL:e===o["default"].PLACEMENT_ANCHOR_TYPE.REWARD?o["default"].PLACEMENT_TYPE.REWARD:o["default"].PLACEMENT_TYPE.IN_MEDIA},fetchSinglePluginName:function(e){for(var t=e.split(","),n=0,i=t.length;i>n;n+=1){var r=t[n].trim().toLowerCase();if(a.indexOf(r)>=0)return r}return""},resolveAnchorTypeForSettings:function(e){var t=!1,n=e.get("ui.media.overridePlugins","bannerslot").trim();return n.length>0&&(n.indexOf(",")>=0&&(n=s.fetchSinglePluginName(n)),t="externalbannerslot"===n.toLowerCase()?o["default"].PLACEMENT_ANCHOR_TYPE.STUB:"floorbannerslot"===n.toLowerCase()?o["default"].PLACEMENT_ANCHOR_TYPE.LAUNCHPAD:"vastpreroll"===n.toLowerCase()?o["default"].PLACEMENT_ANCHOR_TYPE.STUB:"interstitial"===n.toLowerCase()?o["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL:"inscroll"===n.toLowerCase()?o["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL:"reward"===n.toLowerCase()?o["default"].PLACEMENT_ANCHOR_TYPE.REWARD:o["default"].PLACEMENT_ANCHOR_TYPE.BOX),t}};t["default"]=s},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(3),l=i(s),u=n(11),c=i(u),d=n(41),f=i(d),h=a["default"].isBrowser.internetExplorer9(),p={getAjaxAppliance:function(){var e=["Msxml2.XMLHTTP","Microsoft.XMLHTTP"];if(h)return new window.XDomainRequest;if(window.XMLHttpRequest)return new XMLHttpRequest;if(window.ActiveXObject)for(var t=0;t<e.length;t+=1)try{return new window.ActiveXObject(e[t])}catch(n){}return!1},sendRequest:function(t){t=t||{};var n="POST";if(!t.hasOwnProperty("destination"))throw new KioskedException("Destination is required for ajax request");if(t.method){if(!(["POST","GET"].indexOf(t.method.toUpperCase())>=0))throw new KioskedException("Unsupported request method: "+t.method);n=t.method.toUpperCase()}else l["default"].log("/Communication/","No request method specified, using default:",n);t.hasOwnProperty("data")&&"GET"!==n||(t.data=null),t.data&&("object"===r(t.data)||c["default"].isArray(t.data))&&(t.data=f["default"].formURLStringFromParameters(t.data,["ENCODE_VALUE"]));var i=t.hasOwnProperty("appliance")?t.appliance:p.getAjaxAppliance();if(i===!1||!a["default"].isset(i))throw new KioskedException("Unable to find ajax appliance");var o=new e(function(e,n){i.onreadystatechange=function(){4===i.readyState&&(200===i.status?(e(i.responseText),t.callback&&t.callback(i.responseText)):(n(i.statusText),t.errorCallback&&t.errorCallback(i.statusText)))}});return h&&(i.onprogress=function(){},o=new e(function(e,n){i.onload=function(){e(i.responseText),t.callback&&t.callback(i.responseText)},i.onerror=i.ontimeout=function(){n(i.statusText),t.errorCallback&&t.errorCallback()}}),t.destination=t.destination.replace(/^https?:/,""),t.destination=window.location.protocol+t.destination),i.open(n,t.destination,!0),i.withCredentials=t.hasOwnProperty("withCredentials")?t.withCredentials:!0,h||i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(t.data),o}};t["default"]=p}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),o=i(r),a=o["default"].isLocalStorageNameSupported();t["default"]={get:function(e){return this.storageAvailable()?window.localStorage.getItem(e)||null:null},set:function(e,t){return this.storageAvailable()?(window.localStorage.setItem(e,t),!0):!1},storageAvailable:function(){return a},remove:function(e){return this.storageAvailable()?(window.localStorage.removeItem(e),!0):!1}}},function(e,n,i){(function(e){function r(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var o=i(3),a=r(o),s=i(21),l=r(s),u=i(18),c=r(u),d={};d.destroyPlacement=function(e){var t=e.getOptions().kioskID,n=l["default"].getPlacementContainerByID(t);n?d.destroyPlacementContainer(n):a["default"].warn("/Destructors/","Could not find placement container for destruction: "+t)},d.destroyPlacements=function(){for(var n=t.length,i=e.resolve(),r=0;n>r;r+=1){var o=t[r];try{i=i.then(d.destroyPlacementContainer(o))}catch(s){a["default"].warn("Failed destroying placement:",o)}}return i.then(function(){t=[]})},d.destroySniffer=function(){var e=c["default"].getSnifferController();if(e)try{e.destroy(),c["default"].setSnifferController(null)}catch(t){a["default"].error("/Destructors/","Failed destroying sniffer")}},d.destroyPlacementContainer=function(n){var i=!1,r=e.resolve();try{i=n.getPlacement().getOptions().kioskedZoneID,r=r.then(n.destroy())}catch(o){a["default"].warn("/Destructors/","Failed destroying placement container")}return r.then(function(){if(!("string"==typeof i&&i.length>0))throw new KioskedException("Invalid Kiosked zone ID, unable to destroy container");if(!(t&&t instanceof Array))throw new KioskedException("Global placement container collection not found");var e=t.indexOf(n);e>=0?t.splice(e,1):a["default"].warn("/Destructors/","Unable to locate placement container in global collection")})},d.destroyNamespace=function(e){var t=e||function(){};d.destroySniffer(),d.destroyPlacements(),setTimeout(function(){window.ITGS=null;try{delete window.ITGS}catch(e){}t()},500)},n["default"]=d}).call(n,i(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(40),s=i(a),l=o["default"].extend({construct:function(e,t){this.$super(),t=t||{},this._element=e,this._fromCache=t.hasOwnProperty("fromCache")?t.fromCache:!1},destroy:function(){this.$super()},getElement:function(){return this._element},getSource:function(){return this._element.getAttribute("src")},getQueryParameters:function(){var e=this.getSource(),t=new s["default"](e);return t.getQueryParameters()},isFromCache:function(){return this._fromCache}});l.createAndInsert=function(t){var n=document.createElement("script");return n.src=t,new e(function(e,t){n.onload=function(){e(new l(n))},n.onerror=t,window.document.body.appendChild(n)})},t["default"]=l}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(1),s=i(a);t["default"]=o["default"].extend({construct:function(e){this.$super(),this._gcs=null,this._options=s["default"].mergeDefaults({name:"MessageHandlerAbstract"},e||{})},canHandleMessage:function(){return!1},captures:function(){return!1},getGCS:function(){return this._gcs},getOptions:function(){return this._options},handleMessage:function(){},setGCS:function(e){this._gcs=e}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(23),s=i(a),l=n(16),u=i(l),c=n(1),d=i(c),f=n(5),h=i(f);t["default"]=s["default"].extend({construct:function(e,t){this.$super(e,d["default"].mergeDefaults({anchorType:o["default"].PLACEMENT_ANCHOR_TYPE.LAUNCHPAD,placementType:o["default"].PLACEMENT_TYPE.IN_SCREEN},t)),this._fixedContainer=null},appendAdElement:function(e){this._fixedContainer.appendChild(e)},applySize:function(e){this.$super(e),this.getFixedContainerElement().style.height=e.height+"px"},createAnchorElement:function(){this.$super();var e=this.getAnchorElement();document.body.appendChild(e)},createContainerElement:function(){this.$super(),this._fixedContainer=h["default"].create("div",{},document.body),u["default"].getStyling().selectStyle("BannerFooterContainer").applyToElement(this._fixedContainer),this._fixedContainer.className+=" "+o["default"].FIXED_BANNER_DIV_CLASS,this._fixedContainer.style.zIndex=o["default"].FIXED_BANNER_Z_INDEX,this.getAnchorElement().appendChild(this._fixedContainer),this._fixedContainer.appendChild(this._adContainerElement),this._adContainerElement.style.margin="0px auto",this._adContainerElement.style.position="relative"},getFixedContainerElement:function(){return this._fixedContainer},isVisible:function(){return this.set("visible"),this.set("beenVisible"),!0},prepareDisclaimer:function(){var e=this.getAdContainerElement();this._disclaimer=this.getOptions().disclaimer,this._disclaimer.mountInto(e)}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(23),s=i(a),l=n(1),u=i(l),c=n(5),d=i(c),f=n(39),h=i(f);t["default"]=s["default"].extend({construct:function(e,t){this.$super(e,u["default"].mergeDefaults({anchorType:o["default"].PLACEMENT_ANCHOR_TYPE.STUB,placementPosition:"after",placementType:o["default"].PLACEMENT_TYPE.IN_LINE},t))},buildVisibilityDetectionFrame:function(){null===this._visibilityDetectionFrame&&(this._visibilityDetectionFrame=d["default"].create("div"),this._visibilityDetectionFrame.className+=" kskdStubVis",this._visibilityDetectionFrame.style.zIndex=o["default"].BANNER_VIS_FRAME_Z_INDEX)},createAnchorElement:function(){this.$super();var e=this.getAnchorElement();h["default"].style(e,{width:"auto",height:"auto",margin:"0 auto"});var t="after"===this.getOptions().placementPosition?this.getTargetElement().nextSibling:this.getTargetElement();this.getTargetElement().parentNode.insertBefore(e,t)},createContainerElement:function(){this.$super();var e=this.getAdContainerElement(),t=this.getOptions().margin+"px auto";h["default"].style(e,{position:"relative",bottom:"auto",left:"0px",right:"auto",top:"0px",height:"0px",margin:t})},prepareDisclaimer:function(){this.$super()},updateLayout:function(e,t){this.$super(e,t);var n=this.getOptions(),i=this.getDisclaimer(),r=this.getAdContainerElement();if(n.scaleEnabled!==!0){var o=t.height;i&&i.isNot("inside")&&(o+=i.getDisclaimerHeight()),r.style.maxWidth=t.width+"px",r.style.maxHeight=o+"px"}}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(166),o=i(r),a=n(165),s=i(a),l=n(167),u=i(l),c=n(169),d=i(c),f=n(168),h=i(f),p=n(170),g=i(p),m=n(171),v=i(m);t["default"]={closeBg:"url("+o["default"]+") !important",closeWhiteBg:"url("+s["default"]+") !important",closeInsideBg:"url("+u["default"]+") !important",discInsideBg:"url("+d["default"]+") !important",discGreyBg:"url("+h["default"]+") !important",discWhiteBg:"url("+g["default"]+") !important",swipeGuideInScrollBg:"url("+v["default"]+") !important"}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t["default"]={domainName:null,designs:{},style:function(e,t){for(var n in t)if(t.hasOwnProperty(n)){var i="[object Array]"===Object.prototype.toString.call(t[n])?t[n]:[t[n]];for(var r in i)if(e&&"style"in e&&n in e.style)try{e.style[n]=i[r]}catch(o){e.setAttribute("style",i[r])}}},setStyle:function(e,t,n){n?this.style(e,this.designs[n].getDesignStyle(t)):this.style(e,this[t])},getStyle:function(e,t){var n,i=null;if(n=document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,""):e.currentStyle?e.currentStyle:e.style,n[t]&&"none"!==n[t])i=n[t];else{var r=t.slice(0,1).toUpperCase()+t.slice(1);n["Webkit"+r]?i=n["Webkit"+r]:n["Ms"+r]?i=n["Ms"+r]:n["Moz"+r]?i=n["Moz"+r]:n["O"+r]&&(i=n["O"+r])}return i},getDesignStyle:function(e,t){return this.designs[e].getDesignStyle(t)}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(11),s=i(a),l=/#[-_a-zA-Z0-9.%]+$/,u=/^[-_a-zA-Z0-9:\/\.@%+~|]+/,c=/\?[-_a-zA-Z0-9=&.+|~"{}^\[\]%;]+/,d="__AMPERSAND_PLACEHOLDER__";t["default"]=o["default"].extend({construct:function(e){this._originalURL=e},getFragment:function(){return this._matchedFragment=this._matchedFragment||function(e){var t=e.matchRegularExpression(e.getOriginalURL(),l);return t.replace("#","")}(this),this._matchedFragment},getOriginalURL:function(){return this._originalURL},getPath:function(){return this._matchedPath=this._matchedPath||this.matchRegularExpression(this._originalURL,u),this._matchedPath},getQuery:function(){return this._matchedQuery=this._matchedQuery||function(e){var t=e.matchRegularExpression(e.getOriginalURL(),c);return t.substring(1)}(this),this._matchedQuery},getQueryParameters:function(){var e=this.getQuery();e=e.replace("&amp;",d);var t=e.split("&"),n={};if(t.length>0)for(var i=0;i<t.length;i+=1){var r=t[i].replace(d,"&amp;"),o=r.split("=");2===o.length&&(n[o[0]]=o[1])}return n},matchRegularExpression:function(e,t){var n=e.match(t);return n?s["default"].isArray(n)?n[0]:n:""}})},function(e,t){var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r={base64_decode:function(e){var t,n,o,a,s,l,u,c="",d=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");d<e.length;)a=i.indexOf(e.charAt(d)),d+=1,s=i.indexOf(e.charAt(d)),d+=1,l=i.indexOf(e.charAt(d)),d+=1,u=i.indexOf(e.charAt(d)),d+=1,t=a<<2|s>>4,n=(15&s)<<4|l>>2,o=(3&l)<<6|u,c+=String.fromCharCode(t),64!==l&&(c+=String.fromCharCode(n)),64!==u&&(c+=String.fromCharCode(o));return c=r.utf8_decode(c)},base64_encode:function(e){var t,n,o,a,s,l,u,c="",d=0;for(e=r.utf8_encode(e);d<e.length;)t=e.charCodeAt(d),d+=1,n=e.charCodeAt(d),d+=1,o=e.charCodeAt(d),d+=1,a=t>>2,s=(3&t)<<4|n>>4,l=(15&n)<<2|o>>6,u=63&o,isNaN(n)?l=u=64:isNaN(o)&&(u=64),c=c+i.charAt(a)+i.charAt(s)+i.charAt(l)+i.charAt(u);return c},formURLStringFromParameters:function(e,t){if(t=t||[],"object"===("undefined"==typeof e?"undefined":n(e))){var i="",r=function(n,i,r){r.length>0&&(r+="&");var o=e[n],a=n;return t.indexOf("ENCODE_KEY")>=0&&(a=encodeURIComponent(a)),t.indexOf("ENCODE_VALUE")>=0&&(o=encodeURIComponent(o)),r+=a+"="+o};if(t.indexOf("ALPHABETIZE")>=0){var o=[];for(var a in e)e.hasOwnProperty(a)&&o.push(a);o.sort();var s=o.length;if(s>0)for(var l=0;s>l;l+=1){var u=o[l];i=r(u,e[u],i)}}else for(var c in e)e.hasOwnProperty(c)&&(i=r(c,e[c],i));return i}return""},getOldFormatURLDetails:function(e){var t=!1,n=!1,i="development";e=e.toLowerCase();for(var r=e.split("/"),o=0,a=r.length;a>o;o+=1)"albumid"===r[o]?t=parseInt(r[o+1],10):"co"===r[o]&&(n=parseInt(r[o+1],10));return e.indexOf("kiosked.com")>=0?i="production":e.indexOf("intags.com")>=0&&(i="staging"),{pub:n,site:t,env:i}},utf8_decode:function(e){for(var t="",n=0,i=0,r=0,o=0;n<e.length;)i=e.charCodeAt(n),128>i?(t+=String.fromCharCode(i),n+=1):i>191&&224>i?(r=e.charCodeAt(n+1),t+=String.fromCharCode((31&i)<<6|63&r),n+=2):(r=e.charCodeAt(n+1),o=e.charCodeAt(n+2),t+=String.fromCharCode((15&i)<<12|(63&r)<<6|63&o),n+=3);return t},utf8_encode:function(e){e=e.replace(/\r\n/g,"\n");for(var t="",n=0;n<e.length;n+=1){var i=e.charCodeAt(n);128>i?t+=String.fromCharCode(i):i>127&&2048>i?(t+=String.fromCharCode(i>>6|192),t+=String.fromCharCode(63&i|128)):(t+=String.fromCharCode(i>>12|224),t+=String.fromCharCode(i>>6&63|128),t+=String.fromCharCode(63&i|128))}return t}};t["default"]=r},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={escapeRegexExpression:function(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},replaceAll:function(e,t,i){return e.replace(new RegExp(n.escapeRegexExpression(t),"g"),i)},tokenReplaceString:function(e,t,i){i=i||function(e){return"["+e.toUpperCase()+"]"};for(var r in t)t.hasOwnProperty(r)&&(e=n.replaceAll(e,i(r),t[r]));return e},zeroPad:function(e,t){var n=e.toString(),i=n.split("."),r="";i.length>1&&(r=i[1],n=i[0]);var o=t-n.length+1;return new Array(+(o>0&&o)).join("0")+n+(r.length>0?"."+r:"")}};t["default"]=n},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(11),a=i(o);t["default"]={hasOwnProperties:function(e,t,n){var i=!1;if("string"==typeof t&&(t=[t]),n=n||function(e,t){return e.hasOwnProperty(t)},"object"===("undefined"==typeof e?"undefined":r(e))&&a["default"].isArray(t)){i=!0;for(var o=0;o<t.length;o+=1)if(!n(e,t[o])){i=!1;break}}return i}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){this._domEventsSet.hasOwnProperty(e)||(this._domEventsSet[e]=[]),this._domEventsSet[e].push(t)}function o(e,t){return this._domEventsSet.hasOwnProperty(e)?-1!==this._domEventsSet[e].indexOf(t):!1}function a(e,t){if(o.call(this,e,t)){var n=this._domEventsSet[e].indexOf(t);if(this._domEventsSet[e].splice(n,1),this._domEventsSet[e].length<=0)return delete this._domEventsSet[e],!0}return!1}function s(){var e="webkit moz o ms khtml".split(" ");ITGS.supportsFullScreen=!1;for(var t=0,n=e.length;n>t;t+=1)if(ITGS.brwsrprefix=e[t],"undefined"!=typeof document[ITGS.brwsrprefix+"CancelFullScreen"]){ITGS.supportsFullScreen=!0;break}}function l(e){return"onresize"===e}Object.defineProperty(t,"__esModule",{value:!0});var u=n(8),c=i(u),d=n(1),f=i(d),h=n(3),p=i(h);t["default"]=c["default"].extend({construct:function(){this._domEventsSet={},s(),this._callbacks={},this.$super()},addListener:function(e,t,n){if(this.destroying&&this.destroying===!0)return p["default"].warn("/EventDispatcher/","Tried adding listeners during destruction",e),null;var i,a=this;i=n?n:a.getContainer();var s=!1;(e in document.documentElement||e in window)&&(o.call(this,e,i)||(l(e)?s=window[e]=function(t){a.dispatch(e,{event:t,relatedElement:i})}:(s=function(t){!t.srcElement||"target"in t||(t.target=t.srcElement),a.dispatch(e,{event:t,relatedElement:i})},a.listen(i,e,s)),r.call(this,e,i))),this._callbacks[e]||(this._callbacks[e]=[]);var u={callback:t,element:i};return s!==!1&&(u.eventFunction=s),this._callbacks[e].push(u),{listener:e,element:n,callback:t}},listen:function(e,t,n){if(e.attachEvent)e.attachEvent(t,n);else if(e.addEventListener){var i=t.substring(0,2);"on"===i&&(t=t.substring(2)),e.addEventListener(t,n,!1)}},dispatch:function(e,t,n){var i,r;if(f["default"].isset(n)||(n="getEventHash"in this?this.getEventHash():f["default"].getRandomInt(1,999999)),this._callbacks&&this._callbacks.hasOwnProperty(e))for(r=this._callbacks[e],i=0;i<r.length;i+=1)if(!t||!t.hasOwnProperty("relatedElement")||t.relatedElement===r[i].element){var o=t;t&&t.hasOwnProperty("event")&&(o=t.event),r[i].callback(o,n)}},destroy:function(){this.destroying=!0;for(var e in this._callbacks)if(this._callbacks.hasOwnProperty(e)&&this._callbacks[e].length>0)for(var t=0;t<this._callbacks[e].length;t+=1){var n=this.removeListener(e,this._callbacks[e][t].callback,this._callbacks[e][t].element);if(n)break}this._callbacks=null,delete this._callbacks},getContainer:function(){return!1},removeListener:function(e,t,n){var i=!1;if("string"!=typeof e||"function"!=typeof t)throw new KioskedException("Invalid listener configuration");var r=!1;n&&n instanceof HTMLElement&&o.call(this,e,n)&&(r=a.call(this,e,n));for(var s in this._callbacks)if(this._callbacks.hasOwnProperty(s)&&s===e){var l=this._callbacks[s],u=l.length;if(u>0){for(var c=!1,d=0;u>d;d+=1)if(l[d].callback===t){c=!0,r&&l[d].hasOwnProperty("eventFunction")&&this.unlisten(n,e,l[d].eventFunction),this._callbacks[s].splice(d,1);break}if(c){this._callbacks[s].length<=0&&(delete this._callbacks[s],i=!0);break}}}return i},unlisten:function(e,t,n){if(e.detachEvent)e.detachEvent(t,n);else if(e.removeEventListener){var i=t.substring(0,2);"on"===i&&(t=t.substring(2)),e.removeEventListener(t,n,!1)}},isBuilt:function(){return this.$super()}})},function(e,t,n){(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){this._locks={}};n.prototype.isLocked=function(e){return this._locks.hasOwnProperty(e)&&this._locks[e].locked===!0},n.prototype.lock=function(t,n){n=n||0;var i=this._locks[t]=this._locks.hasOwnProperty(t)?this._locks[t]:{locked:!1,queue:[]};if(i.locked){if(0!==n&&i.queue.length>=n)return e.reject();var r={activate:!1};return r.promise=new e(function(e){r.activate=e}),i.queue.push(r),r.promise}return i.locked=!0,e.resolve()},n.prototype.lockMany=function(){var t=this;return e.all(Array.prototype.slice.call(arguments).map(function(e){return t.lock(e)}))},n.prototype.unlock=function(e){if(this._locks.hasOwnProperty(e)){var t=this._locks[e],n=t.queue.shift();n?n.activate():t.locked=!1}},t["default"]=n}).call(t,n(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),o=i(r),a=n(2),s=i(a),l=n(1),u=i(l),c=n(3),d=i(c),f=1e4;t["default"]=o["default"].extend({construct:function(e){this.$super(),e=e||{},this._options=u["default"].mergeDefaults({kioskID:"",refreshEnabled:!0},e),this.addStatus("loaded"),this._applicator=null,this._scalingElement=null,this._loadedTimeout=null,this._currentZIndex=!1,this._scalingElements=[]},applyInitialisation:function(){var t=this;if(!u["default"].isset(this.getApplicator()))return e.resolve();if(!u["default"].isset(this.getScalingElement()))throw new KioskedException("No scaling element set for AdElement");var n=this.getApplicator()()["catch"](function(e){d["default"].error("/AdElement/","Failed applying initialisation",e),t.publish("fallback")}),i=this;return this._applicator=null,this._loadedTimeout=setTimeout(function(){i.isNot("loaded")&&(d["default"].warn("/AdElement/","Never received load event from ad"),i.publish("neverLoaded"))},f),n},bundleApplicator:function(e){var t=this.getApplicator();this._applicator=function(){return e(),t()}},destroy:function(){this._applicator=null,clearTimeout(this._loadedTimeout),this.$super()},getApplicator:function(){return this._applicator},getOptions:function(){return this._options},getScalingElement:function(){return this._scalingElement},getScalingElements:function(){return this._scalingElements},removeScaling:function(){var e=this.getScalingElement();e.style.WebkitTransform="none",e.style.MozTransform="none",e.style.msTransform="none",e.style.OTransform="none",e.style.transform="none"},scaleElement:function(e,t){var n=this.getScalingElement();n.style.setProperty("width",e.width+"px","important"),n.style.setProperty("height",e.height+"px","important"),n.style.WebkitTransform="scale("+t+")",n.style.MozTransform="scale("+t+")",n.style.msTransform="scale("+t+")",n.style.OTransform="scale("+t+")",n.style.transform="scale("+t+")"},setApplicator:function(e){this._applicator=e},setScalingElement:function(e){this._currentZIndex?this._currentZIndex+=1:this._currentZIndex=u["default"].isEmpty(t)===!1&&"auto"!==t?t:s["default"].BANNER_AD_Z_INDEX,this._scalingElement=e;var t=this.getOptions().zIndex;this._scalingElement.style.zIndex=this._currentZIndex,this._scalingElements.push(e)},waitForLoad:function(){var t=this;return new e(function(e,n){var i=setInterval(function(){t?t.is("loaded")&&(clearInterval(i),e()):(clearInterval(i),n())},100)})}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=i(o),s=n(2),l=i(s),u=n(1),c=i(u),d=a["default"].extend({construct:function(e,t){this.$super(),this._name=e||"Untitled waterfall",this._waterfallID=t||-1,this._steps=[],this._rules=[],this._currentStep=0,this._order=0,this._placementType=l["default"].UNDEFINED,this._templateInfo={templateID:-1,publisherID:-1,siteID:-1}},addRule:function(e,t,n){return this._rules.push({name:e,value:""+t,exclusive:n}),this},addStep:function(e,t,n,i,r,o,a){i=c["default"].isset(i)?i.toLowerCase():"appnexus";var s=this.getStepTemplate();return s.mediaType=r||s.mediaType,s.network=e.toLowerCase(),s.proportions=n,s.provider=i,s.zone=t,s.content=o||s.content,s.applicator=a||s.applicator,this._steps.push(s),this},addStepData:function(e){return this._steps.push(c["default"].mergeDefaults(this.getStepTemplate(),e)),this},containsNetwork:function(e){e=e.toLowerCase();for(var t=this.getSteps(),n=0,i=t.length;i>n;n+=1)if(t[n].network.toLowerCase()===e)return!0;return!1},copy:function(){var e=new d(this.getName(),this.getWaterfallID());return e._steps=c["default"].deepClone(this.getSteps()),e._rules=c["default"].deepClone(this.getRules()),e._currentStep=this.getCurrentStepIndex(),e.setOrder(this.getOrder()),e.setPlacementType(this.getPlacementType()),e.setTemplateInfo(this.getTemplateInfo()),e},getCurrentStep:function(){var e=this.getCurrentStepIndex(),t=this.getSteps();return e<t.length?t[e]:!1},getCurrentStepIndex:function(){return this._currentStep},getGroups:function(){var e=this.getRules().slice(0),t=[],n={};e.forEach(function(n){if(!n.exclusive)for(var i=0,r=e.length;r>i;i+=1)e[i].name===n.name&&e[i].exclusive&&t.push(e[i])}),e=e.filter(function(e){return-1===t.indexOf(e)});for(var i=0,r=e.length;r>i;i+=1){var o=e[i].name,a=e[i].value;"undefined"==typeof n[o]&&(n[o]={exclusive:e[i].exclusive,rules:[]}),o===l["default"].WATERFALL_RULE_FILTER.DEVICE?a=parseInt(a,10):o===l["default"].WATERFALL_RULE_FILTER.URI&&(a=new RegExp(a,"i")),n[o].rules.push(a)}return n},getWaterfallID:function(){return this._waterfallID},getName:function(){return this._name},getOrder:function(){return this._order},getPlacementType:function(){return this._placementType},getRules:function(){return this._rules},getSteps:function(){return this._steps},getStepTemplate:function(){return{advertiserID:"",mediaType:d.MediaType.BANNER,network:"",proportions:{width:0,height:0
},provider:"",zone:""}},getTemplateInfo:function(){return this._templateInfo},setOrder:function(e){this._order=e},setPlacementType:function(e){this._placementType=e},setTemplateInfo:function(e){this._templateInfo=r(this._templateInfo,e)},step:function(){var e=this.getCurrentStepIndex()+1,t=this.getSteps();return e<t.length?(this._currentStep+=1,this.getCurrentStep()):!1},testRuleInGroup:function(e,t){var n,i=this.getGroups()||{},r=i[e]||!1;if(r){if(e===l["default"].WATERFALL_RULE_FILTER.URI){for(var o=!1,a=0;a<r.rules.length;a+=1)r.rules[a].test(t)&&(o=!0);return r.exclusive?!o:o}return n=r.rules.indexOf(t),r.exclusive?-1===n:n>-1}return!0},testRule:function(e,t){return this.testRuleInGroup(e,t)}});d.MediaType={BANNER:"banner",VIDEO:"video"},t["default"]=d},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(8),s=i(a),l=n(9),u=i(l);t["default"]=s["default"].extend({construct:function(e){this.$super(),this._VASTResponseText=e,this._kioskID="000000",this._size={width:o["default"].BANNER_SIZE_STANDARDS.VIDEO.WIDTH,height:o["default"].BANNER_SIZE_STANDARDS.VIDEO.HEIGHT},this._videoOptions={}},destroy:function(){this.$super()},getKioskID:function(){return this._kioskID},getVideoOptions:function(){return this._videoOptions},getSize:function(){return this._size},getVASTResponseText:function(){return this._VASTResponseText},initialise:function(){return e.resolve()},setKioskID:function(e){this._kioskID=e},setVideoOptions:function(e){this._videoOptions=e},setupInContainer:function(){},start:function(){},_adCompleted:function(){this.publish("adCompleted"),ITGS.publish("videoCompleted",this.getKioskID())},_adErrored:function(){u["default"].getGrandCentralStation().dispatch("videoFallback",{id:this.getKioskID()}),ITGS.publish("videoFallback",{id:this.getKioskID()}),this.publish("adErrored")},_adLoaded:function(){this.publish("adLoaded"),ITGS.publish("videoLoaded",this.getKioskID())},_adStarted:function(){this.publish("adStarted"),ITGS.publish("videoStarted",this.getKioskID())}})}).call(t,n(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this,t=ITGS;this._subscriptions.push(t.subscribe("flashAdLoaded",function(t){t===e.getFlashAdID()&&e._adLoaded()})),this._subscriptions.push(t.subscribe("flashAdStarted",function(t){t===e.getFlashAdID()&&e._adStarted()})),this._subscriptions.push(t.subscribe("flashAdCompleted",function(t){t===e.getFlashAdID()&&e._adCompleted()})),this._subscriptions.push(t.subscribe("flashAdError",function(t){t===e.getFlashAdID()&&e._adErrored()}))}function o(){return new e(function(e,t){var n=8,i=setInterval(function(){n-=1,"function"==typeof window.swfobject.embedSWF?(clearInterval(i),e()):0>=n&&(clearInterval(i),t("Failed to load swfobject"))},250)})}function a(e){var t=this;t.flashObj=e.ref,t.getVideoOptions().soundAlways===!1&&(t.flashObj.onmouseover=function(){try{e.ref.setVolume(.8)}catch(t){}},t.flashObj.onmouseout=function(){try{e.ref.setVolume(0)}catch(t){}})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),l=i(s),u=n(48),c=i(u),d=n(1),f=i(d),h=n(15),p=i(h),g=n(5),m=i(g),v=n(7),y=i(v),_=!1;t["default"]=c["default"].extend({construct:function(e){this.$super(e),this._playerStates={loaded:!1,started:!1,error:!1,playOnLoad:!1},this._subscriptions=[],r.call(this)},buildFlashObject:function(){var e=this.getFlashAdID();return{id:e,loaded:f["default"].curryWhole(this.getPlayerState,this)("loaded"),started:f["default"].curryWhole(this.getPlayerState,this)("started"),error:f["default"].curryWhole(this.getPlayerState,this)("error"),playOnLoad:f["default"].curryWhole(this.getPlayerState,this)("playOnLoad"),completedCallback:this.bindMember("_adCompleted"),startedCallback:this.bindMember("_adStarted"),loadedCallback:this.bindMember("_adLoaded"),errorCallback:this.bindMember("_adErrored")}},destroy:function(){try{this._subscriptions.forEach(function(e){e.remove()})}finally{}this._subscriptions=null,this.$super()},getFlashAdID:function(){return"kskdVideo"+this.getKioskID()},getPlayerState:function(e){if(!this._playerStates.hasOwnProperty(e))throw new KioskedException("Invalid player state: "+e);return this._playerStates[e]},initialise:function(){return this.$super().then(function(){return new e(function(e,t){if(_)o().then(e,t);else{_=!0;var n=document.createElement("script");n.setAttribute("src","//ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js"),n.onreadystatechange=n.onload=function(){o().then(e,t)},document.head.appendChild(n)}})})},setupInContainer:function(e){var t=e.parentNode.offsetWidth,n="//"+y["default"].getResourcesDomain()+"/swf/"+l["default"].FLASH_PLAYER_NAME,i=t/640,r=360*i,o=this.buildFlashObject(),s={vastText:encodeURIComponent(this.getVASTResponseText()),adID:o.id},u={quality:"high",bgcolor:"#FFFFFF",allowscriptaccess:"always",allowfullscreen:"true"},c={id:"kioskedAdPlayer_"+o.id,name:"kioskedAdPlayer",align:"middle",style:"max-width:"+t+"px !important;height:"+r+"px !important;position: absolute; left: 0px; bottom: 0px"},d=m["default"].create("div"),f=m["default"].create("div");d.appendChild(f),f.setAttribute("id",o.id),e.appendChild(d),window.swfobject.embedSWF(n,o.id,t,r,"1.0","",s,u,c,p["default"].bindFunction(a,this))},_adLoaded:function(){var e=this;this.$super(),this.getVideoOptions().autoplay?this.flashObj.startAd():this.subscribe("startVideo",function(){e.flashObj.startAd()})},_adStarted:function(){this.$super(),this.getVideoOptions().soundAlways&&this.flashObj.setVolume(.8)}})}).call(t,n(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this;this.getVideoOptions().soundAlways===!1&&(this._videoMouseoverListener=u["default"].addEvent(this._videoContentDiv,"mouseenter",function(){e.enableVolume(!0)}),this._videoMouseoutListener=u["default"].addEvent(this._videoContentDiv,"mouseleave",function(){e.enableVolume(!1)})),this.subscribe("onScreen",function(){e.getAdsManager().resume()}),this.subscribe("outOfScreen",function(){e.getAdsManager().pause()})}function o(){this._videoMouseoverListener&&this._videoMouseoverListener.remove(),this._videoMouseoutListener&&this._videoMouseoutListener.remove()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(48),s=i(a),l=n(5),u=i(l),c=n(3),d=i(c),f=!1;t["default"]=s["default"].extend({construct:function(e){this.$super(e),this._subscriptions=[],this._adsLoader=null,this._adsManager=null,this._tempVideoItem=null},destroy:function(){try{this._subscriptions.forEach(function(e){e.remove()})}catch(e){}this._subscriptions=null,this._tempVideoItem&&(u["default"].destroy(this._tempVideoItem),this._tempVideoItem=null),this._adsLoader=null,this._adsManager=null,o.call(this),this.$super()},enableVolume:function(e){var t=this.getAdsManager();if(!t)throw new KioskedException("No ads manager instantiated");e?(d["default"].log("/VASTVideoAdHTML5/","Volume enabled"),t.setVolume(.8)):(d["default"].log("/VASTVideoAdHTML5/","Volume disabled"),t.setVolume(0))},getAdsLoader:function(){return this._adsLoader},getAdsManager:function(){return this._adsManager},initialise:function(){return this.$super().then(function(){return new e(function(e,t){if(f)e();else{var n=document.createElement("script");n.setAttribute("src","//imasdk.googleapis.com/js/sdkloader/ima3.js"),n.onreadystatechange=n.onload=function(){var n=8,i=setInterval(function(){n-=1,"function"==typeof google.ima.AdsLoader?(f=!0,clearInterval(i),e()):0>=n&&(clearInterval(i),t("Failed to load ima"))},250)},document.head.appendChild(n)}})})},setupInContainer:function(e){this._videoContentDiv=u["default"].create("div"),e.appendChild(this._videoContentDiv),this._tempVideoItem=document.createElement("video");var t=new google.ima.AdDisplayContainer(this._videoContentDiv,this._tempVideoItem);google.ima.settings.setVpaidAllowed(google.ima.ImaSdkSettings.VpaidMode.ENABLED),google.ima.settings.setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED),t.initialize(),this._adsLoader=new google.ima.AdsLoader(t),this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.bindMember("_adManagerLoaded"),!1),this.getAdsLoader().addEventListener(google.ima.AdsManagerLoadedEvent.Type.AD_ERROR,this.bindMember("_adErrored"),!1);var n=new google.ima.AdsRequest;n.adsResponse=this.getVASTResponseText(),n.linearAdSlotWidth=640,n.linearAdSlotHeight=360,n.nonLinearAdSlotWidth=640,n.nonLinearAdSlotHeight=150,this.getAdsLoader().requestAds(n)},_adManagerLoaded:function(e){this._adsManager=e.getAdsManager(this._tempVideoItem),this.getAdsManager().addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.bindMember("_adErrored")),this.getAdsManager().addEventListener(google.ima.AdEvent.Type.LOADED,this.bindMember("_adLoaded")),this.getAdsManager().addEventListener(google.ima.AdEvent.Type.STARTED,this.bindMember("_adStarted")),this.getAdsManager().addEventListener(google.ima.AdEvent.Type.COMPLETE,this.bindMember("_adCompleted")),r.call(this),this.getAdsManager().init(this.getSize().width,this.getSize().height,google.ima.ViewMode.NORMAL),this.enableVolume(!1)},_adStarted:function(){this.$super(),this.getVideoOptions().soundAlways?this.enableVolume(!0):this.enableVolume(!1)},_adLoaded:function(){var e=this;this.$super(),this.subscribe("startVideo",function(){e._adsManager.start()})}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(5),s=i(a),l=n(15),u=i(l);t["default"]=o["default"].extend({construct:function(e,t){this.$super(),this.latestKnownScrollY=0,this.ticking=!1,this.element=e,this.updateCallback=t,this.removeHandler=null},start:function(){this.removeHandler=s["default"].addEvent(this.element,"scroll",u["default"].bindFunction(this.onScroll,this)).remove},onScroll:function(e){this.latestKnownScrollY=e.target.scrollTop||this.element.scrollTop||this.element.scrollY||e.target.documentElement.scrollTop,this.requestTick(e)},requestTick:function(e){this.ticking||requestAnimationFrame(u["default"].bindFunction(this.update,this,e)),this.ticking=!0},update:function(e){var t=this.latestKnownScrollY;this.ticking=!1,this.updateCallback.call(this,t,e)},destroy:function(){this.removeHandler(),this.$super()}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(22),o=i(r),a=n(1),s=i(a),l=n(25),u=i(l);t["default"]={createFriendlyIframeTool:function(){var t=document.createElement("iframe"),n=s["default"].isBrowser.internetExplorer9();n&&(t.src="about:blank"),t.style.setProperty("max-width","100%","important"),t.style.width="100%",t.style.height="100%",t.style.overflow="hidden",t.frameBorder="0",t.scrolling="no",t.align="top",t.seamless="seamless",t.marginwidth="0",t.marginheight="0";var i={appendToElement:function(e){return e.appendChild(t),i},getIFrame:function(){return t},makeHidden:function(){t.style.display="none"},prependToElement:function(e){return e.insertBefore(t,e.firstChild),i},waitForLoad:function(){return r.then(function(){return i})},writeContent:function(e){var r=t.contentWindow.document;return r.open(),r.write(e),n||r.close(),i}};u["default"].decorateWithPubSub(i,new o["default"]);var r=new e(function(e){t.onload=function(){e()},t.onreadystatechange=function(){"complete"!==this.readyState&&"interactive"!==this.readyState||e()}}).then(function(){i.publish("iframeLoaded")});return i}}}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=i(o),s="KCDN:",l={adZoneTemplate:{"635":{"templateId":635,"publisherId":11696,"siteId":12413,"isRtb":true,"fromTime":1464031635,"waterfallGroups":[{"abTestCaseId":null,"waterfalls":[{"waterfallHandleId":1534,"name":"wallpapervortex.com - in-media - desktop - 728x90","placementType":"in-media","orderInWaterfallGroup":0,"domain":"wallpapervortex.com","waterfallRules":[{"propertyKey":"device_family","propertyValue":"1","exclusive":false},{"propertyKey":"device_family","propertyValue":"3","exclusive":false}],"kPlacements":[{"adNetworkId":"IOW","networkInternalPlacementId":"920","order":0,"floorPrice":0.4,"adType":"banner","adSize":"728x90","content":null,"applicator":null},{"adNetworkId":"AppNexus","networkInternalPlacementId":"7477109","order":1,"floorPrice":0.3,"adType":"banner","adSize":"728x90","content":null,"applicator":null}]},{"waterfallHandleId":1535,"name":"wallpapervortex.com - in-media - mobile - 320x50","placementType":"in-media","orderInWaterfallGroup":1,"domain":"wallpapervortex.com","waterfallRules":[{"propertyKey":"device_family","propertyValue":"2","exclusive":false}],"kPlacements":[{"adNetworkId":"IOW","networkInternalPlacementId":"921","order":0,"floorPrice":0.4,"adType":"banner","adSize":"320x50","content":null,"applicator":null},{"adNetworkId":"AppNexus","networkInternalPlacementId":"7477114","order":1,"floorPrice":0.3,"adType":"banner","adSize":"320x50","content":null,"applicator":null},{"adNetworkId":"aol","networkInternalPlacementId":"4095574","order":2,"floorPrice":0.15,"adType":"banner","adSize":"320x50","content":null,"applicator":null}]}]}]}},allowedDomains:[],countryCode:"PK",domain:"ssp.kiosked.com",environment:"production",publisherID:11696,settings:{"settings":{"settingsTree":{"conditionId":3,"conditionType":"default","conditionValue":null,"properties":[{"key":"ui.media.cutSizeFromParents","value":"auto","target":"","targetDeviceFamily":0},{"key":"ui.media.zIndex","value":"auto","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaHeight","value":"200","target":"","targetDeviceFamily":0},{"key":"ui.sniff.minMediaWidth","value":"290","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.minMediaSize.horizontalWidth","value":"300","target":"","targetDeviceFamily":0},{"key":"ui.override.js.ITGS.SnifferUtilities.processPageURL","value":function(url) {return ITGS.Facades.URLProcessing.getURLPathOnly(url);},"target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.showDisclaimer","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.sniff.disableIndexPageAnalysis","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.media.overlays.Disclaimer.disclaimerLink","value":"http://page.kiosked.com/advertising-automation-platform","target":"","targetDeviceFamily":0},{"key":"ui.sniff.quantcastEnabled","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.geo.filter.country.whitelist","value":"","target":"","targetDeviceFamily":0},{"key":"ui.geo.filter.country.blacklist","value":"","target":"","targetDeviceFamily":0},{"key":"ui.sniff.sendZoneDataRequests","value":"false","target":"","targetDeviceFamily":0},{"key":"ui.media.Banner.waterfallAnalyticsEnabled","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.analytics.sendTimingData","value":"true","target":"","targetDeviceFamily":0},{"key":"ui.libraryVersion","value":"5.10.1","target":"","targetDeviceFamily":0}],"childConditions":[{"conditionId":5491,"conditionType":"account","conditionValue":"11696","childConditions":[{"conditionId":5492,"conditionType":"URI","conditionValue":"wallpapervortex.com","properties":[{"key":"ui.media.overridePlugins","value":"BannerSlot","target":"#content_container","targetDeviceFamily":0},{"key":"ui.override.js.ITGS.GrandCentralStation.libraryInit","value":function() { var css = document.createElement('style'); css.innerHTML = ".kskdCls.kskdDiv {clear:none !important;}"; document.head.appendChild(css); },"target":"","targetDeviceFamily":0},{"key":"ui.enabled","value":"false","target":"","targetDeviceFamily":0},{"key":"ui.enabled","value":"true","target":"#content_container","targetDeviceFamily":0},{"key":"ui.media.Banner.adTemplateId","value":"635","target":"","targetDeviceFamily":0}]}]}]},"activeAbTestCases":[],"notifications":[]}},siteID:12413,modules:["entry_def","sniffing","core","misc"]};window&&"object"===r(window.ITGSsettings)&&(a["default"].log("/Override/","Custom settings are in use"),l.settings=window.ITGSsettings),t["default"]={getClientDataset:function(e,t){return l.hasOwnProperty(e)&&("string"==typeof l[e]&&l[e].indexOf(s)>=0)==!1?l[e]:t}}},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){e.presentation=(0,m["default"])({initial:"created",events:[{name:"show",from:"created",to:"shown"},{name:"show",from:"hidden",to:"shown"},{name:"hide",from:"created",to:"hidden"},{name:"hide",from:"shown",to:"hidden"}],callbacks:{onleaveshown:function(e,t,n){return"hidden"===n?m["default"].CallbackAction.Transition:void 0},onleavehidden:function(e,t,n){return"shown"===n?m["default"].CallbackAction.Transition:void 0},onleavecreated:function(){return m["default"].CallbackAction.Transition},onstatechange:function(t,n,i){e.publish("presentation",{event:t,fromState:n,toState:i})}}})}function l(){for(var e=[],t=0;8>t;t+=1)e.push(_.charAt(Math.floor(Math.random()*E)));return e.join("")}function u(e,t){return"function"==typeof e?e(t):"object"===("undefined"==typeof e?"undefined":c(e))&&null!==e?e:{}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var d=n(101),f=i(d),h=n(17),p=i(h),g=n(103),m=i(g),v=n(3),y=i(v),_="abcdefghijklmnopqrstuvwxyz0123456789",E=_.length,A=function(t){function n(e,i,a){r(this,n);var c=o(this,t.call(this,a));return c.setComponentID(l()),c.model=e||new p["default"],c.styles=u(i||{},c.model),s(c),c}return a(n,t),n.prototype.addChild=function(e){return e instanceof n?(e.mountInto(this.element),t.prototype.addChild.call(this,e,e.getComponentID())):t.prototype.addChild.call(this,e)},n.prototype.animateIn=function(){return this.removeStyles(["display"]),e.resolve()},n.prototype.animateOut=function(){return this.setStyle("display","none"),e.resolve()},n.prototype.destroy=function(){this.unmount(),t.prototype.destroy.call(this)},n.prototype.didAppear=function(){this.publish("appeared")},n.prototype.didDisappear=function(){this.publish("disappeared")},n.prototype.didMount=function(){this.publish("mounted")},n.prototype.didUnmount=function(){this.publish("unmounted")},n.prototype.hide=function(){var t=this;return this.presentation.hide(),this.willDisappear(),e.all([this.animateOut()].concat(this.children.map(function(t){return t instanceof n?t.hide():e.resolve()}))).then(function(){t.presentation.transition("hidden"),t.didDisappear()})["catch"](function(e){y["default"].error("Failed hiding component: "+e)})},n.prototype.mountInto=function(e,t,n){this.isNot("rendered")&&this.render(),this.willMount(),t?e.insertBefore(this.element,"before"===n?t:t.nextSibling):e.insertBefore(this.element,null),this.set("mounted"),this.didMount(),this.update()},n.prototype.render=function(){},n.prototype.show=function(){var t=this;return this.willAppear(),this.presentation.show(),e.all([this.animateIn()].concat(this.children.map(function(t){return t instanceof n?t.show():e.resolve()}))).then(function(){t.presentation.transition("shown"),t.didAppear()})["catch"](function(e){y["default"].error("Failed showing component: "+e)})},n.prototype.unmount=function(){this.is("mounted")&&(this.willUnmount(),this.element.parentNode.removeChild(this.element),this.unset("mounted"),this.didUnmount())},n.prototype.update=function(){this.setStyle(this.styles)},n.prototype.willAppear=function(){},n.prototype.willDisappear=function(){},n.prototype.willMount=function(){},n.prototype.willUnmount=function(){},n}(f["default"]);t["default"]=A}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(83),a=i(o);t["default"]={getErrorCollector:function(){return r||(r=new a["default"]),r},setErrorCollector:function(e){r=e}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(105),a=i(o);t["default"]={getPageInventory:function(){return r||(r=new a["default"]),r}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(68),a=i(o);t["default"]={getUnloadManager:function(){return r||(r=new a["default"]),r},setUnloadManager:function(e){r=e}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){_["default"].getStyling().selectStyle(t).applyToElement(e)}function a(){var e=A["default"].isLandscapeOrientation(),t=window.innerHeight,n=screen.availWidth;return e&&t>n?n:t}function s(e){e.style.transition=null,e.style.webkitTransition=null}function l(e,t,n,i,r){if(r=r||300,e.style.transform="translate3d(0, "+t+"px, 0)",e.style.webkitTransform="translate3d(0, "+t+"px, 0)",e.style.msTransform="translate(0, "+t+"px)",n===!0){if(P)return void i();if(e.style.transition="transform "+r+"ms",e.style.webkitTransition="-webkit-transform "+r+"ms",e.style.msTransition="-ms-transform "+r+"ms",i)var o=S["default"].addEvents(e,"transitionend webkitTransitionEnd msTransitionEnd",function(){o.forEach(function(e){e.remove()}),i()})}}function u(e){e||(e=window.event);var t=e.wheelDelta,n=e.detail;return n?t?t/n/40*n>0?1:-1:-n/3:t/120}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),d=i(c),f=n(23),h=i(f),p=n(51),g=i(p),m=n(21),v=i(m),y=n(16),_=i(y),E=n(1),A=i(E),b=n(5),S=i(b),I=n(7),w=i(I),T=n(15),C=i(T),O=n(33),D=i(O),M="desktop"===w["default"].getDeviceType(),P=A["default"].isBrowser.internetExplorer9(),k=C["default"].bindFunction;t["default"]=h["default"].extend({construct:function(e,t){this.$super(e,A["default"].mergeDefaults({anchorType:d["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL,placementType:d["default"].PLACEMENT_TYPE.IN_SCROLL},t)),this._fixedContainer=null,this._containerBox=null,this._containerWrapper=null;var n=document.body.scrollHeight*(this.getOptions().triggerPoint/100);this.meta={winHeight:a(),triggerPoint:n,adHeight:0,shownOnce:!1,snappedToMiddle:!1,hasBeenMoved:!1,destroyed:!1,bodyOverflow:null,scrollLocked:!1,touchStartPos:0,previousMove:0,move:0,distanceFromBottom:0},this.meta.domPosition=this.meta.winHeight+this.meta.triggerPoint,this._scroller=null,this.trackers=[]},buildVisibilityDetectionFrame:function(){this.$super(),this._visibilityDetectionFrame=S["default"].create("div",{}),_["default"].getStyling().selectStyle("InScrollVisibilityFrame").applyToElement(this._visibilityDetectionFrame)},appendAdElement:function(e){this._containerBox.appendChild(e)},createAnchorElement:function(){this.$super();var e=this.getAnchorElement();document.body.appendChild(e)},createContainerElement:function(){this.$super(),o(this._adContainerElement,"InScrollAdContainerElement");var e=document.createDocumentFragment();if(this._fixedContainer=S["default"].create("div",{},e),o(this._fixedContainer,"InScrollWrapper"),this._fixedContainer.style.height=this.meta.winHeight+"px",this.getAnchorElement().appendChild(this._fixedContainer),this._containerWrapper=S["default"].create("div"),this._containerWrapper.style.cssText="background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,transparent), color-stop(50%,rgba(0,0,0,0.7)), color-stop(100%,transparent));background: -webkit-linear-gradient(top, transparent 0%,rgba(0,0,0,0.7) 50%,transparent 100%);background: linear-gradient(transparent 0%, rgba(0,0,0,0.7) 50%,transparent 100%);",o(this._containerWrapper,"InScrollContentWrapper"),this._containerWrapper.style.height=this.meta.winHeight+"px",this._containerBox=S["default"].create("div"),o(this._containerBox,"InScrollContentBox"),this._swipeGuide=S["default"].create("div"),o(this._swipeGuide,"InScrollSwipeGuide"),!M){this._clickOverlay=S["default"].create("div"),o(this._clickOverlay,"InScrollIFrameClickHandler");var t=S["default"].create("div");t.style.height=d["default"].INSCROLL_TRICKERY_CONTENT+"px",this._trickery=S["default"].create("div"),this._trickery.appendChild(t),o(this._trickery,"InScrollTrickery"),this._adContainerElement.appendChild(this._clickOverlay),this._containerBox.appendChild(this._trickery)}this._containerBox.appendChild(this._swipeGuide),this._containerBox.appendChild(this._adContainerElement),this._containerWrapper.appendChild(this._containerBox),this._fixedContainer.appendChild(this._containerWrapper),document.body.appendChild(e),this.attachBodyEvents()},destroy:function(){var e=this,t=k(this.$super,this);A["default"].animate(this._fixedContainer,{duration:500,properties:{opacity:0}}).then(function(){e.teardownDOMScroll(!1),clearTimeout(e._noScrollTimeout),e.meta.destroyed=!0,S["default"].destroy(e._fixedContainer),t()})["catch"](function(){e.teardownDOMScroll(!0)})},getCloseButtonContainer:function(){return this._closeButtonContainer},getTrickeryBox:function(){return this._trickery||null},getSwipeGuide:function(){return this._swipeGuide||null},getContainerBox:function(){return this._containerBox},getFixedContainerElement:function(){return this._fixedContainer},prepareDisclaimer:function(){this._disclaimer=this.getOptions().disclaimer,this._disclaimer.setStyle({opacity:1,right:"50%",zIndex:100}),this.trackers.push(S["default"].addEvent(this._disclaimer.element,"touchstart",function(e){e.stopPropagation(),S["default"].triggerEvent(e.target,"click")}));var e=this.getAdContainerElement();this._disclaimer.mountInto(e.parentNode,e,"before")},attachBodyEvents:function(){var e=this;this.trackers.push(S["default"].addEvent(window,"resize",k(this.handleResize,this))),this._fixedContainer.style.top=this.meta.domPosition+"px";var t=window,n=0;"undefined"!=typeof window.ITGSInScrollOverride&&window.ITGSInScrollOverride instanceof HTMLElement==!0&&(t=window.ITGSInScrollOverride),this._scroller=new g["default"](t,function(t){t>=e.meta.triggerPoint&&!e.meta.shownOnce&&t>n&&(e.meta.shownOnce=!0,e.prepareDOMForScroll()),n=t}),this._scroller.start()},prepareDOMForScroll:function(){var e=this;if(!this.meta.destroyed){if(this._fixedContainer.style.display="block",this._fixedContainer.style.pointerEvents="all",this._fixedContainer.style.top=0,this._fixedContainer.style.bottom=0,this.meta.adHeight=this._containerBox.clientHeight,this.meta.bodyOverflow=document.body.style.overflow,M){var t;document.body.style.overflow="hidden",(t=this.trackers).push.apply(t,r(S["default"].addEvents(this._fixedContainer,"mousewheel DOMMouseScroll",k(this.scrolling,this)))),this._noScrollTimeout=setTimeout(function(){e.meta.hasBeenMoved||e.destroy()},d["default"].INSCROLL_DESTROY_TIMEOUT),P&&this.handleResize()}else this.trackers.push(S["default"].addEvent(document.body,"touchstart",A["default"].preventDefault),S["default"].addEvent(this._fixedContainer,"touchstart",k(this.touchStart,this)),S["default"].addEvent(this._fixedContainer,"touchmove",k(this.touchMove,this)),S["default"].addEvent(this._fixedContainer,"touchend",k(this.touchEnd,this)));this._scroller.destroy()}},teardownDOMScroll:function(e){e=e!==!1,document.body.style.overflow=this.meta.bodyOverflow,this._fixedContainer.style.display="none",this._fixedContainer.style.pointerEvents="none",this.trackers&&(this.trackers=this.trackers.reduce(function(e,t){t.remove()},[])),e&&D["default"].destroyPlacementContainer(v["default"].getPlacementContainerByID(this.getOptions().kioskID))},hasSnappedToMiddle:function(){var e=this;this.meta.bodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden",S["default"].destroy(this._clickOverlay),setTimeout(function(){e.meta.scrollLocked=!1,e._swipeGuide.style.opacity=.7},d["default"].INSCROLL_DISMISS_POSSIBLE)},touchStart:function(e){this.meta.scrollLocked||(this.meta.touchStartPos=e.touches[0].clientY,this.meta.move=0,s(this._containerWrapper))},touchMove:function(e){var t=e.touches[0].clientY-this.meta.touchStartPos;(0>t&&!this.meta.hasBeenMoved||this.meta.hasBeenMoved)&&!this.meta.scrollLocked&&Math.abs(t)>3&&(this.meta.move=this.meta.previousMove+t/2,this.meta.distanceFromBottom=Math.abs(this.meta.move),this.meta.hasBeenMoved=!0,l(this._containerWrapper,this.meta.move,!1))},touchEnd:function(){var e=Math.abs(this.meta.move)>Math.abs(this.meta.previousMove),t=Math.abs(this.meta.previousMove-this.meta.move),n=Math.abs(this.meta.move)>0;this.meta.previousMove=n?this.meta.move:this.meta.previousMove,n?this.meta.snappedToMiddle?t>d["default"].INSCROLL_DISMISS_TRESHOLD&&e?this.snapOut():this.snapToMiddle(!0):this.meta.distanceFromBottom>0&&(this.meta.scrollLocked=!0,this.snapToMiddle(!0)):n||!this.meta.snappedToMiddle||this.meta.scrollLocked||this.shakeContainer()},scrolling:function(e){var t=this.meta.winHeight,n=this.meta.distanceFromBottom>t/2,i=0,r=1.5*t;i=u(e),i=n?6*i:10*i,(0>i&&!this.meta.hasBeenMoved||this.meta.hasBeenMoved&&Math.abs(i)>0&&!this.meta.scrollLocked)&&(this.meta.move+=i,this.meta.hasBeenMoved=!0,this.meta.distanceFromBottom=Math.abs(this.meta.move),this.meta.distanceFromBottom>r?(this.meta.scrollLocked=!0,this.snapOut()):l(this._containerWrapper,this.meta.move,!1))},snapToMiddle:function(e){var t=this,n=!1;e="undefined"!=typeof e?e:!0,this.recalculateSizes(),this.meta.previousMove=-this.meta.winHeight,e&&(n=function(){t.meta.snappedToMiddle||(t.hasSnappedToMiddle(),t.meta.snappedToMiddle=!0)}),l(this._containerWrapper,this.meta.previousMove,e,n,600)},snapOut:function(){var e=this;this.recalculateSizes(),this.meta.previousMove=-(2*this.meta.winHeight),l(this._containerWrapper,this.meta.previousMove,!0,function(){e.teardownDOMScroll()},300)},shakeContainer:function(){var e=-(this.meta.winHeight+20),t=this;this.meta.scrollLocked=!0,l(this._containerWrapper,e,!0,function(){t._containerWrapper.style.transform="translate3d(0, "+t.meta.previousMove+"px, 0)",t._containerWrapper.style.webkitTransform="translate3d(0, "+t.meta.previousMove+"px, 0)",t.meta.scrollLocked=!1},200)},recalculateSizes:function(){this.meta.winHeight=a(),this.meta.domPosition=this.meta.winHeight+this.meta.triggerPoint},handleResize:function(){this.recalculateSizes(),this.meta.snappedToMiddle?(s(this._containerWrapper),this.snapToMiddle(!1)):this.meta.shownOnce||(this.meta.triggerPoint=document.body.scrollHeight*(this.getOptions().triggerPoint/100),this._fixedContainer.style.top=this.meta.domPosition+"px"),this._fixedContainer.style.height=this.meta.winHeight+"px",this._containerWrapper.style.height=this.meta.winHeight+"px"}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(23),s=i(a),l=n(51),u=i(l),c=n(16),d=i(c),f=n(1),h=i(f),p=n(5),g=i(p),m=n(7),v=i(m),y="desktop"===v["default"].getDeviceType();t["default"]=s["default"].extend({construct:function(e,t){var n=t.reward?o["default"].PLACEMENT_ANCHOR_TYPE.REWARD:o["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL,i=t.reward?o["default"].PLACEMENT_TYPE.REWARD:o["default"].PLACEMENT_TYPE.INTERSTITIAL;this.$super(e,h["default"].mergeDefaults({anchorType:n,placementType:i},t)),this._fixedContainer=null,this._containerBox=null,this.trackers=[]},appendAdElement:function(e){this._fixedContainer.appendChild(e)},applySize:function(e){this.$super(e),this.getFixedContainerElement().style.height=e.height+"px"},createAnchorElement:function(){this.$super();var e=this.getAnchorElement();document.body.appendChild(e)},createContainerElement:function(){var e=this;this.$super();var t=document.createDocumentFragment(),n=!1;if(this._fixedContainer=g["default"].create("div",{},t),d["default"].getStyling().selectStyle("InterstitialLightBox").applyToElement(this._fixedContainer),this.getAnchorElement().appendChild(this._fixedContainer),this._containerBox=g["default"].create("div"),d["default"].getStyling().selectStyle("InterstitialContentBox").applyToElement(this._containerBox),this._containerBox.appendChild(this._adContainerElement),this._fixedContainer.appendChild(this._containerBox),document.body.appendChild(t),this._adContainerElement.style.margin="0px auto",this._adContainerElement.style.position="relative",!y){this._scroller=new u["default"](window,function(){e.shouldLock&&!n&&(n=!0,e._tracker=g["default"].addEvent(document.body,"touchstart",h["default"].preventDefault))}),this._scroller.start();var i=g["default"].create("div");i.style.height=o["default"].INSCROLL_TRICKERY_CONTENT+"px",this._trickery=g["default"].create("div"),this._trickery.appendChild(i),d["default"].getStyling().selectStyle("InScrollTrickery").applyToElement(this._trickery),this._containerBox.appendChild(this._trickery)}},destroy:function(){this.unlockScroll(),this.$super()},getContainerBox:function(){return this._containerBox},getFixedContainerElement:function(){return this._fixedContainer},getTrickeryBox:function(){return this._trickery||null},isVisible:function(){return this.set("visible"),this.set("beenVisible"),!0},lockScroll:function(){this.bodyOverflow=document.body.style.overflow,document.body.style.overflow="hidden",y||(this.shouldLock=!0,this.trackers.push(g["default"].addEvent(this._fixedContainer,"touchstart",h["default"].preventDefault)))},prepareDisclaimer:function(){this._disclaimer=this.getOptions().disclaimer,y||this.trackers.push(g["default"].addEvent(this._disclaimer.element,"touchend",function(e){e.stopPropagation(),g["default"].triggerEvent(e.target,"click")}));var e=this.getAdContainerElement();this._disclaimer.mountInto(e.parentNode,e,"before")},unlockTouch:function(){this._tracker&&(this._tracker.remove(),this._tracker=null),this._scroller&&(this._scroller.destroy(),this._scroller=null)},unlockScroll:function(){document.body.style.overflow=this.bodyOverflow,this.unlockTouch(),this.trackers&&this.trackers.length>0&&(this.trackers=this.trackers.reduce(function(e,t){t.remove()},[]))}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e.disclaimerLink.length<=0)throw new Error("Disclaimer link was empty")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(91),l=i(s),u=n(16),c=i(u),d=n(1),f=i(d),h=n(5),p=i(h);t["default"]=l["default"].extend({construct:function(e){e=e||{},this._options=f["default"].mergeDefaults({disclaimerLink:a["default"].DISCLAIMER_DEFAULT_LINK,external:!0,showDisclaimer:!1},e),r(this._options),this._closeButtonContainer=null,this._adsLogoDisclaimerContainer=null,this.$super()},build:function(){this.$super(),this.unset("built"),this._closeButtonContainer=p["default"].create("div"),this._adsLogoDisclaimerContainer=p["default"].create("div"),this.set("built")},destroy:function(){p["default"].destroy(this._closeButtonContainer),p["default"].destroy(this._adsLogoDisclaimerContainer),this._closeButtonContainer=null,this._adsLogoDisclaimerContainer=null,this.$super()},getCloseButtonContainer:function(){return this._closeButtonContainer},getAdsLogoDisclaimerContainer:function(){return this._adsLogoDisclaimerContainer},getHeight:function(){return"default"===c["default"].getStyling().getDeviceType()?a["default"].BANNER_DISCLAIMER.HEIGHT_DESKTOP:a["default"].BANNER_DISCLAIMER.HEIGHT_MOBILE},getHeightOutsideBanner:function(){var e=this.getOptions();return e.external===!0?this.getHeight():0;
},getOptions:function(){return this._options}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(5),o=i(r),a=["search","exact"],s={isValidElement:function(e){return e?e instanceof HTMLElement&&e!==document:!1},locateParentElement:function l(e,t,n,i){if(n=n||"exact",i=i||0,"auto"===t)return l(e,10,"search",0);if(a.indexOf(n)<0)throw new KioskedException("Unsupported 'mode': "+n);t=parseInt(t,10);var r=e.parentNode;if("exact"===n)return s.isValidElement(r)&&t>0?l(r,t-1,n,i+1):i>0?e:null;if("search"===n&&s.isValidElement(r)){for(var u,c,d=null,f=0,h=t;h>0&&s.isValidElement(r);)h-=1,u=document.defaultView.getComputedStyle(r,null).overflow,"hidden"===u&&(c=o["default"].getIntersection(r,e),c.cuts&&c.excluded.b>f&&(f=c.excluded.b,d=r)),r=r.parentNode;return d}return null}};t["default"]=s},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e.reduce(function(e,t){return t=t.trim(),t.length>0&&e.push(t),e},[])}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=i(o);t["default"]={countryValid:function(e,t){var n=e.get("ui.geo.filter.country.blacklist","").split(","),i=e.get("ui.geo.filter.country.whitelist","").split(",");if(t&&2===t.length){if(t=t.toUpperCase(),i=r(i),i.length>0&&i.indexOf(t)<0)return a["default"].log("/PreFlight/","Country not in whitelist: "+t),!1;if(n=r(n),n.length>0&&n.indexOf(t)>=0)return a["default"].log("/PreFlight/","Country is in the blacklist: "+t),!1}return!0},domainIsValid:function(){return!0}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this.getOptions(),t=new u["default"]({});return d["default"].isset(e.parentContextElement)&&(t=e.parentContextElement.getSettings().clone()),t=t.mergeSettings(o(e.settings))}function o(e){for(var t={},n=e.length,i=0;n>i;i+=1)t[e[i].key]=e[i].value;return t}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=i(a),l=n(17),u=i(l),c=n(1),d=i(c),f=n(3),h=i(f),p=n(62),g=i(p);t["default"]=s["default"].extend({construct:function(e){this.$super(),e=e||{},this._options=d["default"].mergeDefaults({name:"SearchContext",contextSelector:"body",countryCode:"",parentContextElement:null,settings:[]},e),this._childContexts=[],this.addStatus("processedContextElements"),this._settings=r.call(this),this.set("enabled"),this.detectStatus()},destroy:function(){this.$super()},addChildContext:function(e){this._childContexts.push(e)},detectStatus:function(){this.getSettings().getBool("ui.enabled",!0)?this.set("enabled"):this.unset("enabled");var e=this.getOptions().countryCode;return g["default"].countryValid(this.getSettings(),e)!==!0&&(h["default"].log("/SearchContext/","Disabled search context for unsupported country:",e),this.unset("enabled")),this},getChildContexts:function(){return this._childContexts},getChildContextSelectors:function(){for(var e=[],t=this.getChildContexts(),n=t.length,i=0;n>i;i+=1)e=e.concat(t[i].getContextSelectors());return e},getContextSelectors:function(){for(var e=this.getOptions().contextSelector.split(","),t=e.length,n=0;t>n;n+=1)e[n]=d["default"].trim(e[n]);return e},getOptions:function(){return this._options},getSettings:function(){return this._settings},setSettings:function(e){this._settings=e},toString:function(){for(var e=this.getOptions(),t=this.getSettings(),n=this.getChildContexts(),i=n.length,r=[],o=0;i>o;o+=1)r.push(n[o].toString());var a=JSON.stringify({contextSelector:e.contextSelector,contextEnabled:e.contextEnabled,settings:t.getSettingsObject(),children:"--children--"});return a.replace('"--children--"',"["+r.join(",")+"]")}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){for(var n=e.length,i=[],r=n-1;r>=0;r-=1){var o=f["default"].isset(e[r].cssSelector)?e[r].cssSelector:"";o.length<=0&&(i=i.concat(e[r].properties),e.splice(r,1))}return this._baseSettingsContext=new c["default"]({contextSelector:"",contextEnabled:!0,countryCode:this.getOptions().countryCode,parentContextElement:t,settings:i}),t.setSettings(t.getSettings().mergeSettings(this._baseSettingsContext.getSettings(),!1)),t.detectStatus(),e}function o(e,t){e=this.filterDuplicateSettings(e);for(var n=e.length,i=0,r=0;n>r;r+=1){var a=e[r],s=f["default"].isset(a.cssSelector)?a.cssSelector:"",l="",u=s.length>0;if(u){for(var d=t.getContextSelectors(),h=d.length,p=[],g=s.split(","),m=g.length,v=0;h>v;v+=1)for(var y=0;m>y;y+=1)p.push(d[v]+" "+g[y]);l=p.join(", ")}var _=new c["default"]({contextSelector:f["default"].trim(l),parentContextElement:t,countryCode:this.getOptions().countryCode,settings:a.properties||[]});a.hasOwnProperty("childConditions")&&(i+=o.call(this,a.childConditions,_)),t.addChildContext(_),i+=1}return i}function a(e){return e.push({conditionId:null,cssSelector:"#kskdFooter",properties:[{key:"ui.media.overridePlugins",value:"FloorBannerSlot"},{key:"ui.sniff.selectionMode",value:"select"}]}),e.push({conditionId:null,cssSelector:"#kskdInterstitial",properties:[{key:"ui.media.overridePlugins",value:"Interstitial"},{key:"ui.sniff.selectionMode",value:"select"}]}),e.push({conditionId:null,cssSelector:"#kskdInScroll",properties:[{key:"ui.media.overridePlugins",value:"InScroll"},{key:"ui.sniff.selectionMode",value:"select"}]}),e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),l=i(s),u=n(63),c=i(u),d=n(1),f=i(d),h=n(3),p=i(h);t["default"]=l["default"].extend({construct:function(e,t){this.$super(),e=f["default"].deepClone(e)||{},this._options=f["default"].mergeDefaults({countryCode:""},t||{}),this._rootContext=new c["default"]({name:"SearchContextMaster",contextSelector:"",contextEnabled:!0,countryCode:this._options.countryCode,parentContextElement:null}),this._baseSettingsContext=null,this._rawSettings=e,this._rawSettings.settings=e.settings?a(e.settings):[],this._rawSettings.settings=r.call(this,this._rawSettings.settings,this._rootContext);var n=o.call(this,this._rawSettings.settings,this._rootContext);n+=1,p["default"].log("/SearchContextsAdapter/",""+n+" search contexts created")},destroy:function(){delete this._rawSettings,this.$super()},filterDuplicateSettings:function(e){for(var t=[],n={},i=e.length,r=0;i>r;r+=1){var o=e[r],a=o.cssSelector&&o.cssSelector.length>0?o.cssSelector:"-";o.childConditions=o.childConditions||[],o.properties=o.properties||[],n.hasOwnProperty(a)?(n[a].childConditions=n[a].childConditions.concat(o.childConditions),n[a].properties=n[a].properties.concat(o.properties)):n[a]=o}for(var s in n)n.hasOwnProperty(s)&&t.push(n[s]);return t},getBaseSettingsContext:function(){return this._baseSettingsContext},getOptions:function(){return this._options},getRootContext:function(){return this._rootContext}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(25),a=i(o),s=n(26),l=i(s),u=n(45),c=i(u),d=n(22),f=i(d),h=function(){function e(){r(this,e),this._pubsub=new f["default"],a["default"].decorateWithStatus(this,new l["default"]),a["default"].decorateWithPubSub(this,this._pubsub),a["default"].decorateWithMutex(this,new c["default"])}return e.prototype.destroy=function(){this._pubsub.removeAll()},e}();t["default"]=h},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=this;this.name="KioskedException",this.message="[Kiosked] "+e,this.stack=(new Error).stack,this.meta=t||{},a["default"].getErrorCollector().registerError(n.message,n.name,l["default"].getPageUrl(),{stack:n.stack,meta:n.meta})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),a=i(o),s=n(7),l=i(s);r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,window.KioskedException=r,t["default"]=r},function(e,t){function n(e){return!u||/\B\$super\b/.test(e.toString())}function i(e,t,n){void 0===n?delete e[t]:e[t]=n}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function o(e){l=!0;var t=new e;return l=!1,t}Object.defineProperty(t,"__esModule",{value:!0});var a="1.4",s=void 0,l=!1,u=function(){$super()}.toString().indexOf("$super")>0,c=function(){};c.$classyVersion=a,c.extend=function(e){var t=this.prototype,a=o(this);if(e.__include__)for(var u=0,d=e.__include__.length;u!==d;u+=1){var f=e.__include__[u];for(var h in f){var p=r(f,h);void 0!==p&&(a[h]=f[h])}}if(e.__classvars__=e.__classvars__||{},a.__classvars__)for(var g in a.__classvars__)if(!e.__classvars__[g]){var m=r(a.__classvars__,g);e.__classvars__[g]=m}for(var v in e){var y=r(e,v);"__include__"!==v&&void 0!==y&&(a[v]="function"==typeof y&&n(y)?function(e,n){return function(){var o=r(this,"$super");this.$super=t[n];try{return e.apply(this,arguments)}finally{i(this,"$super",o)}}}(y,v):y)}var _=function b(){if(l)return null;var e=s===this?o(arguments.callee):this;return e.construct&&e.construct.apply(e,arguments),e.$class=b,e};for(var E in e.__classvars__){var A=r(e.__classvars__,E);void 0!==A&&(_[E]=A)}return _.prototype=a,_.constructor=_,_.extend=c.extend,_.$withData=c.$withData,_},c.$withData=function(e){var t=o(this);for(var n in e){var i=r(e,n);void 0!==i&&(t[n]=i)}return t},t["default"]=c},function(e,t,n){var i;i=function(){function e(){this._regularDestructors=[],this._priorityShutdownHandlers=[]}var t=function(){var t=this;e.call(this),this._beforeUnloadHandler=function(){t.shutdown()},window.addEventListener("beforeunload",this._beforeUnloadHandler,!1)};return t.prototype.destroy=function(){window.removeEventListener("beforeunload",this._beforeUnloadHandler,!1)},t.prototype.registerShutdownHandler=function(e,n){n&&n!==t.PRIORITY_LOW?this._priorityShutdownHandlers.push(e):this._regularDestructors.push(e)},t.prototype.shutdown=function(){for(var t=this._priorityShutdownHandlers.concat(this._regularDestructors),n=t.length,i=0;n>i;i+=1)try{t[i]()}catch(r){console.warn("(Kiosked) Failed executing destructor: ",t[i])}e.call(this)},t.PRIORITY_HIGH=100,t.PRIORITY_LOW=110,t}.call(t,n,t,e),!(void 0!==i&&(e.exports=i))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=i(r),a=n(42),s=i(a),l=["ADVERTISER_ID","CACHEBUSTER","DFP_INSTANCE_COUNT","DOMAIN","FLD_STATUS","HEIGHT","HREF","ID","KIOSK_ID","NETWORK_NAME","PLACEMENT_TYPE","PROTOCOL","RESOURCES_DOMAIN","SIZE","WIDTH"],u={advertiserID:"ADVERTISER_ID",dfpCount:"DFP_INSTANCE_COUNT",domain:"DOMAIN",height:"HEIGHT",href:"HREF",kioskID:["KIOSK_ID","CACHEBUSTER"],network:"NETWORK_NAME",placementType:"PLACEMENT_TYPE",protocol:"PROTOCOL",resourcesDomain:"RESOURCES_DOMAIN",width:"WIDTH",zoneID:"ID",fldStatus:"FLD_STATUS"},c={convertFriendlyToRaw:function(e){var t={WIDTH:0,HEIGHT:0},n=[];for(var i in u)if(u.hasOwnProperty(i)){var r=u[i];o["default"].isArray(r)||(r=[r]),r.forEach(function(r){t[r]=e[i],n.push(r)})}if(t.SIZE=t.WIDTH+"x"+t.HEIGHT,n.push("SIZE"),n.length!==l.length)throw new KioskedException("Invalid number of friendly properties to raw: "+n.length+"/"+l.length);return t},resolveContent:function(e,t){var n=c.convertFriendlyToRaw(t);return s["default"].tokenReplaceString(e,n)}};t["default"]=c},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=s;return s+=1,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),a=i(o),s=0;t["default"]=a["default"].extend({construct:function(){this.$super(),this._dfpIndex=r()},getDFPIndex:function(){return this._dfpIndex}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){return e.map(function(e){var n=new l["default"](e);return n.getWaterfalls().forEach(function(e){return e.setTemplateInfo(t)}),n})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=i(o),s=n(72),l=i(s),u=n(11),c=i(u),d=a["default"].extend({construct:function(e){this.$super(),e=e||{};var t={templateID:e.templateId,publisherID:e.publisherId,siteID:e.siteId};this._waterfallGroups=r(e.waterfallGroups||[],t)},getWaterfallGroups:function(){return this._waterfallGroups}});d.extractFromData=function(e,t){var n;return n=c["default"].isArray(e)?e[0]:e.templateId?e:e[t],n?new d(n):void 0},t["default"]=d},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.toLowerCase().split("x"),n={width:0,height:0};return 2===t.length&&(n.width=parseInt(t[0],10),n.height=parseInt(t[1],10)),n}function o(e){var t=this;e.sort(d["default"].createSorter.forObjectNumberProperty("orderInWaterfallGroup")).forEach(function(e){var n=new u["default"](e.name,e.waterfallHandleId);(e.waterfallRules||[]).forEach(function(e){n.addRule(e.propertyKey,e.propertyValue,e.exclusive)}),n.setOrder(e.orderInWaterfallGroup||0),n.setPlacementType(e.placementType.toLowerCase()),(e.kPlacements||[]).sort(d["default"].createSorter.forObjectNumberProperty("order")).forEach(function(e){n.addStep(e.adNetworkId,e.networkInternalPlacementId,r(e.adSize||""),"kiosked",e.adType||u["default"].MediaType.BANNER,e.content,e.applicator)}),t.addWaterfall(n)})}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=i(a),l=n(47),u=i(l),c=n(11),d=i(c);t["default"]=s["default"].extend({construct:function(e){this.$super(),e=e||{},this._waterfalls=[],o.call(this,e.waterfalls||[])},addWaterfall:function(e){if(e instanceof u["default"]!=!0)throw new KioskedException("Expected parameter of type Waterfall");this._waterfalls.push(e)},getWaterfalls:function(){return this._waterfalls}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(7),s=i(a),l=n(10),u=i(l),c=function(e){this._waterfalls=[];var t=this;e.forEach(function(e){e.getWaterfallGroups().forEach(function(e){t._waterfalls=t._waterfalls.concat(e.getWaterfalls())})}),this.totalWaterfalls=this._waterfalls.length};c.prototype.getWaterfalls=function(){return this._waterfalls},c.prototype.selectByDevice=function(){var e=s["default"].getDeviceNumericalType();return this._waterfalls=this._waterfalls.filter(function(t){return t.testRule(o["default"].WATERFALL_RULE_FILTER.DEVICE,e)}),this},c.prototype.selectByLocation=function(e){return e!==o["default"].COUNTRY_CODE_UNKNOWN&&(this._waterfalls=this._waterfalls.filter(function(t){return t.testRule(o["default"].WATERFALL_RULE_FILTER.LOCATION,e)})),this},c.prototype.selectByOperatingSystem=function(){var e=u["default"].getOperatingSystem();return this._waterfalls=this._waterfalls.filter(function(t){return t.testRule(o["default"].WATERFALL_RULE_FILTER.OS,e)}),this},c.prototype.selectByPlacementType=function(e){return this._waterfalls=this._waterfalls.filter(function(t){return t.getPlacementType()===e}),this},c.prototype.selectByURI=function(){var e=s["default"].getPageUrl();return this._waterfalls=this._waterfalls.filter(function(t){return t.testRule(o["default"].WATERFALL_RULE_FILTER.URI,e)}),this},t["default"]={prepareWaterfallResolver:function(e,t){return new c(e,t)}}},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e.kioskID.length<=0)throw new Error("Kiosk ID was empty")}Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),a=i(o),s=n(2),l=i(s),u=n(93),c=i(u),d=n(28),f=i(d),h=n(1),p=i(h);t["default"]=a["default"].extend({construct:function(e,t){this.$super(),t=t||{},this._options=p["default"].mergeDefaults({kioskID:"",name:"AdFillAbstract",proportions:{width:0,height:0},orientation:"horizontal",refreshEnabled:!0,scaleEnabled:!0,viewabilityEnabled:!1,zIndex:l["default"].BANNER_AD_Z_INDEX},t),r(this._options),this._adElement=null,this._anchor=e,this.addStatusSet(["idle","loading","loaded"],"idle"),this.addStatusSet(["shown","hidden","animating"],"hidden"),this._lastPlacementSize={width:0,height:0}},destroy:function(){this._adElement&&(this._adElement.destroy(),this._adElement=null),this.$super()},empty:function(){},getAdElement:function(){return this._adElement},getAnchor:function(){return this._anchor},getOptions:function(){return this._options},getPlacementSize:function(){return this._lastPlacementSize},setPlacementSize:function(e){this._lastPlacementSize.width=e.width,this._lastPlacementSize.height=e.height,this.updateLayout()},setProportions:function(e){this.getOptions().proportions=e},setup:function(t){return this.set("loading"),new e(function(e){t.containsNetwork("iow")?f["default"].getIOWManager().prepareLibrary().then(e):e()})},updateAdElement:function(e,t){var n=this.getAdElement(),i=this.getAnchor().getAdContainerElement();return n?c["default"].createAdElementWithWaterfall(i,e,this.getOptions().kioskID,t,this.getAnchor(),n):c["default"].createAdElementWithWaterfall(i,e,this.getOptions().kioskID,t,this.getAnchor())},updateLayout:function(){},waitForLoad:function(){var t=this;return new e(function(e,n){var i=setInterval(function(){t?t.is("loaded")&&(clearInterval(i),e()):(clearInterval(i),n())},100)})}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=i(r),a=n(24),s=i(a),l=n(1),u=i(l),c=n(14),d=i(c);t["default"]=o["default"].extend({construct:function(e,t){this.$super(e,u["default"].mergeDefaults({name:"AdFillHorizontalBanner"},t))},getBottomPositionForOffScreen:function(){var e=this.getOptions().proportions,t=this.getPlacementSize(),n=t.width/e.width;return 0-n*e.height},setup:function(e,t){var n=this;return this.$super(e,t).then(function(){n.getAnchor().buildVisibilityDetectionFrame("horizontal");var e=n.getAnchor().getVisibilityDetectionFrame();null!==e&&n.getAnchor().appendAdElement(e)})},updateLayout:function(){this.$super();var e=this.getOptions().proportions,t=this.getPlacementSize(),n=this.getOptions(),i=n.scaleEnabled===!0?d["default"].calculateScale(t,e,!0):1,r=this.getAdElement(),o=r.getScalingElement(),a=this.getAnchor().getVisibilityDetectionFrame();o&&(r.scaleElement(e,i),o.style.position="absolute",this.getAnchor()instanceof s["default"]&&(this.is("shown")?o.style.bottom="0px":this.is("hidden")&&(o.style.bottom=this.getBottomPositionForOffScreen()+"px"),a.style.height=i*e.height+"px"))}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=i(r),a=n(24),s=i(a),l=n(37),u=i(l),c=n(1),d=i(c);t["default"]=o["default"].extend({construct:function(e,t){this.$super(e,d["default"].mergeDefaults({name:"AdFillRectBanner"},t))},setup:function(e,t){var n=this;return this.$super(e,t).then(function(){n.getAnchor().buildVisibilityDetectionFrame("horizontal");var e=n.getAnchor().getVisibilityDetectionFrame();null!==e&&n.getAnchor().appendAdElement(e)})},updateLayout:function(){this.$super();var e=this.getOptions().proportions,t=this.getPlacementSize(),n=this.getOptions(),i=this.getAnchor()instanceof u["default"],r=i||window.innerHeight>window.innerWidth?"width":"height",o=n.scaleEnabled===!0?t[r]/e[r]:1,a=this.getAdElement(),l=a.getScalingElement(),c=this.getAnchor().getVisibilityDetectionFrame();l&&a.scaleElement(e,o),this.getAnchor()instanceof s["default"]&&(this.is("shown")?l.style.bottom="0px":l.style.bottom=o*e.height+"px",c.style.height=o*e.height+"px")}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return e&&e.provider&&0===e.provider.indexOf("test:")&&(e.zoneID&&0===e.zoneID.indexOf("demo:")||e.vastURL&&0===e.vastURL.indexOf("demo:"))}function o(e){if(r(e)){var t=P["default"].getSharedInstance(),n=(e.zoneID||e.vastURL).substr(5),i=t.getRandomCreative(n);if(!i)throw new KioskedException("Failed resolving demo fill: "+n);if(e.targetLink=i.link,"video"===i.type){e.provider="vastpreroll",e.vastURL=i.url,e.zoneID=!1,e.fillClass=v["default"],e.type="video",e.viewability=!0;var o=i.size.split("x").map(function(e){return parseInt(e,10)}),a=u(o,2);e.proportions.width=a[0],e.proportions.height=a[1]}}return e}function a(){return{fillClass:!1,proportions:{width:0,height:0},type:"",vastURL:"",zoneID:!1,provider:"",network:"",viewability:!1,sizeRestraints:{minWidth:0,maxWidth:0}}}function s(){return R["default"].isMobile()}function l(e){for(var t in e)e.hasOwnProperty(t)&&"string"==typeof e[t]&&e[t].trim().length<=0&&(e[t]=!1);return e}var u=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),d=i(c),f=n(36),h=i(f),p=n(30),g=i(p),m=n(78),v=i(m),y=n(79),_=i(y),E=n(75),A=i(E),b=n(76),S=i(b),I=n(47),w=i(I),T=n(20),C=i(T),O=n(29),D=i(O),M=n(102),P=i(M),k=n(1),x=i(k),N=n(10),R=i(N),L=n(3),F=i(L),B={createAdFillForConfiguration:function(t,n,i){i=x["default"].mergeDefaults({ignoreMediaSize:!1,kioskID:"",mediaSize:{width:0,height:0}},i);var r=!1;return t instanceof h["default"]&&(r=d["default"].PLACEMENT_TYPE.IN_SCREEN),B.getAspectFromSettings(n,i.mediaSize,i.ignoreMediaSize,r).then(function(r){if(r.length<=0)return F["default"].warn("/AdFillResolver/","No aspect(s) found from settings - possible media-size mismatch"),e.resolve(!1);var o,a=new w["default"],s=r[0],l="iow"===s.network;s.fillClass===v["default"]?!function(){var e=l?"iow":"vast",u=l?"kiosked":"vastpreroll";r.forEach(function(t){a.addStep(e,t.vastURL,t.proportions,u,"video")}),o=new s.fillClass(t,{kioskID:i.kioskID,viewabilityEnabled:s.viewability,scaleEnabled:!n.getBool("ui.media.Banner.noScale",!1)})}():(r.forEach(function(e){a.addStep(e.network,e.zoneID,e.proportions,e.provider),e.targetLink&&a.setMeta("link",e.targetLink)}),o=new s.fillClass(t,{kioskID:i.kioskID,scaleEnabled:!n.getBool("ui.media.Banner.noScale",!1),viewabilityEnabled:s.viewability,sizeRestraints:s.sizeRestraints,zIndex:n.get("ui.media.zIndex",!1)}));var u=D["default"].getSharedInstance(),c=u.registerCount(C["default"].InstanceType.AdFill,o.getOptions().name,i.kioskID);return c?e.resolve({adFill:o,waterfall:a}):u.waitForSlot(C["default"].InstanceType.AdFill,o.getOptions().name,i.kioskID).then(function(){return B.createAdFillForConfiguration(t,n,i)})})},createAdFillForWaterfall:function(t,n,i){i=x["default"].mergeDefaults({kioskID:""},i);var r,o,a=t.getCurrentStep();a&&(o=a.mediaType===w["default"].MediaType.VIDEO||"vast"===a.network?v["default"]:B.getAdFillClassFromFormat(t.getPlacementType(),a.proportions.width+"x"+a.proportions.height),r=new o(n,{kioskID:i.kioskID,viewabilityEnabled:i.settings.getBool("ui.media.Banner.viewabilityEnabled",!1),scaleEnabled:!i.settings.getBool("ui.media.Banner.noScale",!1),zIndex:i.settings.get("ui.media.zIndex",!1)}));var s=D["default"].getSharedInstance(),l=s.registerCount(C["default"].InstanceType.AdFill,r.getOptions().name,i.kioskID);return l?e.resolve({adFill:r,waterfall:t}):s.waitForSlot(C["default"].InstanceType.AdFill,r.getOptions().name,i.kioskID).then(function(){return B.createAdFillForWaterfall(t,n,i)})},getAdFillClassFromFormat:function(e,t){if(e===d["default"].PLACEMENT_TYPE.UNDEFINED)throw new KioskedException("Unknown placement type from waterfall: "+e);var n=d["default"].BANNER_SIZE_STANDARDS;if(e===d["default"].PLACEMENT_TYPE.IN_MEDIA)switch(t){case n.VERTICAL.WIDTH+"x"+n.VERTICAL.HEIGHT:return _["default"];case n.HORIZONTAL_SMALL.WIDTH+"x"+n.HORIZONTAL_SMALL.HEIGHT:case n.MOBILE.WIDTH+"x"+n.MOBILE.HEIGHT:case n.HORIZONTAL.WIDTH+"x"+n.HORIZONTAL.HEIGHT:default:return A["default"]}else if(e===d["default"].PLACEMENT_TYPE.IN_LINE)switch(t){case n.MEDIUM_RECT.WIDTH+"x"+n.MEDIUM_RECT.HEIGHT:return S["default"];case n.HORIZONTAL_SMALL.WIDTH+"x"+n.HORIZONTAL_SMALL.HEIGHT:case n.MOBILE.WIDTH+"x"+n.MOBILE.HEIGHT:case n.HORIZONTAL.WIDTH+"x"+n.HORIZONTAL.HEIGHT:default:return A["default"]}else if(e===d["default"].PLACEMENT_TYPE.IN_SCREEN)switch(t){case n.HORIZONTAL_SMALL.WIDTH+"x"+n.HORIZONTAL_SMALL.HEIGHT:case n.MOBILE.WIDTH+"x"+n.MOBILE.HEIGHT:case n.HORIZONTAL.WIDTH+"x"+n.HORIZONTAL.HEIGHT:default:return A["default"]}else if(e===d["default"].PLACEMENT_TYPE.INTERSTITIAL||e===d["default"].PLACEMENT_TYPE.IN_SCROLL||e===d["default"].PLACEMENT_TYPE.REWARD)return S["default"];return null},getAspectFromSettings:function(t,n,i,u){i=x["default"].isset(i)?i:!1,u=x["default"].isset(u)?u:!1;var c,f,h,p=a(),m=[],y=B.getProviderFromSettings(t),E=l(B.getAvailableZoneIDs(t)),b=B.getBannerSizeRestraints(t),I=t.get("ui.media.Banner.universal.size",!1),w=B.getLowerCaseKeyFromSettings("ui.media.overridePlugins",t),T=s(),C=!1;if(p.network=p.provider=y,p.viewability=t.getBool("ui.media.Banner.viewabilityEnabled",!1),E.universalZoneId!==!1){if(I===!1)throw new KioskedException("/AdFillResolver/ ui.media.Banner.size missing");C=!0,f=g["default"].resolveAnchorTypeForSettings(t),h=g["default"].convertAnchorTypeToPlacementType(f),c=B.getAdFillClassFromFormat(h,I),I=I.split("x");var O=t.getInt("ui.media.universal.minSize",!1),D=t.getInt("ui.media.universal.maxSize",!1)}if("vastpreroll"===y||"vastpreroll"===w)p.fillClass=v["default"],p.type="video",C?(p.vastURL=E.universalZoneId,p.proportions.width=parseInt(I[0],10),p.proportions.height=parseInt(I[1],10)):(p.vastURL=E.videoZoneVastUrl,p.proportions.width=d["default"].BANNER_SIZE_STANDARDS.VIDEO.WIDTH,p.proportions.height=d["default"].BANNER_SIZE_STANDARDS.VIDEO.HEIGHT),p.viewability=!0,p.vastURL?m.push(p):F["default"].warn("/AdFillResolver/","Vast url is missing in the configuration");else{if(E.dfpOverride&&E.dfpOverride.length>5){var M=C?E.universalZoneId:E.dfpOverride,k=C?parseInt(I[0],10):d["default"].BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,N=C?parseInt(I[1],10):d["default"].BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT;m.push(x["default"].mergeDefaults(a(),{type:"horizontal",network:"dfp",provider:"dfp",fillClass:A["default"],zoneID:M,proportions:{width:k,height:N}}))}switch(i===!0?E.mobileVideoZoneId&&T?(p.type="mobileVideo",p.zoneID=E.mobileVideoZoneId,p.viewability=!0):E.mobileZoneId&&T?(p.type="mobile",p.zoneID=E.mobileZoneId):E.mediumMobileRectZoneId&&T?(p.type="mediumMobileRect",p.zoneID=E.mediumMobileRectZoneId):this.mediumRectZoneId?(p.type="mediumRect",p.zoneID=E.mediumRectZoneId):this.horizontalZoneId?(p.type="horizontal",p.zoneID=E.horizontalZoneId):this.horizontalSmallZoneId&&(p.type="horizontalSmall",p.zoneID=E.horizontalSmallZoneId):E.mobileVideoZoneId&&T?(p.type="mobileVideo",p.zoneID=E.mobileVideoZoneId,p.viewability=!0):n.width>=b.mobileMin&&n.width<=b.mobileMax&&E.mobileZoneId&&T?(p.type="mobile",p.zoneID=E.mobileZoneId,p.sizeRestraints={minWidth:b.mobileMin,maxWidth:b.mobileMax}):n.width>=b.medMobileRectMin&&n.width<=b.medMobileRectMax&&E.mediumMobileRectZoneId&&T?(p.type="mediumMobileRect",p.zoneID=E.mediumMobileRectZoneId,p.sizeRestraints={minWidth:b.medMobileRectMin,maxWidth:b.medMobileRectMax}):n.width>=b.medMobileRectMin&&n.width<=b.medMobileRectMax&&E.interstitialZoneId?(p.type=d["default"].PLACEMENT_TYPE.INTERSTITIAL,p.zoneID=E.interstitialZoneId,p.sizeRestraints={minWidth:b.mobileMin,maxWidth:b.mobileMax}):n.width>=b.medRectMin&&n.width<=b.medRectMax&&E.mediumRectZoneId?(p.type="mediumRect",p.zoneID=E.mediumRectZoneId,p.sizeRestraints={minWidth:b.mobileMin,maxWidth:b.mobileMax}):n.width>=b.horMin&&n.width<=b.horMax&&E.horizontalZoneId?(p.type="horizontal",p.zoneID=E.horizontalZoneId,p.sizeRestraints={minWidth:b.horMin,maxWidth:b.horMax}):n.width<=b.horSmallMax&&n.width>=b.horSmallMin&&E.horizontalSmallZoneId?(p.type="horizontalSmall",p.zoneID=E.horizontalSmallZoneId,p.sizeRestraints={minWidth:b.horSmallMin,maxWidth:b.horSmallMax}):n.height<=b.vertMax&&n.height>=b.vertMin&&E.verticalZoneId&&(p.type="vertical",p.zoneID=E.verticalZoneId),u===d["default"].PLACEMENT_TYPE.IN_SCREEN&&(E.floorMobileOverride&&T?(p.zoneID=E.floorMobileOverride,p.type="mobile"):E.floorHorizontalOverride&&(p.zoneID=E.floorHorizontalOverride,p.type="horizontal")),p.type){case"vertical":p.fillClass=_["default"],p.proportions.width=d["default"].BANNER_SIZE_STANDARDS.VERTICAL.WIDTH,p.proportions.height=d["default"].BANNER_SIZE_STANDARDS.VERTICAL.HEIGHT;break;case"mobileVideo":case"mediumRect":case"mediumMobileRect":p.proportions.width=d["default"].BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH,p.proportions.height=d["default"].BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT,p.fillClass=S["default"];break;case"interstitial":p.proportions.width=d["default"].BANNER_SIZE_STANDARDS.INTERSTITIAL.WIDTH,p.proportions.height=d["default"].BANNER_SIZE_STANDARDS.INTERSTITIAL.HEIGHT,p.fillClass=S["default"];break;case"mobile":p.proportions.width=d["default"].BANNER_SIZE_STANDARDS.MOBILE.WIDTH,p.proportions.height=d["default"].BANNER_SIZE_STANDARDS.MOBILE.HEIGHT,p.fillClass=A["default"];break;case"horizontalSmall":p.proportions.width=d["default"].BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.WIDTH,p.proportions.height=d["default"].BANNER_SIZE_STANDARDS.HORIZONTAL_SMALL.HEIGHT,p.fillClass=A["default"];break;case"horizontal":p.proportions.width=d["default"].BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,p.proportions.height=d["default"].BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT,p.fillClass=A["default"]}if(C){p.type="",p.proportions.width=parseInt(I[0],10),p.proportions.height=parseInt(I[1],10);var R=p.proportions.width>p.proportions.height?"width":"height";(O===!1||O<n[R])&&(D===!1||n[R]<D)&&(p.zoneID=E.universalZoneId,p.proportions.width=parseInt(I[0],10),p.proportions.height=parseInt(I[1],10),p.type="universal",p.fillClass=c)}p.provider.length>0?p.type.length>0&&p.zoneID?m.push(p):F["default"].warn("/AdFillResolver/","Aspect was not added to waterfall as it was incomplete.",p.type,p.zoneID,p.provider):F["default"].warn("Provider not set in settings")}return m.some(r)?P["default"].boot().then(function(){return F["default"].log("/AdFillResolver/","Demo creative manager booted for AdFill"),m.map(o)})["catch"](function(e){throw F["default"].error(e),new KioskedException("Failed booting demo creative manager")}):e.resolve(m)},getAvailableZoneIDs:function(e){var t=e.getSubset("ui.media.Banner"),n=e.getSubset("ui.media.plugins.FloorBannerSlot");return{universalZoneId:t.get("universal.zoneID",!1),interstitialZoneId:t.get("interstitialZoneId",!1),mobileZoneId:t.get("mobileZoneId",!1),mediumMobileRectZoneId:t.get("mediumMobileRectZoneId",!1),mobileVideoZoneId:t.get("mobileVideoZoneVastUrl",!1),mediumRectZoneId:t.get("mediumRectZoneId",!1),horizontalZoneId:t.get("horizontalZoneId",!1),horizontalSmallZoneId:t.get("horizontalSmallZoneId",!1),verticalZoneId:t.get("verticalZoneId",!1),videoZoneVastUrl:t.get("videoZoneVastUrl",!1),dfpOverride:t.get("dfp728ZoneId",!1),floorHorizontalOverride:n.get("zoneOverrides.horizontalZoneId",!1),floorMobileOverride:n.get("zoneOverrides.mobileZoneId",!1)}},getBannerSizeRestraints:function(e){var t=e.getSubset("ui.media.Banner");return{horSmallMin:t.getInt("minMediaSize.horizontalSmallWidth",300),horSmallMax:t.getInt("maxMediaSize.horizontalSmallWidth",489),medRectMin:t.getInt("minMediaSize.medRectWidth",300),medRectMax:t.getInt("maxMediaSize.medRectWidth",900),medMobileRectMin:t.getInt("minMediaSize.medMobileRectWidth",200),medMobileRectMax:t.getInt("maxMediaSize.medMobileRectWidth",700),horMin:t.getInt("minMediaSize.horizontalWidth",490),horMax:t.getInt("maxMediaSize.horizontalWidth",900),vertMin:t.getInt("minMediaSize.verticalHeight",330),vertMax:t.getInt("maxMediaSize.verticalHeight",650),mobileMin:t.getInt("minMediaSize.mobileWidth",250),mobileMax:t.getInt("maxMediaSize.mobileWidth",900),videoMin:t.getInt("minMediaSize.videoWidth",490),videoMax:t.getInt("maxMediaSize.videoWidth",900)}},getLowerCaseKeyFromSettings:function(e,t){return t.get(e,"").toLowerCase()},getProviderFromSettings:function(e){return e.get("ui.media.Banner.provider","").toLowerCase()}};t["default"]=B}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0
});var r=n(27),o=i(r),a=n(24),s=i(a),l=n(1),u=i(l),c=n(14),d=i(c);t["default"]=o["default"].extend({construct:function(e,t){t=u["default"].mergeDefaults({name:"AdFillVast",refreshEnabled:!1,vastURL:"",scaleEnabled:!0},t),this.$super(e,t)},setup:function(e,t){var n=this;return this.$super(e,t).then(function(){n.getAnchor().buildVisibilityDetectionFrame("horizontal");var e=n.getAnchor().getVisibilityDetectionFrame();null!==e&&n.getAnchor().appendAdElement(e)}).then(function(){var e=n.getAdElement();e&&(e.set("loaded"),e.onEvents("adCompleted","adErrored","adLoaded","adStarted").publishOn(n))})},updateLayout:function(){this.$super();var e=this.getOptions().proportions,t=this.getPlacementSize(),n=this.getOptions().scaleEnabled===!0?d["default"].calculateScale(t,e,!0):1,i=this.getAdElement(),r=i.getScalingElement(),o=this.getAnchor().getVisibilityDetectionFrame();if(r){var a=n,l=e;i.is("flash")&&(a=1,l.width*=n,l.height*=n),i.scaleElement(l,a)}this.getAnchor()instanceof s["default"]&&(r.style.bottom="0px",o.style.height=n*e.height+"px")}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(27),o=i(r),a=n(1),s=i(a);t["default"]=o["default"].extend({construct:function(e,t){this.$super(e,s["default"].mergeDefaults({name:"AdFillVerticalBanner",orientation:"vertical"},t))},getRightPositionForOffScreen:function(){var e=this.getOptions().proportions,t=this.getPlacementSize(),n=t.height/e.height;return 0-Math.ceil(e.width-n*e.width)-n*e.width},getRightPositionForOnScreen:function(){var e=this.getOptions().proportions,t=this.getPlacementSize(),n=t.height/e.height;return 0-Math.ceil(e.width-n*e.width)},setup:function(e){var t=this;return this.$super(e).then(function(){t.getAnchor().buildVisibilityDetectionFrame("vertical");var e=t.getAnchor().getVisibilityDetectionFrame();e&&t.getAnchor().appendAdElement(e)})},updateLayout:function(){this.$super();var e=this.getOptions().proportions,t=this.getPlacementSize(),n=this.getOptions(),i=n.scaleEnabled===!0?t.height/e.height:1,r=this.getAdElement(),o=r.getScalingElement();o.style.left="auto",o.style.setProperty("width",e.width+"px","important"),o.style.setProperty("height",e.height+"px","important"),o.style.WebkitTransform="scale("+i+")",o.style.MozTransform="scale("+i+")",o.style.msTransform="scale("+i+")",o.style.OTransform="scale("+i+")",o.style.transform="scale("+i+")",this.is("shown")?o.style.right=this.getRightPositionForOnScreen()+"px":o.style.right=this.getRightPositionForOffScreen()+"px";var a=this.getAnchor().getVisibilityDetectionFrame();a&&(a.style.height=i*e.height+"px")}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(t){t=C["default"].isArray(t)?t:[t];var n=new DOMParser,i=t[t.length-1],r=n.parseFromString(i,"text/xml");if(r.getElementsByTagName("VASTAdTagURI").length>0){var o=r.getElementsByTagName("VASTAdTagURI")[0].textContent;return a(o,t)}return e.resolve(t)}function o(e){var t=g["default"].getIOWManager(),n=t.getProxy();return n.requestSlot(e.placementType,e.vastID,e.fldStatus),n.fetchVastData(e.placementType,e.vastID,e.fldStatus).then(function(e){return r(e)})}function a(e,t){return t=t||[],v["default"].sendRequest({destination:e,method:"GET",withCredentials:!1}).then(function(e){if(!O.test(e)&&!D.test(e))throw new KioskedException("VAST response with no content");return r(t.concat(e))},function(e){throw new KioskedException("VAST request failed: "+e)})}function s(e){var t=encodeURIComponent(_["default"].getUserAgent()),n=encodeURIComponent(A["default"].getPageUrl()),i=w["default"].getCurrentTimestamp(),r={page_url:n,pageurl:n,referrer:n,width:u["default"].BANNER_SIZE_STANDARDS.VIDEO.WIDTH,height:u["default"].BANNER_SIZE_STANDARDS.VIDEO.HEIGHT,cachebuster:i,cache_buster:i,cachebreaker:i,cache_breaker:i,timestamp:i,user_agent:t,useragent:t};return S["default"].tokenReplaceString(e,r)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=i(l),c=n(8),d=i(c),f=n(81),h=i(f),p=n(28),g=i(p),m=n(31),v=i(m),y=n(10),_=i(y),E=n(7),A=i(E),b=n(42),S=i(b),I=n(12),w=i(I),T=n(11),C=i(T),O=/<Creatives[> ]/i,D=/<VASTAdTagURI.+?<\/VASTAdTagURI>/i;t["default"]=d["default"].extend({construct:function(e){this.$super(),this._options=e,this._formatMarshaler=new h["default"]},destroy:function(){var e=this.getFormatMarshaler();e&&(e.destroy(),this._formatMarshaler=null),this.$super()},getFormatMarshaler:function(){return this._formatMarshaler},getVASTURL:function(){return s(this._options.vastID)},loadVASTData:function(){return"iow"===this._options.network?o(this._options):a(this.getVASTURL())},prepareVideoPlayer:function(){var e=this;return this.loadVASTData().then(function(t){e.getFormatMarshaler().setCatalog(t)}).then(this.getFormatMarshaler().bindMember("processVASTResponse")).then(this.getFormatMarshaler().bindMember("preparePlayerOfType"))}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(8),s=i(a),l=n(50),u=i(l),c=n(49),d=i(c),f=n(82),h=i(f),p=n(3),g=i(p);t["default"]=s["default"].extend({construct:function(){this.$super(),this._catalog=null},buildFlashPlayer:function(){return g["default"].log("/VASTFormatMarshaler/","Building Flash video"),new d["default"](this.getVASTResponseText())},buildHTML5Player:function(){return g["default"].log("/VASTFormatMarshaler/","Building HTML5 video"),new u["default"](this.getVASTResponseText())},getVASTResponseText:function(){return this._catalog[0]},preparePlayerOfType:function(e){var t=h["default"].supports("html5"),n=h["default"].supports("flash");if(!n&&!t)return g["default"].warn("/VASTFormatMarshaler/","Client does not support a valid video platform"),null;switch(e){case o["default"].VAST_VIDEO_FORMAT_FLASH:return n?this.buildFlashPlayer():(g["default"].log("/VASTFormatMarshaler/","Requested Flash content, but client does not support Flash players"),t?this.buildHTML5Player():null);case o["default"].VAST_VIDEO_FORMAT_UNKNOWN:if(t)g["default"].log("/VASTFormatMarshaler/","Requested unknown video format, trying HTML5");else if(n)return this.preparePlayerOfType(o["default"].VAST_VIDEO_FORMAT_FLASH);case o["default"].VAST_VIDEO_FORMAT_HTML5:return t?this.buildHTML5Player():(g["default"].log("/VASTFormatMarshaler/","Requested HTML5 content, but client does not support HTML5 video"),null);default:throw new KioskedException("Invalid video format")}},processVASTResponse:function(){var e=this._catalog[this._catalog.length-1],t=o["default"].VAST_VIDEO_FORMAT_UNKNOWN;return e.indexOf('type="application/x-shockwave-flash"')>=0||e.indexOf('type="video/x-flv"')>=0?(t=o["default"].VAST_VIDEO_FORMAT_FLASH,g["default"].log("/VASTFormatMarshaler/","VAST format is Flash")):/type ?= ?"(video|application)\/(mp4|ogg|webm|javascript)"/i.test(e)&&(t=o["default"].VAST_VIDEO_FORMAT_HTML5,g["default"].log("/VASTFormatMarshaler/","VAST format is HTML5")),t},setCatalog:function(e){this._catalog=e}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return s||(s=new c),s}function o(){return u["default"].flashSupported}function a(){return"function"==typeof document.createElement("video").canPlayType}Object.defineProperty(t,"__esModule",{value:!0});var s,l=n(135),u=i(l),c=function(){this.supports={html5:a(),flash:o()}};t["default"]={supports:function(e){var t=r();return t.supports[e]===!0}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=i(r),a=function(){this._errorList=[]};a.prototype.getErrorList=function(){return this._errorList},a.prototype.registerError=function(e,t,n,i){return this._errorList.push({description:e,time:o["default"].getCurrentTimestamp(),type:t,URL:n,errorProperties:i}),!0},t["default"]=a},function(t,n,i){function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var n=h["default"].deepClone(e);return n._event&&(n.event=e._event,delete n._event),n.event_id=t,n}Object.defineProperty(n,"__esModule",{value:!0});var a=i(6),s=r(a),l=i(2),u=r(l),c=i(57),d=r(c),f=i(1),h=r(f),p=i(3),g=r(p),m=i(31),v=r(m);n["default"]=s["default"].extend({construct:function(){this.$super(),this._eventsBuffer=[],this.addStatus("sendingInstantly"),this.setFlushTimer();var e=this,t=d["default"].getUnloadManager();t.registerShutdownHandler(function(){e.flushSendBuffer(),e.set("sendingInstantly")},t.PRIORITY_HIGH)},canSendEvent:function(){return this.inProduction()||this.inStaging()},destroy:function(){this._flushTimer&&clearInterval(this._flushTimer),this.$super()},flushSendBuffer:function(){var e=this.getEventsBuffer(),t=e.length;if(t>0&&this.canSendEvent()){for(var n,i={};n=e.shift();){i.hasOwnProperty(n.destination)||(i[n.destination]=[]);var r=this.prepareEventItem(n);this.sampleRateCancelsEvent(r["cntr.type"],r._type)?0===i[n.destination].length&&delete i[n.destination]:i[n.destination].push(r)}for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];v["default"].sendRequest({destination:o,method:"POST",data:{json:JSON.stringify(a)}})["catch"](function(){g["default"].error("/KioskedAnalytics/","Failed sending analytics.")})}this._eventsBuffer=[]}},getEventNameProperty:function(){return u["default"].ANALYTICS_EVENT_NAME_PROPERTY},getEventsBuffer:function(){return this._eventsBuffer},getRandomNumber:function(){return u["default"].SAMPLE_RATE_RANDOM_CURRENT},getSampleRate:function(e,t){var n;return n="normal"===e?u["default"].SAMPLE_RATE_0_5:"containerImpression"===t?u["default"].SAMPLE_RATE_CONTAINER_IMP:"containerOpportunity"===t?u["default"].SAMPLE_RATE_CONTAINER_OPP:"pageImpression"===t?u["default"].SAMPLE_RATE_PAGE_IMP:"pageTimings"===t?u["default"].SAMPLE_RATE_PAGE_TIMINGS:"kskdErrors"===t?u["default"].SAMPLE_RATE_KSKD_ERRORS:"kskdMemoryProfiling"===t?u["default"].SAMPLE_RATE_KSKD_MEMORY_PROFILING:["waterfallTrickle","waterfallEnd","waterfallRender","noWaterfallMatched"].indexOf(t)>=0?u["default"].SAMPLE_RATE_WATERFALL:["videoStarted","videoCompleted"].indexOf(t)>=0?u["default"].SAMPLE_RATE_VIDEO:"oldCache"===t?u["default"].SAMPLE_RATE_PAGE_IMP:"scriptStatusUpdate"===t?u["default"].SAMPLE_RATE_SCRIPT_STATUS_UPDATE:"scriptInit"===t?u["default"].SAMPLE_RATE_SCRIPT_INIT:u["default"].SAMPLE_RATE_SEND_ALL},inProduction:function(){return"production"===e},inStaging:function(){return"staging"===e},prepareEventItem:function(e){var t={},n=e.properties;t._type=n[this.getEventNameProperty()];for(var i in n)if(n.hasOwnProperty(i)){if("_"===i[0]&&"_type"!==i){g["default"].log("/"+u["default"].ANALYTICS_MODULE_LOG_NAME+"/","Bad parameter name '"+i+"'");continue}t[i]=n[i]}if(h["default"].isEmpty(t._type))throw new KioskedException("No _type property in analytics packet");return t.sample_rate=this.getSampleRate(t["cntr.type"],t._type),t},processEvent:function(e,t){var n=o.call(this,e,t);if(!n.hasOwnProperty(this.getEventNameProperty())||"string"!=typeof n[this.getEventNameProperty()])throw new KioskedException("Invalid event name for analytics packet");this.sendAnalyticsEvent(n[this.getEventNameProperty()],n)},sampleRateCancelsEvent:function(e,t){var n=this.getSampleRate(e,t);return u["default"].ANALYTICS_SAMPLERATE_IMMUNE_EVENTS.indexOf(t)>=0?!1:this.getRandomNumber()>=n},sendAnalyticsEvent:function(e,t){var n=null;return this.inProduction()?n=h["default"].pageProtocol+u["default"].ANALYTICS_TARGET_DOMAIN_PRODUCTION:this.inStaging()&&(n=h["default"].pageProtocol+u["default"].ANALYTICS_TARGET_DOMAIN_STAGING),this._eventsBuffer.push({event:e,properties:t,destination:n}),this.is("sendingInstantly")&&this.flushSendBuffer(),this.canSendEvent()?(g["default"].log("/"+u["default"].ANALYTICS_MODULE_LOG_NAME+"/ "+e,t),!0):(t.sample_rate=this.getSampleRate(t["cntr.type"],t[this.getEventNameProperty()]),g["default"].log("/"+u["default"].ANALYTICS_MODULE_LOG_NAME+"/ "+e,t,"(log only)"),!1)},setFlushTimer:function(e){h["default"].isset(e)||(e=500);var t=this;this._flushTimer&&clearInterval(this._flushTimer),this._flushTimer=setInterval(function(){t.flushSendBuffer()},e)}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return u["default"].navigationTimingSupported()}function o(){return u["default"].resourcePerfSupported()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=i(a),l=n(12),u=i(l),c=n(5),d=i(c),f=function(){this._timingEvents=[],this._resources=[]};f.prototype.getResources=function(){return this._resources},f.prototype.getTimingEvents=function(){return this._timingEvents},f.prototype.registerEvent=function(e,t,n){return r()?0>=n?!1:(this._timingEvents.push({event:e,properties:t,time:n}),!0):!1},f.prototype.registerEventNow=function(e,t){return this.registerEvent(e,t,u["default"].getCurrentTimestamp())},f.prototype.registerInitialsEvents=function(){this.registerEvent("prevDomUnload",{},d["default"].getNavigationPerfTimingValue("unloadEventStart")),this.registerEvent("pageNavStart",{},d["default"].getNavigationPerfTimingValue("navigationStart")),this.registerEvent("domLoaded",{},d["default"].getNavigationPerfTimingValue("domContentLoadedEventEnd"))},f.prototype.registerResource=function(e){var t=d["default"].getResourceEntryByRegex(e)[0],n={};void 0!==t&&t!==!1&&(s["default"].PERFORMANCE_RESOURCES_PROPS.forEach(function(e){n[e]=t[e]}),this._resources.push(n))},f.prototype.registerResources=function(){if(o())for(var e=[/\/kiosked-loader\.js/i,/(intags\.com|kiosked\.com)(\/sniffer\/get-script|\/widget\/sniff)\//i,/(intags|kiosked).+?ssp\/placement-identifier/i,/scripts\/kiosked-endpoint/i],t=0,n=e.length;n>t;t+=1)this.registerResource(e[t])},t["default"]=f},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var i=e.img,r={pageUrl:n,id:e.zoneId},a=0;if(r.type="webImage",r.responseTypes=e.responseTypes,i instanceof HTMLImageElement&&i.src&&i.src.length>0){if(r.url=i.src,!this.isValidResourceURL(r.url))return O["default"].warn("/Analyzer/","Invalid image URL",i),!1}else r.url=e.zoneId;if(r.width=i.offsetWidth,r.height=i.offsetHeight,r.alt=i.getAttribute("alt"),"index"===this.pageType){var s=o.call(this,i);s&&(r.link=T["default"].getImageFullURL(s))}var l=this.getSettings().getSubset("GeneralAnalyzer"),d=l.get("forceContentElement",!1),f=l.get("excludeContentElement",!1),g=l.get("minWordCount",this.MIN_WORD_COUNT),m=l.get("minWordCount",this.MAX_WORD_COUNT),v=!1,_=i,E="",A=d?document.querySelector(d):!1;if(A)_=A,E=u(_,f),r.content=E,r.caption=p.call(this,_,r),r.title=h.call(this,_,t),r.width=i.offsetWidth,r.height=i.offsetHeight,y["default"].highlightAnalyzedElement(_,"content",this.debugMode);else for(;v===!1;){if("BODY"!==_.parentNode.tagName.toUpperCase()&&"HTML"!==_.parentNode.tagName.toUpperCase()||(v=!0),E=u(_,f),a=c.call(this,E),a>g){var b=_.parentNode,S=u(b,f);a=c.call(this,S),m>a?(r.content=S,r.caption=p.call(this,b,r),r.title=h.call(this,b,t),r.width=i.offsetWidth,r.height=i.offsetHeight,y["default"].highlightAnalyzedElement(_,"content",this.debugMode)):(r.content=E,r.caption=p.call(this,_,r),r.title=h.call(this,_,t),r.width=i.offsetWidth,r.height=i.offsetHeight,y["default"].highlightAnalyzedElement(_,"content",this.debugMode)),v=!0}_=_.parentNode}return r}function o(e){for(var t,n=e.parentNode;n&&n.parentNode;){if("A"===n.tagName.toUpperCase()&&n.getAttribute("href")){t=n.getAttribute("href");break}n=n.parentNode}return a.call(this,t)}function a(e){if(!e)return null;if(-1===e.indexOf("http:")&&-1===e.indexOf("https:")&&(e=window.location.protocol+"//"+s(e)+e),e.indexOf(".jpg")>-1||e.indexOf(".png")>-1||e.indexOf(".gif")>-1)return null;for(var t=s.call(this,e),n=l.call(this),i=!1,r=0;r<n.length;r+=1)n[r].length>3&&-1!==t.indexOf(n[r])&&(i=!0);return i===!1?null:e}function s(e){var t=document.createElement("a");return t.href=e,t.hostname}function l(){for(var e=this.getMediaSettings().getSubset("ui"),t=e.get("hostNames",""),n=t.split(","),i=0;i<n.length;i+=1)n[i]=b["default"].trim(n[i]);return n}function u(e,t){try{if(e instanceof HTMLElement){if(t){e=e.cloneNode(!0);for(var n=M["default"].query(t,e),i=0;i<n.length;i+=1)n[i]instanceof HTMLElement&&M["default"].destroy(n[i])}return b["default"].trim(M["default"].getPlainText(e)).replace(/(\r\n|\n|\r)/gm," ").replace(/\s+/g," ")}}catch(r){O["default"].log("could not process element content",r)}return""}function c(e){return e?(e=e.replace(/(\r\n|\n|\r)/gm," "),e=e.replace(/[ ]{2,}/gi," "),e=e.replace(/(^\s*)|(\s*$)/gi,""),""===e?0:e.split(" ").length):0}function d(e,t,n){for(var i,r,o="",a=0,s=M["default"].query(e,t),l=0;l<s.length;l+=1){i=b["default"].trim(M["default"].getPlainText(s[l]));var u=window.getComputedStyle(s[l],null).getPropertyValue("font-size"),d=parseFloat(u);c.call(this,i)>2&&d>a&&(o=i,a=d,r=s[l])}return n&&a>n?(y["default"].highlightAnalyzedElement(r,"title",this.debugMode),o):n?"":(y["default"].highlightAnalyzedElement(r,"title",this.debugMode),o)}function f(){for(var e="",t="",n=document.getElementsByTagName("title")[0],i=n?M["default"].getPlainText(n):"",r=document.getElementsByTagName("meta"),o=0;o<r.length;o+=1){var a=r[o].getAttribute("property"),s=r[o].getAttribute("name");""===i&&"title"===s&&(i=r[o].getAttribute("content")),""===i&&"og:title"===a&&(i=r[o].getAttribute("content")),""===e&&"og:description"===a&&(e=r[o].getAttribute("content")),""===e&&"description"===s&&(e=r[o].getAttribute("content")),"keywords"===s&&(t=r[o].getAttribute("content"))}return{title:i,description:e,keywords:t}}function h(e,t){var n="",i=M["default"].query("h1",e),r=i.length>0?b["default"].trim(M["default"].getPlainText(i[0])):"",o=document.getElementsByTagName("body")[0];if(0===n.length){if(r.length>0&&(n=r,y["default"].highlightAnalyzedElement(i[0],"title",this.debugMode)),t&&0===n.length&&(n=d.call(this,"h1",o,55)),t&&0===n.length&&(n=d.call(this,"h2",o,55)),t&&0===n.length&&(n=d.call(this,"h3",o,55)),0===n.length){var a=M["default"].query("h2",e);r=a.length>0?b["default"].trim(M["default"].getPlainText(a[0])):"",n=r,y["default"].highlightAnalyzedElement(a[0],"title",this.debugMode)}if(0===n.length){var s=M["default"].query("h3",e);r=s.length>0?b["default"].trim(M["default"].getPlainText(s[0])):"",n=r,y["default"].highlightAnalyzedElement(e,"title",this.debugMode)}if(0===n.length&&(n=d.call(this,"h1",e.parentNode),0===n.length&&(n=d.call(this,"h2",e.parentNode)),0===n.length&&(n=d.call(this,"h3",e.parentNode)),0===n.length)){if(n=d.call(this,"h1",e.parentNode.parentNode),0===n.length&&(n=d.call(this,"h2",e.parentNode.parentNode)),0===n.length&&(n=d.call(this,"h3",e.parentNode.parentNode)),0===n.length&&t)for(var l=document.getElementsByTagName("meta"),u=0;u<l.length;u+=1){var c=l[u].getAttribute("property");"og:title"===c&&(n=l[u].getAttribute("content"))}0===n.length&&(n=d.call(this,"h1",o),0===n.length&&(n=d.call(this,"h2",o)),0===n.length&&(n=d.call(this,"h3",o)))}}return n}function p(e,t){var n="",i=M["default"].query("figcaption",e),r=i.length>0?M["default"].getPlainText(i[0]):!1;if(i=r?b["default"].trim(r):!1)n=i;else for(var o=M["default"].query("a",e),a=0;a<o.length;a+=1)if(t.link&&o[a].getAttribute("href")===t.link){var s=b["default"].trim(M["default"].getPlainText(o[a]));c.call(this,s)>5&&(n=s)}return n}Object.defineProperty(t,"__esModule",{value:!0});var g=n(6),m=i(g),v=n(19),y=i(v),_=n(17),E=i(_),A=n(1),b=i(A),S=n(31),I=i(S),w=n(7),T=i(w),C=n(3),O=i(C),D=n(5),M=i(D);t["default"]=m["default"].extend({MIN_WORD_COUNT:30,MAX_WORD_COUNT:300,construct:function(e){if(this.pageAnalysis=null,this.zoneAnalysis=null,this._settings={},this._zoneReportURL=e.zoneReportURL||null,b["default"].isEmpty(this._zoneReportURL))throw new KioskedException("Unset zone-report URL");this._settings=new E["default"]({}),e&&(e.debugMode===!0&&(this.debugMode=!0),b["default"].isset(e.settings)&&(this._settings=e.settings.getSubset("ui.analyzers"),this._mediaSettings=e.settings))},getSettings:function(){return this._settings},getMediaSettings:function(){return this._mediaSettings},analyzePage:function(e,t,n){var i="article";this.getMediaSettings().getBool("ui.sniff.disableIndexPageAnalysis",!1)===!1&&(i=y["default"].getPageType(e));var r=f.call(this);return this.pageType=i,this.pageAnalysis=r,this.pageAnalysis.url=y["default"].processPageURL(T["default"].getPageUrl()),this.pageAnalysis.type="webPage",this.pageAnalysis.albumId=t,this.pageAnalysis.publisherId=n,this.pageAnalysis.pageType=i,this.pageAnalysis},analyzeZones:function(e){var t=[],n=y["default"].processPageURL(T["default"].getPageUrl());this.pageType||(this.pageType=y["default"].getPageType(e));for(var i=0;i<e.length;i+=1){var o=e[i].img;y["default"].highlightAnalyzedElement(o,"target",this.debugMode);var a=r.call(this,e[i],this.pageType,n);a?t.push(a):O["default"].warn("/Analyzer/","Failed analysis for item:",e[i])}return this.zoneAnalysis=t,t},getPageAnalysis:function(){return this.pageAnalysis&&(this.pageAnalysis.url=y["default"].processPageURL(T["default"].getPageUrl())),this.pageAnalysis},isValidResourceURL:function(e){var t=/https?:\/\/[a-zA-Z0-9._-]+\/([^ ])*/i;return t.test(e)},sendAnalysis:function(e){var t={url:this._zoneReportURL,content:[]};if(e&&this.pageAnalysis&&t.content.push(this.pageAnalysis),this.zoneAnalysis){for(var n=0;n<this.zoneAnalysis.length;n+=1)t.content.push(this.zoneAnalysis[n]);I["default"].sendRequest({destination:t.url,method:"POST",errorCallback:function(){throw new Error("(Kiosked) Failed sending page analysis")},data:{json:JSON.stringify(t.content)}}).then(function(){O["default"].log("/Analyzer/","(Page Analysis)","Successfully sent page analysis.")})}}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(54),l=i(s),u=n(88),c=function(t){function n(e,i){r(this,n);var a=o(this,t.call(this,e,(0,u.styles)(e,i),"a"));return a.setAttribute("href","#"),a}return a(n,t),n.prototype.animateIn=function(){return e.resolve()},n.prototype.animateOut=function(){return e.resolve()},n}(l["default"]);t["default"]=c}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=l["default"].isMobile(),i=n?20:18,r=t===a["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL,o=t===a["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL,s=t===a["default"].PLACEMENT_ANCHOR_TYPE.REWARD,u=e.getBool("ui.media.plugins.ExternalBannerSlot.disclaimerInsideBanner",!1),d=u?c["default"].closeInsideBg:c["default"].closeBg,f={display:"block",height:i+"px",width:i+"px",position:"absolute",top:"0px",cursor:"pointer",backgroundImage:d,backgroundRepeat:"no-repeat !important",backgroundSize:i+"px "+i+"px"},h=u&&!r?"left":"right";return f[h]="0px",r?(f.backgroundImage=c["default"].closeWhiteBg,f.opacity=0,f._full={opacity:1}):(o||s)&&(f.opacity=0),f}Object.defineProperty(t,"__esModule",{value:!0}),t.styles=r;var o=n(2),a=i(o),s=n(10),l=i(s),u=n(38),c=i(u)},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var l=n(2),u=i(l),c=n(54),d=i(c),f=n(90),h=i(f),p=n(87),g=i(p),m=function(t){function n(e,i){r(this,n);var a=o(this,t.call(this,e,(0,h["default"])(e,i)));return a.anchorType=i,a.logoLink=e.get("ui.media.overlays.Disclaimer.disclaimerLink","http://kiosked.com"),a.addStatusSet(["inside","outside"],"outside"),e.getBool("ui.media.plugins.ExternalBannerSlot.disclaimerInsideBanner",!1)&&a.set("inside"),a}return a(n,t),n.prototype.animateIn=function(){return this.animate({duration:400,properties:{opacity:1},easing:"inOutQuintic"})},n.prototype.animateOut=function(){return this.animate({duration:400,properties:{opacity:0},easing:"inOutQuintic"})},n.prototype.getDisclaimerHeight=function(){var e=this.styles.height||"0";return parseInt(e,10)},n.prototype.getDisclaimerWidth=function(){var e=this.styles.width||"0";return parseInt(e,10)},n.prototype.render=function(){var e=this;t.prototype.render.call(this),this.addChild(new g["default"](this.model,this.anchorType)).setID("close").on("click",function(t,n){n.preventDefault(),n.stopPropagation(),e.publish("closeClicked")}),this.addChild("a").setID("logo").setAttribute({href:this.logoLink,target:"_blank"}),this.is("inside")&&(this.on("mouseenter",function(){e.animate({duration:500,properties:e.styles._hovered})}),this.on("mouseleave",function(){e.animate({duration:500,properties:e.styles._rest})}))},n.prototype.showFull=function(){var t=this;if(this.anchorType===u["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL){var n=function(){var e=t.findByID("close");return{v:t.findByID("logo").animate({duration:500,properties:t.styles._full,easing:"inOutQuintic"}).then(function(){return e.animate({duration:500,properties:e.styles._full,easing:"inOutQuintic"})})}}();if("object"===("undefined"==typeof n?"undefined":s(n)))return n.v}return e.resolve()},n.prototype.willMount=function(){this.setStyle("opacity",0)},n}(d["default"]);t["default"]=m}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=u["default"].isMobile(),i=18,r=e.getBool("ui.media.Banner.showDisclaimer",!1),a=79,l=t===s["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL,c=t===s["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL,f=t===s["default"].PLACEMENT_ANCHOR_TYPE.REWARD,h=!l&&!c&&!f,p=h?e.getBool("ui.media.plugins.ExternalBannerSlot.disclaimerInsideBanner",!1):!1,g=p?d["default"].discInsideBg:d["default"].discWhiteBg;n&&(i=20,a=85),r||(a=0),t===s["default"].PLACEMENT_ANCHOR_TYPE.STUB&&(g=p?d["default"].discInsideBg:d["default"].discGreyBg);var m={height:i+"px",width:i+a+"px",bottom:"0px",position:"absolute",overflow:"hidden",logo:{display:"block",width:a+"px",height:i+"px",position:"absolute",top:"0px",backgroundImage:g,backgroundRepeat:"no-repeat !important",backgroundSize:"auto 100%"}},v=p&&!l?"left":"right";return m[v]="0px",m.logo[v]=i+"px",l||c||f?(m._full={},m._full[v]=m.logo[v],m.logo[v]="0px"):p&&(m=o(m,{minWidth:2*i+"px",width:2*i+"px",marginBottom:"-"+i+"px",zIndex:11,_hovered:{width:i+a+"px"},_rest:{width:i+"px"}})),m}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r;var a=n(2),s=i(a),l=n(10),u=i(l),c=n(38),d=i(c)},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(5),s=i(a);t["default"]=o["default"].extend({construct:function(){this.$super(),this._container=null,this.addStatus("built"),this.build()},build:function(){this.is("built")||(this._container=s["default"].create("div"),this.set("built"))},destroy:function(){this.unset("built"),s["default"].destroy(this._container),this._container=null,this.$super()},getContainer:function(){return this._container}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return"<!DOCTYPE html><html><head></head><body>"+e}function o(){return"</body></html>"}Object.defineProperty(t,"__esModule",{value:!0});var a=n(52),s=i(a),l=n(9),u=i(l),c=n(80),d=i(c),f=n(5),h=i(f),p=n(2),g=i(p);t["default"]={createApplicatorForInLine:function(e,t,n){return function(){return e.innerHTML=t,h["default"].reloadScriptsInNode(e).then(n)["catch"](function(e){throw new Error("In-line applicator execution failed: "+e.message)})}},createApplicatorForScript:function(e,t,i,a){return function(){var l=n(151),c=s["default"].createFriendlyIframeTool(),d=c.getIFrame();return c.subscribe("iframeLoaded",function(){u["default"].getGrandCentralStation().publish("iframeLoaded",a)}),d.setAttribute(g["default"].KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,a),c.appendToElement(e),c.writeContent(r(l+"\n"+t)+o()),c.waitForLoad().then(i)}},createApplicatorForVideo:function(e,t,n,i,r){return function(){if(t){var o=new d["default"](e);return o.prepareVideoPlayer().then(function(e){if(!e)throw new KioskedException("Failed building video player");return o.destroy(),e.initialise().then(function(){return e.setVideoOptions(n),e.setKioskID(i),e},function(e){throw new KioskedException("Failed initialising video player: "+e)})}).then(r)}throw new KioskedException("Required: container")}}}},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var i={};i.name=e,i.kioskID=t,i.properties={width:n.proportions.width,height:n.proportions.height,format:n.formatVideo},d["default"].getGrandCentralStation().publish("videoEvent",i)}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=i(a),l=n(17),u=i(l),c=n(9),d=i(c),f=n(92),h=i(f),p=n(70),g=i(p),m=n(46),v=i(m),y=n(69),_=i(y),E=n(49),A=i(E),b=n(50),S=i(b),I=n(1),w=i(I),T=n(3),C=i(T),O=n(7),D=i(O),M=n(5),P=i(M),k=n(10),x=i(k),N={createAdElementWithWaterfall:function(t,n,i,a,l,c){a=a||new u["default"];var d=n.getCurrentStep(),f=n.getMeta("link","#");if(d!==!1){var p=d.network.toLowerCase(),m=(d.applicator||"").toLowerCase(),v=N.getElementType(p,m,d.mediaType),y=N.getAdElementClass(p),E=c||new y({kioskID:i,zIndex:a.get("ui.media.zIndex",!1)}),b=function(){E.set("loaded"),E.publish("loaded")},I=P["default"].create("div"),T={advertiserID:d.advertiserID,zoneID:d.zone,network:p,kioskID:i,width:d.proportions.width,height:d.proportions.height,placementType:l.getOptions().placementType,domain:D["default"].getPageDomain(),dfpCount:E instanceof g["default"]?E.getDFPIndex():-1,fldStatus:l.getRTBPosition(),protocol:w["default"].pageProtocol.replace(":",""),resourcesDomain:D["default"].getResourcesDomain(),href:f};if(t.setAttribute(s["default"].KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,i),"script"===v){t.insertBefore(I,t.firstChild);var O="custom"===d.network?d.content:N.getScriptResourceForNetwork(p);if(O=_["default"].resolveContent(O,T)){var M=h["default"].createApplicatorForScript(I,O,b,i);return E.setScalingElement(I),E.setApplicator(M),E}throw new KioskedException("No script content available for network: "+p)}if("in-line"===v){I=N.createInLine(i),t.insertBefore(I,t.firstChild);var k="custom"===d.network?d.content:N.getScriptResourceForNetwork(p);if(k=_["default"].resolveContent(k,T)){var x=h["default"].createApplicatorForInLine(I,k,b);return E.setScalingElement(I),E.setApplicator(x),E}throw new KioskedException("No in-line content available for network: "+p)}if("video"===v){var R=l.getOptions().anchorType,L={autoplay:!0,soundAlways:!1};R===s["default"].PLACEMENT_ANCHOR_TYPE.REWARD&&(L={autoplay:!1,soundAlways:!0}),t.appendChild(I);var F="custom"===d.network?d.content:d.zone,B=h["default"].createApplicatorForVideo(o({
vastID:F},T),I,L,i,function(t){return t instanceof A["default"]?(d.formatVideo="flash",E.set("flash"),E.removeScaling()):t instanceof S["default"]&&(d.formatVideo="html5",E.set("html5"),E.subscribe("visibilityChanged",function(e){e.visible?t.publish("onScreen"):t.publish("outOfScreen")})),t.onEvents("adCompleted","adErrored","adLoaded","adStarted").publishOn(E),t.setupInContainer(I),new e(function(e){if("html5"===d.formatVideo&&t.subscribe("adLoaded",function(){if(L.autoplay)t.publish("startVideo"),b(),e();else{l.getFixedContainerElement().style.display="none";var n=l.getOptions().rewardButton;n.addEventListener("click",function(){t.publish("startVideo"),b(),e()})}}),"flash"===d.formatVideo)if(L.autoplay)t.subscribe("adLoaded",function(){b(),e()});else{l.getFixedContainerElement().style.top="100%";var n=l.getOptions().rewardButton;n.addEventListener("click",function(){l.getFixedContainerElement().style.top="0",t.publish("startVideo"),b(),e()})}E.subscribe("adStarted",function(){r("videoStarted",l.getOptions().kioskID,d)}),E.subscribe("adCompleted",function(){r("videoCompleted",l.getOptions().kioskID,d)})})});return E.setScalingElement(I),E.setApplicator(B),E}C["default"].warn("/AdElementFactory/","Failed getting information for network:",d.network)}else C["default"].warn("/AdElementFactory/","Unable to get waterfall step information for creating an ad element");return!1},createInLine:function(e){var t=P["default"].create("div");return t.setAttribute(s["default"].KIOSKED_AD_ELEMENT_ID_ATTRIBUTE,e),t},getAdElementClass:function(e){switch(e.toLowerCase()){case"dfp":return g["default"];default:return v["default"]}},getElementType:function(e,t,n){switch(e){case"iow":if("video"===n)return"video";case"dfp":case"test:script":return"in-line";case"appnexus":case"criteo":case"openx":case"districtm":case"pulsepoint":case"technorati":case"xaxisnaeu":case"xaxissea_id":case"xaxissea_my":case"xaxissea_sg":case"aol":case"smaato":return"script";case"vast":return"video";case"custom":return t;default:return!1}},getNetworkURL:function(e,t,n,i){switch(i=i||new u["default"],e.toLowerCase()){default:return""}},getScriptResourceForNetwork:function(e){switch(e.toLowerCase()){case"appnexus":case"xaxisnaeu":case"xaxissea_id":case"xaxissea_my":case"xaxissea_sg":return n("https:"===w["default"].pageProtocol?155:154);case"dfp":return n(157);case"districtm":return n(158);case"criteo":return n(156);case"openx":return n(160);case"pulsepoint":return n(161);case"technorati":return n(163);case"iow":return n(159);case"aol":return n(x["default"].isMobile()?153:152);case"smaato":return n(162);case"test:script":return n(164);default:return null}}};t["default"]=N}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(89),o=i(r);t["default"]={createBarWithSettings:function(e,t){return new o["default"](e,t)}}},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){if(e.targetElement instanceof HTMLElement!=!0)throw new Error("Target element was not a HTMLElement");if(e.settings instanceof f["default"]!=!0)throw new Error("Settings option was not an instance of KModel")}function o(e){var t=e.settings,n=p["default"].createBarWithSettings(t,e.anchorType),i=!t.getBool("ui.media.Banner.noScale",!1);return e.anchorType===c["default"].PLACEMENT_ANCHOR_TYPE.BOX?new T["default"](e.targetElement,{disclaimer:n,kioskID:e.kioskID,scaleEnabled:i}):e.anchorType===c["default"].PLACEMENT_ANCHOR_TYPE.STUB?new O["default"](e.targetElement,{disclaimer:n,kioskID:e.kioskID,placementPosition:t.get("ui.media.plugins.ExternalBannerSlot.placementPosition","after"),scaleEnabled:i,margin:t.getInt("ui.media.plugins.ExternalBannerSlot.margin",10)}):e.anchorType===c["default"].PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?new M["default"](e.targetElement,{disclaimer:n,kioskID:e.kioskID,scaleEnabled:i}):e.anchorType===c["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?new k["default"](e.targetElement,{disclaimer:n,kioskID:e.kioskID,scaleEnabled:i}):e.anchorType===c["default"].PLACEMENT_ANCHOR_TYPE.REWARD?new k["default"](e.targetElement,{disclaimer:n,kioskID:e.kioskID,scaleEnabled:i,reward:!0}):e.anchorType===c["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL?new N["default"](e.targetElement,{disclaimer:n,kioskID:e.kioskID,scaleEnabled:i,triggerPoint:t.getInt("ui.media.Banner.inScrollElementTrigger",10)}):null}function a(e,t){var n=[];return n.push(new L["default"]({},t)),e===c["default"].PLACEMENT_ANCHOR_TYPE.BOX?(n.push(new B["default"]({},t)),n.push(new j["default"]({},t)),n.push(new W["default"]({},t))):e===c["default"].PLACEMENT_ANCHOR_TYPE.STUB?(n.push(new U["default"]({},t)),n.push(new W["default"]({},t))):e===c["default"].PLACEMENT_ANCHOR_TYPE.LAUNCHPAD?n.push(new Z["default"]({},t)):e===c["default"].PLACEMENT_ANCHOR_TYPE.INTERSTITIAL?n.push(new Y["default"]({},t)):e===c["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL?n.push(new Q["default"]({},t)):e===c["default"].PLACEMENT_ANCHOR_TYPE.REWARD&&n.push(new Y["default"]({},t)),n}Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),l=i(s),u=n(2),c=i(u),d=n(17),f=i(d),h=n(94),p=i(h),g=n(29),m=i(g),v=n(20),y=i(v),_=n(121),E=i(_),A=n(30),b=i(A),S=n(122),I=i(S),w=n(24),T=i(w),C=n(37),O=i(C),D=n(36),M=i(D),P=n(59),k=i(P),x=n(58),N=i(x),R=n(131),L=i(R),F=n(128),B=i(F),H=n(130),j=i(H),z=n(129),W=i(z),V=n(124),U=i(V),G=n(125),Z=i(G),q=n(127),Y=i(q),K=n(126),Q=i(K),X={createPlacementContainerWithOptions:function(t){if(t=t||{},t=l["default"].mergeDefaults({anchorType:!1,categories:!1,kioskedZoneID:"",kioskID:""+Math.round(1e7*Math.random()),settings:null,settingsMeta:{},targetElement:null,publisherID:null,siteID:null,waterfall:null,waterfallsInitial:0},t),r(t),t.anchorType===!1&&(t.anchorType=b["default"].resolveAnchorTypeForSettings(t.settings),t.anchorType===!1))return e.reject("No suitable anchor type was resolved");var n=m["default"].getSharedInstance(),i=n.registerCount(y["default"].InstanceType.Anchor,t.anchorType,t.kioskID);return i?e.resolve().then(function(){var e=o(t);if(null===e)throw new KioskedException("Failed creating anchor");return e.createAnchorElement(),e.createContainerElement(),e.prepareDisclaimer(),e}).then(function(e){return new E["default"](e,{categories:t.categories,kioskedZoneID:t.kioskedZoneID,settings:t.settings,publisherID:t.publisherID,siteID:t.siteID,settingsMeta:t.settingsMeta,waterfallTemplate:t.waterfall,waterfallsInitial:t.waterfallsInitial})}).then(function(e){return new I["default"](e)}).then(function(e){for(var n=a(t.anchorType,t.settings),i=n.length,r=0;i>r;r+=1)e.getInputManager().addInput(n[r]);return e.getInputManager().start(),e}):n.waitForSlot(y["default"].InstanceType.Anchor,t.anchorType,t.kioskID).then(function(){return X.createPlacementContainerWithOptions(t)})}};t["default"]=X}).call(t,n(4))},function(e,t){/**
	 * The Kiosked consumer JS library - ad delivery platform.
	 * @copyright Kiosked Ltd. 2014 - All rights reserved.
	 * @license Commercial
	 * @namespace ITGS
	 * @name ITGS
	 * @public
	 * @type {{}}
	 */
var n=window.ITGS=window.ITGS||{};n.Includes=n.Includes||{},n.Plugins=n.Plugins||{},n.Facades=n.Facades||{},n.Analyzers=n.Analyzers||{},n.AdProviders=n.AdProviders||{},n.MessageHandlers=n.MessageHandlers||{},n.MessageSources=n.MessageSources||{},n.Sniffing=n.Sniffing||{},n.External=n.External||{},n.overrideFunctions=n.overrideFunctions||{},n.destructors={},n.eventCallbacks=n.eventCallbacks||[]},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=u("./"+e+".js");return"default"in t?t["default"]:t}var o=n(107),a=i(o),s=n(4),l=i(s),u=n(174),c={"locators/IOWManagerLocator":"misc/locators/IOWManagerLocator",DemoCreativeManager:"misc/library/DemoCreativeManager","misc/tools":"misc/tools/index","misc/styles":"misc/styles/index",Promise:l["default"]};ITGS.Facades.URLProcessing=r("misc/facades/URLProcessingFacade"),ITGS.createReward=a["default"].createReward,ITGS.r=function(e,t){e in c&&(e=c[e]);var n=e;return"string"==typeof e&&(n=r(e)),n?t?(t(n),!0):n:void 0}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}n(96);var r=n(26),o=i(r),a=n(22),s=i(a),l=n(25),u=i(l),c=new o["default"],d=new s["default"];u["default"].decorateWithStatus(window.ITGS,c),u["default"].decorateWithPubSub(window.ITGS,d)},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(53),o=i(r),a=n(62),s=i(a);t["default"]={isAllowedOnDomain:function(){return s["default"].domainIsValid(o["default"].getClientDataset("allowedDomains",[]))},isDisabled:function(){return window.disableITGS===!0}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="ui.override.js.ITGS.";t["default"]={getOverrideFunctions:function(e){var t={};return["GrandCentralStation.libraryInit","SnifferUtilities.processPageURL","SnifferUtilities.processImageURL","tools.getWindowLocationPath"].forEach(function(i){var r=n+i,o=e.get(r);"function"==typeof o&&(t[i]=o)}),t}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.className="kskdDiv",e}function l(e,t,n){e.setAttribute(t,n)}function u(e,t,n){var i=e.element,r=e.getComponentID();for(var o in t)if(t.hasOwnProperty(o))if("object"===c(t[o]))e.children.forEach(function(e){e.getID()===o&&e.getComponentID()===r&&u(e,t[o],n)});else{var a=n?void 0:t[o];p["default"].applyStyle(i,o,a),e.styles[o]=a}}var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var d=n(65),f=i(d),h=n(139),p=i(h),g=n(1),m=i(g),v=n(5),y=i(v),_="komp",E=function(e){function t(n){r(this,t);var i=o(this,e.call(this));return i.element=s(i.createElement(n)),i.children=[],i.styles={},i._data={},i._events=[],i}return a(t,e),t.create=function(e){return new t(e)},t.prototype.addChild=function(e,n){var i="string"==typeof e?new t(e):e,r=n||this.getData("komponent-id");return r&&i.setComponentID(r),i.isNot("mounted")&&this.element.appendChild(i.element),this.children.push(i),i},t.prototype.animate=function(e){return m["default"].animate(this.element,e)},t.prototype.createElement=function(e){return document.createElement(e||"div")},t.prototype.destroy=function(){this.children.forEach(function(e){e.destroy()}),this._events.forEach(function(e){try{e()}catch(t){}}),this._events=[],e.prototype.destroy.call(this)},t.prototype.findByID=function(e){for(var t=void 0,n=0,i=this.children.length;i>n;n+=1){if(this.children[n].getData("id")===e)return this.children[n];if(t=this.children[n].findByID(e))return t}},t.prototype.getComponentID=function(){return this.getData("komponent-id")},t.prototype.getData=function(e){return this._data.hasOwnProperty(e)?this._data[e]:void 0},t.prototype.getID=function(){return this.getData("id")},t.prototype.on=function(e,t){var n=this,i=function(e){t(n,e)},r=y["default"].addEvents(this.element,e,i),o=function(){r.forEach(function(e){e.remove()})};return this._events.push(o),{unlisten:function(){n._events.splice(n._events.indexOf(o),1),o()}}},t.prototype.removeStyles=function(e){var t={};return e.forEach(function(e){t[e]=!0}),u(this,t,!0),this},t.prototype.setAttribute=function(e,t){var n=e;"string"==typeof e&&(n={},n[e]=t);for(var i in n)n.hasOwnProperty(i)&&l(this.element,i,n[i]);return this},t.prototype.setComponentID=function(e){return this.setData("komponent-id",e),this},t.prototype.setData=function(e,t){return l(this.element,"data-"+_+"-"+e,t),this._data[e]=t,this},t.prototype.setID=function(e){return this.setData("id",e),this},t.prototype.setStyle=function(e,t){if("string"==typeof e){var n={};n[e]=t,u(this,n)}else u(this,e);return this},t}(f["default"]);t["default"]=E},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){this._creatives={},this._zones={},this._config={bucket:""},this._updated=!1,p["default"].decorateWithPubSub(this,new l["default"]);var e=this;this.subscribe("update",function(){e&&(e._updated=!0)})}var o=function(){function e(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(i=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{!i&&s["return"]&&s["return"]()}finally{if(r)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(22),l=i(s),u=n(34),c=i(u),d=n(1),f=i(d),h=n(25),p=i(h),g=n(7),m=i(g);r.boot=function(){var t=this;return new e(function(e){t._updated===!0?e():c["default"].createAndInsert(f["default"].pageProtocol+"//"+m["default"].getResourcesDomain()+"/demo/creatives/boot.js").then(e)})},r.prototype.getConfig=function(){return this._config},r.prototype.getRandomCreative=function(e){if(this._zones[e]){var t=this._zones[e].creatives.length,n=this._zones[e].creatives[f["default"].getRandomInt(0,t-1)],i=this._zones[e].link,r=f["default"].deepClone(this._creatives[n]),a=this.getConfig();if(r){var s=r.size.split("x"),l=o(s,2);return r.width=l[0],r.height=l[1],r.url=f["default"].pageProtocol+"//"+a.bucket+"/"+a.destination+r.filename,r.link=i,r}}return null},r.prototype.registerCreative=function(e,t,n,i){this._creatives[e]={name:e,filename:t,size:n,type:i||""}},r.prototype.registerZone=function(e,t,n){this._zones[e]={creatives:t,link:n||"#"}},r.prototype.setConfigOption=function(e,t){this._config[e]=t},r.getSharedInstance=function(){return a||(a=new r),a},t["default"]=r}).call(t,n(4))},function(e,t){function n(e,t,n,i,r,o){var a=o?"on"+o+t:"on"+t,u=r[a],c=void 0;if("event"===e){if(u&&(c=u(t,n,i),"before"===o&&c===s.Cancel))return l.Cancel;r.onstatechange&&!o&&r.onstatechange(t,n,i)}else if("state"===e&&o&&u){if(c=u(t,n,i),"enter"===o&&c===s.Cancel)return l.Cancel;if("leave"===o&&c===s.Transition)return l.Async}return l.None}function i(e,t,n){for(var i=t.length,r=0;i>r;r+=1)if(t[r].name===n&&t[r].from===e)return t[r];return null}function r(e,t,r,o){if(!e.can(r))throw new Error("Transition not possible: "+r+"("+e.current+")");var s=function(){var a=i(e.current,t,r),s=e.current,u=n("event",r,s,a.to,o,"before");if(u===l.Cancel)return{v:void 0};var c=function(){n("state",a.to,s,a.to,o,"enter"),e.current=a.to,n("event",r,s,a.to,o),n("state",a.to,s,a.to,o)},d=n("state",s,s,a.to,o,"leave");d===l.Async?(e.current=null,e.transition=function(t){if(t!==a.to)throw new Error("Illegal async transition from '"+s+"' to '"+t+"', "+("expected to transition to '"+a.to+"'"));c(),delete e.transition}):c()}();return"object"===("undefined"==typeof s?"undefined":a(s))?s.v:void 0}function o(e){var t=e.events||[],n=e.callbacks||{},o={current:e.initial||null},a=[];return t=t.filter(function(e){return Array.isArray(e.from)?(e.from.forEach(function(t){a.push({name:e.name,from:t,to:e.to})}),!1):!0}).concat(a),t.forEach(function(e){o[e.name]=function(){r(o,t,e.name,n)}}),o.can=function(e){return o.transition?!1:!!i(o.current,t,e)},o.cannot=function(e){return!o.can(e)},o.is=function(e){return Array.isArray(e)?e.indexOf(o.current)>=0:o.current===e},o}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var s={Transition:102,Cancel:101,None:100},l={Async:2,Cancel:1,None:0};o.CallbackAction=s,t["default"]=o},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(6),s=i(a),l=n(32),u=i(l),c=n(9),d=i(c);t["default"]=s["default"].extend({construct:function(){this._eventsQueue=[],this._keyName="KskdQueueEvents"},getKeyName:function(){return this._keyName},getEventsQueue:function(){return this._eventsQueue},setEventInQueue:function(e){this._eventsQueue.push(e)},clearQueueStorage:function(){u["default"].remove(this.getKeyName())},sendQueueFromStorage:function(){var e=u["default"].get(this.getKeyName());if("string"==typeof e){e=JSON.parse(e);for(var t=0,n=e.length;n>t;t+=1)d["default"].getGrandCentralStation().dispatch(o["default"].ANALYTICS_EVENT_NAME,e[t]);this.clearQueueStorage()}},saveQueueInStorage:function(){var e=this.getEventsQueue();u["default"].set(this.getKeyName(),JSON.stringify(e))}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this;this.subscribe("validContainer",function(){e._validContainers+=1}),this.subscribe("validInventory",function(){e._validInventory+=1})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=i(o);t["default"]=a["default"].extend({construct:function(){this.$super(),this._validContainers=0,this._validInventory=0,r.call(this)},getValidContainers:function(){return this._validContainers},getValidInventory:function(){return this._validInventory}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this.getOptions();this.set("setupQuantcast");try{this._initiateQuantcastScript(),this._pushEvent(e.publisherID,e.siteID),c["default"].log("/QuantcastManager/","Quantcast booted publisher "+e.publisherID+" and site "+e.siteID)}catch(t){c["default"].error("/QuantcastManager/","Failed setting up Quantcast: "+t.message)}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(6),a=i(o),s=n(1),l=i(s),u=n(3),c=i(u),d="p-ynz_3dxL9ZLvx";t["default"]=a["default"].extend({construct:function(e){this.$super(),e=e||{},this._options=l["default"].mergeDefaults({name:"QuantcastManager",publisherID:"",siteID:""},e),this.addStatus("setupQuantcast")},boot:function(){this.hasNot("setupQuantcast")&&r.call(this)},getOptions:function(){return this._options},_initiateQuantcastScript:function(e){e=e||function(e){var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)},window._qevents=window._qevents||[];var t=document.createElement("script");return t.src=("https:"===document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js",t.async=!0,t.type="text/javascript",e(t),t},_pushEvent:function(e,t){window._qevents.push({qacct:d,labels:"publisher."+e+",site."+t})}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(12),o=i(r);t["default"]={createReward:function(t){var n=document.createElement("div");n.className="kskdReward",document.body.appendChild(n);var i=parseInt(o["default"].getCurrentTimestamp()*Math.random(),10);n.setAttribute("kskdrewardid",i);var r=t instanceof HTMLElement?t:document.querySelector(t),a={placementContainer:{},on:function(e,t){ITGS.subscribe(e,function(e){e===a.placementContainer.getPlacement().getOptions().kioskID&&t()})}};return new e(function(e){ITGS.subscribe("placementCreated",function(t){var n=t.getPlacement().getAnchor();i===parseInt(n.getTargetElement().getAttribute("kskdrewardid"),10)&&(a.placementContainer=t,n.getOptions().rewardButton=r,e(a))})})}}}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(10),s=i(a),l=function(e){this._settingsData=e};l.prototype.fetchSettingsForDeviceType=function(e){return this.getSettingsData().filter(function(t){if(t.hasOwnProperty("targetDeviceFamily")){var n=parseInt(t.targetDeviceFamily,10);return n===e}return!0})},l.prototype.getCurrentDevice=function(){return s["default"].isMobile()?o["default"].SETTINGS_DEVICE_TARGET.MOBILE:o["default"].SETTINGS_DEVICE_TARGET.DESKTOP},l.prototype.getMergedSettingsForCurrentDevice=function(){return this.getMergedSettingsForDevice(this.getCurrentDevice())},l.prototype.getMergedSettingsForDevice=function(e){return this.mergeDeviceTypesInData(this.fetchSettingsForDeviceType(o["default"].SETTINGS_DEVICE_TARGET.ANY),this.fetchSettingsForDeviceType(e))},l.prototype.getSettingsData=function(){return this._settingsData},l.prototype.mergeDeviceTypesInData=function(e,t){var n=[].concat(e).concat(t),i=n.length;return n.filter(function(e){for(var t=0;i>t;t+=1)if(n[t].key===e.key&&n[t].target===e.target){var r=parseInt(n[t].targetDeviceFamily,10),a=parseInt(e.targetDeviceFamily,10);if(a===o["default"].SETTINGS_DEVICE_TARGET.ANY&&r!==o["default"].SETTINGS_DEVICE_TARGET.ANY)return!1}return!0})},t["default"]=l},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){var i=!1;if(n.conditionType)switch(n.conditionType){case l["default"].SETTINGS_CONDITION_VALUE.DEFAULT:i=[].concat(n.properties||[]);break;case l["default"].SETTINGS_CONDITION_VALUE.ACCOUNT:parseInt(t,10)===parseInt(n.conditionValue,10)&&(i=[].concat(n.properties||[]));break;case l["default"].SETTINGS_CONDITION_VALUE.URI:var r=new RegExp(n.conditionValue,"i");r.test(e)&&(i=[].concat(n.properties||[]));break;default:f["default"].warn("/SettingsFlattener/","Unrecognised settings condition type: "+n.conditionType)}return i}function o(e,t,n){n=n||[];var i=e(t),r=n.length;if(i===!1)return n;var a=i.map(function(e){return c["default"].isEmpty(e.target)&&(e.target=null),e}).filter(function(e){for(var t=!1,i=0;r>i;i+=1)if(e.key===n[i].key&&e.target===n[i].target&&parseInt(e.targetDeviceFamily,10)===parseInt(n[i].targetDeviceFamily,10)){t=!0,n[i].value=e.value;break}return t===!1}),s=[].concat(n).concat(a);return(t.childConditions||[]).forEach(function(t){s=o(e,t,s)}),s}function a(e,t,n){var i=e.settingsTree,a=c["default"].curry(r)(t,n);return o(a,i)}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=a;var s=n(2),l=i(s),u=n(1),c=i(u),d=n(3),f=i(d)},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){e.subscribe("iowRender",function(e){var t=p["default"].getPlacementContainerByID(e.kioskID);if(!t)throw new KioskedException("Failed finding placement container for IOW render event");t.getPlacement().getWaterfallTrickleData().then(function(e){e[a["default"].ANALYTICS_EVENT_NAME_PROPERTY]="waterfallRender",m["default"].getGrandCentralStation().dispatch(a["default"].ANALYTICS_EVENT_NAME,e)})})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(6),l=i(s),u=n(111),c=i(u),d=n(140),f=i(d),h=n(21),p=i(h),g=n(9),m=i(g),v=n(7),y=i(v);t["default"]=l["default"].extend({construct:function(){this.$super(),this._proxy=null},getProxy:function(){return null===this._proxy&&(this._proxy=new c["default"],r(this._proxy)),this._proxy},getTagProvider:function(){return window[a["default"].IOW_TAGPROVIDER_GLOBAL_NAME]?window[a["default"].IOW_TAGPROVIDER_GLOBAL_NAME]:null},prepareLibrary:function(){return new e(function(e,t){if(f["default"].isInitialised())e();else{var n=f["default"].init(function(){e()},a["default"].IOW_GLOBAL_NAMESPACE,y["default"].getIOWAdServerURL(),a["default"].IOW_AD_RESPONSE_CB,a["default"].IOW_AD_RESPONSE_SLOT_PREFIX,a["default"].IOW_TAGPROVIDER_GLOBAL_NAME);n||t("Unable to initialise IOW")}})}})}).call(t,n(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=C[e];return t?t:!1}function o(e,t){var n=this.getQueue(),i=this.generateSectionQueueIndex(e),r=g["default"].getIOWManager(),o=d["default"].getSnifferController(),a=o.getSettingsMetaAbTesting().test;if(r&&n){var s=n[i]=n[i]||[],l=s.length,u=r.getTagProvider();if(l>t){var c=s[t],f=A["default"].isMobileFriendly()?1:0;c.open=!1,c.slots=c.placements.length,u.requestAds({sectionId:e,dmp:!1,fld:c.foldStatuses.join(","),sync:!1,plc:c.placements.join(","),suid:c.requestLocalID,url:A["default"].getPageUrl(),device_family:A["default"].getDeviceType(),ab_test_value:a,mf:f})}}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=i(a),l=n(112),u=i(l),c=n(18),d=i(c),f=n(9),h=i(f),p=n(28),g=i(p),m=n(52),v=i(m),y=n(1),_=i(y),E=n(7),A=i(E),b=n(3),S=i(b),I=110,w=15e3,T=5,C={"in-media":"m","in-line":"l","in-screen":"s",interstitial:"t","in-scroll":"i",reward:"r"},O=200,D="s";t["default"]=s["default"].extend({construct:function(){this.$super(),this._queue={}},claimQueuedSlots:function(e,t,n){var i=this.getQueue(),r=this.generateSectionQueueIndex(e);if(null!==i)for(var o=i[r]||[],a=o.length,s=0;a>s;s+=1){var l=o[s];if(l.open===!1&&l.requestLocalID===n)return l.open=!1,l.slots=t,l}return null},destroy:function(){this._queue=null,this.$super()},fetchSlotData:function(t,n,i){var o=r(t);if(o===!1)throw new KioskedException("Invalid placement type: "+t);var a=this,s=0;return new e(function(e,t){!function r(){var l=a.getQueue(),u=a.generateSectionQueueIndex(n);if(null!==l){for(var c=l[u]||[],d=c.length,f=!1,h=!1,p=0;d>p;p+=1){for(var g=c[p].slots||[],m=g.length,v=0;m>v;v+=1)if(g[v].plc===o&&parseInt(g[v].fld,10)===i){h=v;break}if(h!==!1){f=g[h],g.splice(h,1);break}}if(f)e(f);else{if(s>=w)return void t("Wait time exceeded, no valid slot response was found");s+=I,setTimeout(r,I)}}else t("No queue present in proxy")}()})},generateLocalID:function(e,t){return e+"_"+t},generateSectionQueueIndex:function(e){return D+e},getNewRequestPacket:function(){return{foldStatuses:[],open:!0,placements:[],requestLocalID:"",sectionID:0,slots:!1}},getQueue:function(){return this._queue},processSlotsResponse:function(e,t){var n=t.length,i=n>0?t[0].suid:!1;if(!i)throw new KioskedException("Invalid local ID, or no IOW local ID available");this.claimQueuedSlots(e,t,i),S["default"].log("/IOWProxy/","Received "+n+" slots on section "+e)},fetchVastData:function(e,t,n){return n=parseInt(n,10),this.fetchSlotData(e,t,n).then(function(e){return new u["default"](e)}).then(function(e){return e.getResponseData().data})},renderSlot:function(t,n,i,r,o){var a=this,s=h["default"].getGrandCentralStation();return o=parseInt(o,10),this.fetchSlotData(n,i,o).then(function(e){return new u["default"](e)}).then(function(n){if(n.isEmpty())return S["default"].log("/IOWProxy/","IOW empty fill: fallback"),s.publish("placementFillError",r),e.reject("No fill");var o=v["default"].createFriendlyIframeTool(),l=o.getIFrame();return o.subscribe("iframeLoaded",function(){s.publish("iframeLoaded",r)}),n.isPassback()&&s.publish("networkFallbackInitiated",{fallback:!0,container_id:r},!1),o.prependToElement(t),l.setAttribute("data-kioskid",r),o.writeContent(n.getPlacementHTML()),a.publish("iowRender",{kioskID:r,sectionID:i}),o.waitForLoad()})},requestSlot:function(e,t,n){var i=r(e);if(i===!1)throw new KioskedException("Invalid placement type: "+e);var a=this.getQueue(),s=this.generateSectionQueueIndex(t),l=a[s]=a[s]||[],u=l.length,c=null;if(u>0&&(c=l[u-1],c.open!==!0&&(c=null)),null===c){c=_["default"].mergeDefaults(this.getNewRequestPacket(),{sectionID:t}),l.push(c);var d=l.length-1,f=this;c.requestLocalID=this.generateLocalID(s,d),c.timer=setTimeout(function(){o.call(f,t,d)},O)}c.placements.push(i),c.foldStatuses.push(n),c.placements.length>=T&&(c.open=!1)}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=e.data||"",n=t.replace(d,"");return a({},e,{data:n,passback:t!==n})}function o(e){return'<html><body style="margin: 0%"><script type="text/javascript">'+e+"</script><!-- Kskd wrapped placement --></body></html>"}var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),l=i(s),u=n(1),c=i(u),d=/<script.+?(kiosked\.com|intags\.com)\/scripts\/(kiosked|kskd)_fallback\.js.+?<\/script>/i;t["default"]=l["default"].extend({construct:function(e){this.$super(),this._data=r(e)},getFormat:function(){var e=this.getResponseData();return e.type?e.type.toLowerCase():""},getPlacementHTML:function(){var e=this.getFormat(),t=this.getResponseData().data;return"html"===e?t:"javascript"===e?o(t):""},getResponseData:function(){return this._data||{}},isEmpty:function(){return c["default"].isEmpty(this.getResponseData().data)},isPassback:function(){return this._data.passback}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(104),a=i(o);t["default"]={getLocalStorageEventQueue:function(){return r||(r=new a["default"]),r}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){if(!this._scriptCache.hasOwnProperty(e))throw new Error("/ScriptLocator/ Unrecognised cache class: "+e);this._scriptCache[e][t]=n}function o(e,t){return this._scriptCache.hasOwnProperty(e)&&this._scriptCache[e][t]?this._scriptCache[e][t]:!1}function a(){this._scriptCache={withAttributes:{},withURLRegex:{}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),l=i(s),u=n(34),c=i(u),d=n(5),f=i(d),h="first",p="last";t["default"]=l["default"].extend({construct:function(){this.$super(),a.call(this),this._orderPreference=h},destroy:function(){this.clearCache(),this.$super()},clearCache:function(){a.call(this)},getOrderPreference:function(){return this._orderPreference},locateScriptWithAttributes:function(e){e=e||{};var t="attrs-";for(var n in e)e.hasOwnProperty(n)&&(t+=""+n+":"+e[n]+";");var i=o.call(this,"withAttributes",t);if(i!==!1)return new c["default"](i,{fromCache:!0});var a=f["default"].getElementsWithAttributes("script",e),s=a.length;if(s>0){var l=this.getOrderPreference()===h?a[0]:a[s-1];return r.call(this,"withAttributes",t,l),new c["default"](l)}return!1},locateScriptWithURLMatch:function(e){var t=o.call(this,"withURLRegex",e.toString());if(t!==!1)return new c["default"](t,{fromCache:!0});var n=f["default"].getElementsWithAttributes("script",{src:""}),i=n.length,a=!1;if(i>0)if(this.getOrderPreference()===h){for(var s=0;i>s;s+=1)if(e.test(n[s].getAttribute("src"))){a=n[s];break}}else for(var l=i-1;l>=0;l-=1)if(e.test(n[l].getAttribute("src"))){a=n[l];break}return a?(r.call(this,"withURLRegex",e.toString(),a),new c["default"](a)):!1},setPrefersFirst:function(e){this._orderPreference=e===!0?h:p}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return f["default"].hasOwnProperties(e,["data","origin","source"],function(e,t){return e[t]&&!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=i(o),s=n(118),l=i(s),u=n(1),c=i(u),d=n(43),f=i(d),h=n(3),p=i(h);t["default"]=a["default"].extend({construct:function(e){this.$super(),this._options=c["default"].mergeDefaults({name:"AppNexusMessageHandler",messageSource:null},e||{})},canHandleMessage:function(e){if(r(e)&&"string"==typeof e.data){var t=/^kskd_window_message:\{(.*)+$/;return t.test(e.data)===!0}return!1},handleMessage:function(e){var t=e.data;t=t.replace("kskd_window_message:","");var n=!1;try{n=JSON.parse(t)}catch(i){p["default"].warn("/AppNexusMessageHandler/","Received bad message:",i,e)}n!==!1&&this.processMessageObject(n)},processMessageObject:function(e){var t=this.getOptions(),n=this.getGCS();if(e.hasOwnProperty("name"))if("ping"===e.name)t.messageSource instanceof l["default"]&&t.messageSource.sendMessage({name:"ping_response"});else if("fallback_list"===e.name){var i=e.appnexus_fallback_list||[],r=e.window_chain||[],o={zones:i,frame_urls:r};n.publish("appNexusFallbacksReceived",o,!1)}else if("fallback_initiated"===e.name){var a=e.window_chain||[],s={fallback:!0,frame_urls:a};e.dfpFrame&&(s.dfpFrame=e.dfpFrame),n.publish("appNexusFallbackInitiated",s)}else"kiosked_ad_expand"===e.name&&n.dispatch("kiosked_ad_expand",e);else p["default"].error("No name for event:",e)}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return c["default"].hasOwnProperties(e,["data","origin","source"],function(e,t){return e[t]&&!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=i(o),s=n(1),l=i(s),u=n(43),c=i(u),d=n(3),f=i(d);t["default"]=a["default"].extend({construct:function(e){this.$super(),this._options=l["default"].mergeDefaults({name:"FallbackMessageHandler",messageSource:null},e||{})},canHandleMessage:function(e){if(r(e)&&"string"==typeof e.data){var t=/^kiosked_window_message:\{(.*)+$/;return t.test(e.data)===!0}return!1},handleMessage:function(e){var t=e.data;t=t.replace("kiosked_window_message:","");var n=!1;try{n=JSON.parse(t)}catch(i){f["default"].warn("/FallbackMessageHandler/","Received bad message:",i,e)}n!==!1&&this.processMessageObject(n)},processMessageObject:function(e){var t=this.getGCS();if(e.hasOwnProperty("name")){var n=e.containerID||"";if("fallback_list"===e.name){var i=e.fallback_list||[],r=e.window_chain||[],o={zones:i,frame_urls:r,container_id:n};t.publish("networkFallbacksReceived",o,!1)}else if("fallback_initiated"===e.name){var a=e.window_chain||[],s={fallback:!0,frame_urls:a,container_id:n};e.dfpFrame&&(s.dfpFrame=e.dfpFrame),t.publish("networkFallbackInitiated",s)}else"kiosked_ad_expand"===e.name&&t.dispatch("kiosked_ad_expand",e)}else f["default"].error("No name for event:",e)}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){return c["default"].hasOwnProperties(e,["data","origin","source"],function(e,t){return e[t]&&!0})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(35),a=i(o),s=n(1),l=i(s),u=n(43),c=i(u),d=n(3),f=i(d),h="kskdWindowMessage201603";t["default"]=a["default"].extend({construct:function(e){this.$super(),this._options=l["default"].mergeDefaults({name:"FallbackScriptMessageHandler"},e||{})},captures:function(){return!0},canHandleMessage:function(e){if(r(e)&&"string"==typeof e.data){var t=new RegExp("^"+h+":{(.*)+$");return t.test(e.data)===!0}return!1},handleMessage:function(e){var t=e.data;t=t.replace(h+":","");var n=!1;try{n=JSON.parse(t)}catch(i){f["default"].warn("/FallbackScriptMessageHandler/","Received bad message:",i,e)}n!==!1&&this.processMessageObject(n)},processMessageObject:function(e){var t=this.getGCS();if(e.hasOwnProperty("name")){var n=e.containerID||"";if("fallback_list"===e.name){var i=e.fallback_list||[],r=e.window_chain||[],o={zones:i,frame_urls:r,container_id:n};t.publish("networkFallbacksReceived",o,!1)}else if("fallback_initiated"===e.name){var a=e.window_chain||[],s={fallback:!0,frame_urls:a,container_id:n};e.dfpFrame&&(s.dfpFrame=e.dfpFrame),t.publish("networkFallbackInitiated",s)}else"kiosked_ad_expand"===e.name&&t.dispatch("kiosked_ad_expand",e)}else f["default"].error("No name for event:",e)}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(120),o=i(r),a=n(1),s=i(a),l=n(3),u=i(l);t["default"]=o["default"].extend({construct:function(e){this.$super(s["default"].mergeDefaults({name:"FrameMessageSource",sourceFrame:null},e||{}))},canReceiveMessage:function(){var e=this.getOptions();return null!==e.sourceFrame&&"function"==typeof e.sourceFrame.postMessage},sendMessage:function(e){var t=!1;try{var n=JSON.stringify(e);n&&(this.getOptions().sourceFrame.postMessage(n,"*"),t=!0)}catch(i){u["default"].error("/FrameMessageSource/","Failed sending message",e,i)}return t}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this;this.addListener("mediaSettingsApplied",function(t){e._adMaximums=S["default"].mergeDefaults(e._adMaximums,t.settings.getSubset("ui.sniff.maxProviderAds").getSettingsObject()),e._maxPlugins=S["default"].mergeDefaults(e._maxPlugins,t.settings.getSubset("ui.media.maxPlugins").getSettingsObject())}),this.addListener("BannerDestroyedForSizeRestriction",function(t){e._numPlugins.hasOwnProperty(t.type)&&e._numPlugins[t.type]>0&&(e._numPlugins[t.type]-=1)}),this._windowMessageListener=function(t){e.processMessage(t)},window.addEventListener("message",this._windowMessageListener,!1),this.addListener("bannerSlotProviderChanged",function(t){var n=t.from,i=t.to;w["default"].log("Banner provider changed from '"+n+"' to '"+i+"'"),e._adCounts.hasOwnProperty(i)||(e._adCounts[i]=0),e._adCounts[i]+=1,S["default"].isString(n)&&(e._adCounts[n]-=1);var r=e.getMaximumAdsForProvider(i),o=!0;r>=0&&e._adCounts[i]>r&&(w["default"].log("/GrandCentral/","Preventing provider: "+i),o=!1,e.dispatch("bannerProviderLimitBreached",{bannerSlot:t.bannerSlot,provider:i})),o&&w["default"].log("/GrandCentral/","Allowing provider: "+i)}),this.addListener("bannerSlotDestroyed",function(t){t.adProvider&&t.adProvider.length>0&&e._adCounts.hasOwnProperty(t.adProvider)&&(e._adCounts[t.adProvider]-=1,e._adCounts[t.adProvider]<0&&(e._adCounts[t.adProvider]=0))}),this.addListener("shouldDestroy",function(e){ITGS.sniffer&&ITGS.sniffer.clearState(e.unmark!==!1)}),this.addListener(s["default"].ANALYTICS_EVENT_NAME,function(t,n){e.getAnalyticsModule().processEvent(t,n)}),this.addListener("timingEvent",function(t){if(!S["default"].isset(t.name))throw new Error("(Kiosked) No timing event name specified");t.properties=t.properties||{},t.time=t.time||D["default"].getCurrentTimestamp(),e.prepareTimingController().then(function(e){e.registerEvent(t.name,t.properties,t.time)})})}function o(){this._analyticsModule=new g["default"];var e=C["default"].getDeviceType();w["default"].log("/GrandCentralStation/","Recognised device: "+e)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),s=i(a),l=n(44),u=i(l),c=n(19),d=i(c),f=n(85),h=i(f),p=n(84),g=i(p),m=n(115),v=i(m),y=n(116),_=i(y),E=n(117),A=i(E),b=n(1),S=i(b),I=n(3),w=i(I),T=n(7),C=i(T),O=n(12),D=i(O);t["default"]=u["default"].extend({construct:function(e){e=e||{};var t={name:"GrandCentralStation"};this._options=S["default"].mergeDefaults(t,e),this.$super(),this._adCounts={},this._adMaximums={},this._numPlugins={},this._maxPlugins={},this._messageHandlers=[A["default"],v["default"],_["default"]],this._analyticsModule=null,this._timingController=null,o.call(this),r.call(this)},destroy:function(){if("function"==typeof this._windowMessageListener)try{window.removeEventListener("message",this._windowMessageListener,!1)}catch(e){}this.$super()},libraryInit:function(){s["default"].SAMPLE_RATE_RANDOM_CURRENT=Math.random();var e=S["default"].overrideCall("GrandCentralStation.libraryInit");if(e)try{e()}catch(t){w["default"].warn("/GrandCentralStation/","Library init failed:",t.message)}},getAnalyticsModule:function(){return this._analyticsModule},getEventHash:function(){var e=C["default"].getPageUrl(),t=d["default"].processPageURL(e),n=C["default"].getPublisherID();return C["default"].generateEventHash(n,t)},getMaximumAdsForProvider:function(e){return this._adMaximums.hasOwnProperty(e)?this._adMaximums[e]:-1;
},getMaximumNumPluginsPerType:function(e){return this._maxPlugins.hasOwnProperty(e)?parseInt(this._maxPlugins[e],10):-1},isPluginLimitReached:function(e){var t=this.getMaximumNumPluginsPerType(e);return 0>t?!1:0===t?!0:this._numPlugins.hasOwnProperty(e)?this._numPlugins[e]<t?(this._numPlugins[e]+=1,!1):!0:(this._numPlugins[e]=1,!1)},prepareTimingController:function(){var t=this;return new e(function(e){null===t._timingController&&(t._timingController=new h["default"]),e(t._timingController)})},processMessage:function(e){for(var t=this._messageHandlers.length,n=0;t>n;n+=1)try{var i=this._messageHandlers[n],r=new i;if(r.setGCS(this),r.canHandleMessage(e)&&(r.handleMessage(e),r.captures()))break}catch(o){w["default"].warn("/GrandCentralStation/","Failed finding class for message handler: "+this._messageHandlers[n])}}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(1),s=i(a);t["default"]=o["default"].extend({construct:function(e){this.$super(),this._options=s["default"].mergeDefaults({name:"MessageSourceAbstract"},e||{})},canReceiveMessage:function(){return!1},getOptions:function(){return this._options},sendMessage:function(){return!1}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this,t=this;this.addListener("placementPositionChanged",function(e){t.getAnchor().applyPosition(e)}),this.addListener("placementSizeChanged",function(e){var n;t.setMediaSize(e),null===t.getAdFill()?h.call(t,e).then(function(){n=t.getWaterfall(),t.getAnchor().updateLayout(e,n.getCurrentStep().proportions),t.updateLayout()},function(e){ie["default"].warn("/Placement/","Build did not complete: "+e),t.publish("buildFailed")})["catch"](function(e){ie["default"].error(e)}):(t.getAdFill().setPlacementSize(e),n=t.getWaterfall(),n&&t.getAnchor().updateLayout(e,n.getCurrentStep().proportions),t.updateLayout())}),this.addListener("bannerCloseButtonPressed",function(e){e.placement===t&&t.hideAd().then(function(){ge["default"].destroyPlacement(t)})}),this.getAnchor().getOptions().anchorType===S["default"].PLACEMENT_ANCHOR_TYPE.IN_SCROLL||this.getAnchor().getDisclaimer().subscribe("closeClicked",function(){e.dispatch("bannerCloseButtonPressed",{placement:e})}),C["default"].getGrandCentralStation().subscribe("iframeLoaded",oe["default"].bindFunction(c,this)),C["default"].getGrandCentralStation().subscribe("videoEvent",function(e){e.kioskID===t.getOptions().kioskID&&y(t,e.name,e.properties)})}function o(e,t,n){return t.waterfallsInitial>0&&null===t.waterfallTemplate&&ie["default"].warn("/Placement/","Waterfalls available ("+t.waterfallsInitial+"), but none suitable for placement "+t.kioskID),t.waterfallTemplate?F["default"].createAdFillForWaterfall(t.waterfallTemplate.copy(),e,t):F["default"].createAdFillForConfiguration(e,t.settings,{kioskID:t.kioskID,mediaSize:n})}function a(e){if(e.kioskID.length<=0)throw new KioskedException("Kiosk ID was empty");if(e.settings instanceof X["default"]!=!0)throw new KioskedException("Settings option was not an instance of KModel")}function s(e){return e.getBool("ui.media.Banner.viewabilityEnabled",!1)?e.getFloat("ui.media.Banner.viewabilityScreenRatio",1):-1}function l(){return{"cntr.id":"","cntr.type":"banner","cntr.slot":0,"cntr.first":!1,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":"","cntr.banner.zone_type":"","cntr.banner.zone_id":"","cntr.banner.provider":"","cntr.refresh_count":0}}function u(){var e=this.getAdFill();if(e){var t=this.getAdFill().getAdElement();return t&&!0}return!1}function c(e){e===this.getOptions().kioskID&&(this._iframeLoadCount+=1,this._iframeLoadCount>=2&&this.set("iframeLoadedTwice"))}function d(e,t){var n=e.getDisclaimerWidth(),i=e.getDisclaimerHeight(),r=Math.floor(t.width-n+n/2+i/2);e.setStyle({top:n/2+i/2+"px",right:r+"px",width:n+"px",transform:"rotate(270deg)",msTransform:"rotate(270deg)",webkitTransform:"rotate(270deg)",webkitTransformOrigin:"50% 50%",marginTop:"-"+i+"px"})}function f(e,t,n){var i,r=e.getAnchor().getAnchorElement(),o=e.getWaterfall().getCurrentStep().proportions,a=e.getAdFill().getOptions().orientation,s=e.getAdFill().getOptions().scaleEnabled,l="horizontal"===a;i=s?se["default"].calculateActualAdSize(t,o,l).height:o.height;var u=ue["default"].getAbsoluteOffsetRect(r);e._RTBPosition=ue["default"].calculateRTBPosition(u,i,n);var c=n?te["default"].getWindowSize().height:u.top;e._coordinates={x:u.left,y:c-i},e.getAnchor().setRTBPosition(e.getRTBPosition())}function h(t){var n=this;return new e(function(e,i){o(n.getAnchor(),n.getOptions(),t).then(function(r){var o=D["default"].getPageInventory();if(r){o.publish("validInventory",n),n.hasNot("sentCreated")&&(n.set("sentCreated"),o.publish("validContainer",n)),n._adFill=r.adFill,n._waterfall=r.waterfall,g.call(n);var a=n.getAnchor().getOptions().placementType===S["default"].PLACEMENT_TYPE.IN_SCREEN||n.getAnchor().getOptions().placementType===S["default"].PLACEMENT_TYPE.INTERSTITIAL||n.getAnchor().getOptions().placementType===S["default"].PLACEMENT_TYPE.REWARD;f(n,t,a),n.loadAd().then(function(){n.getAdFill().setPlacementSize(t),e()}).then(function(){n&&n.is("openedInstantly")&&(ie["default"].log("/Placement/","Showing ad immediately for presentation mode"),n.showAd())}),n._adFill.subscribe("adCompleted",function(){n.hideAd().then(function(){ge["default"].destroyPlacement(n)})}),n._adFill.subscribe("adErrored",function(){n.deregisterInstance(),n.hideAd().then(function(){ge["default"].destroyPlacement(n)})}),n.getAdFill().subscribe("waterfallTrickle",function(e){v(n,e.waterfall)}),n.getAdFill().subscribe("waterfallEnd",function(e){n.deregisterInstance(),m(n,e.waterfall.getSteps().length,e.waterfall).then(function(){n.hideAd().then(te["default"].delay(1,!0)).then(function(){var e=R["default"].getPlacementContainerByID(n.getOptions().kioskID);if(!e)throw new KioskedException("Unable to locate placement container for destruction");ge["default"].destroyPlacementContainer(e)})})})}else _.call(n),i("No adfill available")})})}function p(){var e=this,t=this;this.getContainerImpressionData().then(function(n){e._containerImpressionTimer=setTimeout(function(){t&&t.getWaterfall()&&t.is("sendingContainerImpression")&&(t.set("sentContainerImpression"),n[S["default"].ANALYTICS_EVENT_NAME_PROPERTY]="containerImpression",C["default"].getGrandCentralStation().dispatch(S["default"].ANALYTICS_EVENT_NAME,n),t.unlock("containerImpression"))},1e3)})}function g(){this.hasNot("sentContainerOpportunity")&&(this.set("sentContainerOpportunity"),this.getContainerImpressionData().then(function(e){e[S["default"].ANALYTICS_EVENT_NAME_PROPERTY]="containerOpportunity",C["default"].getGrandCentralStation().dispatch(S["default"].ANALYTICS_EVENT_NAME,e)}))}function m(t,n,i){ie["default"].log("/Placement/","Fallback initiated at end of waterfall, closing...");var r=t.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1),o=C["default"].getGrandCentralStation(),a=t.getWaterfallRootData(i);return o.dispatch("timingEvent",{name:"waterfallEnd",properties:{kioskID:t.getOptions().kioskID}}),r?t.getContainerImpressionData().then(function(e){var t=te["default"].mergeDefaults(e,a);t["waterfall.total"]=n,t[S["default"].ANALYTICS_EVENT_NAME_PROPERTY]="waterfallEnd",o.dispatch(S["default"].ANALYTICS_EVENT_NAME,t)}):e.resolve()}function v(e,t){var n=t.getCurrentStep(),i=C["default"].getGrandCentralStation();ie["default"].log("/PlacementWaterfallCallbackInput/","Waterfall step initiated:",n.network+"@"+n.zone);var r=e.getSettings().getBool("ui.media.Banner.waterfallAnalyticsEnabled",!1);r&&e.getWaterfallTrickleData().then(function(e){e[S["default"].ANALYTICS_EVENT_NAME_PROPERTY]="waterfallTrickle",i.dispatch(S["default"].ANALYTICS_EVENT_NAME,e)}),i.dispatch("timingEvent",{name:"waterfallTrickle",properties:{kioskID:e.getOptions().kioskID}})}function y(e,t,n){var i=C["default"].getGrandCentralStation();e.getContainerImpressionData().then(function(e){var r=e;r.video=n,r[S["default"].ANALYTICS_EVENT_NAME_PROPERTY]=t,i.dispatch(S["default"].ANALYTICS_EVENT_NAME,r)})}function _(){var e=this,t=C["default"].getGrandCentralStation();de["default"].getAnalyticsPageData().then(function(n){n=A(e.getContainerSimplifiedData(),n),n[S["default"].ANALYTICS_EVENT_NAME_PROPERTY]="noWaterfallMatched",t.dispatch(S["default"].ANALYTICS_EVENT_NAME,n)})}var E="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};Object.defineProperty(t,"__esModule",{value:!0});var b=n(2),S=i(b),I=n(44),w=i(I),T=n(9),C=i(T),O=n(56),D=i(O),M=n(18),P=i(M),k=n(29),x=i(k),N=n(21),R=i(N),L=n(77),F=i(L),B=n(30),H=i(B),j=n(24),z=i(j),W=n(37),V=i(W),U=n(36),G=i(U),Z=n(59),q=i(Z),Y=n(58),K=i(Y),Q=n(17),X=i(Q),J=n(20),$=i(J),ee=n(1),te=i(ee),ne=n(3),ie=i(ne),re=n(15),oe=i(re),ae=n(14),se=i(ae),le=n(5),ue=i(le),ce=n(7),de=i(ce),fe=n(11),he=i(fe),pe=n(33),ge=i(pe);t["default"]=w["default"].extend({construct:function(e,t){this.$super(),t=t||{},this._options=te["default"].mergeDefaults({categories:!1,kioskedZoneID:"",kioskID:""+e.getOptions().kioskID,settings:null,publisherID:null,siteID:null,settingsMeta:{},waterfallTemplate:null,waterfallsInitial:0},t),a(this._options),this.set("placement"),this.addStatusSet(["shown","hidden","animating"],"hidden"),this.addStatus("shownFromVisibility"),this.addStatusSet(["openedByAnimation","openedInstantly"],"openedByAnimation"),this.addStatus("sentContainerOpportunity"),"opened"===this.getSettings().get("ui.media.Banner.presentation","animate")&&this.set("openedInstantly"),this._containerImpressionTimer=null,this.addStatusSet(["waitingContainerImpression","sendingContainerImpression","sentContainerImpression"],"waitingContainerImpression"),this._anchor=e,this._adFill=null,this._waterfall=null,this._refreshCount=0,this._wasVisible=!1,this._cuttingElements={left:null,right:null,top:null,bottom:null,parent:null},this._coordinates={x:0,y:0},this._RTBPosition=S["default"].RTB_POS.UNKNOWN,this._viewabilityRatio=s(this.getSettings()),this._iframeLoadCount=0,r.call(this),C["default"].getGrandCentralStation().dispatch("timingEvent",{name:"placementCreated",properties:{kioskID:this._options.kioskID}})},deregisterInstance:function(){ie["default"].warn("/Placement/","Was unsuccessful in presenting an ad, will de-register");var e=x["default"].getSharedInstance(),t=this.getOptions(),n=this.getAnchor(),i=this.getAdFill(),r=P["default"].getSnifferController();e&&(n&&e.deregisterCount($["default"].InstanceType.Anchor,n.getOptions().anchorType,t.kioskID),i&&e.deregisterCount($["default"].InstanceType.AdFill,i.getOptions().name,t.kioskID)),r&&r.deactivateItemByZoneID(t.kioskedZoneID)},destroy:function(){var e=this,t=oe["default"].bindFunction(this.$super,this);return this.lockMany("animation","containerImpression","visibilityShowAction").then(function(){return e.destroyMembers("_anchor","_adFill","_waterfall","_cuttingElements").then(t)})},detectVisibility:function(){var e=this.getAnchor().isVisible(),t=this.getSettings(),n=t.getBool("ui.media.Banner.viewabilityEnabled",!1),i=t.getFloat("ui.media.Banner.viewabilityScreenRatio",0),r=this.isInViewabilityRange(this.getCoordinates(),i),o=this;if(u.call(this)===!0)if(this._wasVisible!==e&&(this._wasVisible=e,this.publish("visibilityChanged",{visible:e}),this.getAdFill().getAdElement().publish("visibilityChanged",{visible:e})),e||n&&r){if(null!==this.getAdFill()&&null!==this.getAdFill().getAdElement()){var a=this.getAdFill(),s=a.getAdElement();this.hasNot("shownFromVisibility")&&(this.set("shownFromVisibility"),this.lock("visibilityShowAction").then(function(){o.loadAd().then(function(){s.waitForLoad().then(function(){o.unlock("visibilityShowAction")}).then(o.bindMember("showAd"))})})),this.is("waitingContainerImpression")&&s.waitForLoad().then(function(){a.is("loaded")&&o.is("waitingContainerImpression")&&(o.set("sendingContainerImpression"),o.lock("containerImpression").then(function(){p.call(o)}))})}}else this.is("sendingContainerImpression")&&(this.set("waitingContainerImpression"),this._containerImpressionTimer&&(clearTimeout(this._containerImpressionTimer),o.unlock("containerImpression")))},getAdFill:function(){return this._adFill},getAnchor:function(){return this._anchor},getContainerImpressionData:function(){var e=this.getWaterfall(),t=this.getOptions(),n=de["default"].getPlacementIndex(this),i=this.getAnchor().getOptions().placementType,r=S["default"].PLACEMENT_TYPE,o=this.getAdFill().getOptions().orientation,a=e.getCurrentStep().zone||"",s=this.getRefreshCount(),u=e.getCurrentStep().provider||"",c=this.getRTBPosition(),d=this.getCoordinates(),f=this.getMediaSize(),h=this.getViewabilityRatio();[r.IN_SCREEN,r.IN_SCROLL,r.INTERSTITIAL,r.REWARD].indexOf(i)>-1&&(f={width:0,height:0});var p=te["default"].mergeDefaults(l(),{"cntr.id":t.kioskedZoneID,"cntr.type":"banner","cntr.slot":n,"cntr.first":0===n,"cntr.segment":"","cntr.categories":[],"cntr.subcategories":[],"cntr.keywords":[],"cntr.placement_type":i,"cntr.banner.zone_type":o,"cntr.banner.zone_id":a,"cntr.banner.provider":u,"cntr.refresh_count":s,"cntr.rtb_pos":c,"cntr.coordinates":d,"cntr.mediaSize":f,"cntr.viewabilityRatio":h}),g=P["default"].getSnifferController().getSettingsMetaAbTesting();return g.status===S["default"].SETTINGS_AB_TEST_OVERRIDE_NONE?p["cntr.segment"]="default":g.status===S["default"].SETTINGS_AB_TEST_OVERRIDE_FAIL?p["cntr.segment"]="override":g.status===S["default"].SETTINGS_AB_TEST_OVERRIDE_FULL&&(p["cntr.segment"]=g.test),t.categories&&(t.categories.iabtier1&&he["default"].isArray(t.categories.iabtier1)&&(p["cntr.categories"]=t.categories.iabtier1),t.categories.iabtier2&&he["default"].isArray(t.categories.iabtier2)&&(p["cntr.subcategories"]=t.categories.iabtier2),t.categories.focus100k&&he["default"].isArray(t.categories.focus100k)&&(p["cntr.keywords"]=t.categories.focus100k)),de["default"].getAnalyticsPageData().then(function(e){return te["default"].mergeDefaults(p,e)})},getContainerSimplifiedData:function(){var e=this.getOptions(),t=H["default"].resolveAnchorTypeForSettings(e.settings),n=H["default"].convertAnchorTypeToPlacementType(t);return{"cntr.id":e.kioskedZoneID,"cntr.type":"banner","cntr.placement_type":n}},getCoordinates:function(){return this._coordinates},getCuttingElement:function(e){return this._cuttingElements[e]},getMediaSize:function(){return this._mediaSize},getOptions:function(){return this._options},getRefreshCount:function(){return this._refreshCount},getRTBPosition:function(){return this._RTBPosition},getSettings:function(){return this.getOptions().settings},getViewabilityRatio:function(){return this._viewabilityRatio},getWaterfall:function(){return this._waterfall},getWaterfallRootData:function(e){var t=e.getTemplateInfo();return{"waterfall.publisherID":t.publisherID,"waterfall.siteID":t.siteID,"waterfall.adTemplateID":t.templateID,"waterfall.waterfallID":e.getWaterfallID(),"page.uri":de["default"].getPageUrl()}},getWaterfallTrickleData:function(){var e=this.getWaterfall(),t=e.getCurrentStep(),n="custom"===t.network?"own":"kssp",i=this.getAnchor().getOptions().placementType,r=S["default"].PLACEMENT_TYPE,o=[r.IN_SCREEN,r.IN_SCROLL,r.INTERSTITIAL,r.REWARD].indexOf(i)>-1,a=e.getCurrentStep().proportions,s=a.width>a.height,l=this.getAdFill().getOptions().scaleEnabled&&!o?se["default"].calculateActualAdSize(this.getMediaSize(),a,s):a,u=te["default"].mergeDefaults(this.getWaterfallRootData(e),{"waterfall.network":t.network,"waterfall.placementID":t.zone,"waterfall.adFormat":t.mediaType,"waterfall.bannerSize":{w:a.width,h:a.height},"waterfall.bannerScaleSize":{w:l.width,h:l.height},"waterfall.step":e.getCurrentStepIndex(),"waterfall.service":n});return this.getContainerImpressionData().then(function(e){return te["default"].mergeDefaults(e,u)})},hideAd:function(){if(this.isNot("shown"))return e.resolve();var t=this.getAnchor(),n=this.getAdFill(),i=n.getOptions().orientation,r=t.getDisclaimer(),o=this.getSettings().getInt("ui.media.Banner.animationSpeedOut",S["default"].BANNER_ANIMATION_SPEED_OUT),a=this;this.set("animating"),n.set("animating");var s=se["default"].calculateActualAdSize(n.getPlacementSize(),n.getOptions().proportions,!0);return this.lock("animation").then(function(){if(t instanceof z["default"]){var a,l;"horizontal"===i?(a="bottom",l=0-s.height+"px"):"vertical"===i&&(a="right",l=-s.width+"px");var u={};return u[a]=l,e.all([te["default"].animate(n.getAdElement().getScalingElement(),{duration:o,properties:u,easing:"inOutQuintic"}),r.animate({duration:o,properties:{bottom:"0px"},easing:"inOutQuintic"}),r.hide()])}return t instanceof V["default"]?e.all([te["default"].animate(t.getAdContainerElement(),{duration:o,properties:{height:"0px"},easing:"inOutQuintic"}),t.getDisclaimer().hide()]):t instanceof G["default"]?e.all([te["default"].animate(t.getFixedContainerElement(),{duration:o,properties:{bottom:0-s.height+"px"},easing:"inOutQuintic"}),r.animate({duration:o,properties:{bottom:"0px"},easing:"inOutQuintic"}),r.hide()]):t instanceof q["default"]?e.all([te["default"].animate(t.getContainerBox(),{duration:o,properties:{opacity:0},easing:"inOutQuintic"}),te["default"].animate(t.getFixedContainerElement(),{duration:o,properties:{opacity:0},easing:"inOutQuintic"}),r.hide()]):t instanceof K["default"]?e.resolve():e.resolve()}).then(function(){a.set("hidden"),n.set("hidden"),a.unlock("animation")})["catch"](function(e){ie["default"].error("Failed hiding ad",e)})},isInViewabilityRange:function(e,t){var n=te["default"].getWindowSize().height;return e.y<n*t},loadAd:function(){var t=this;return new e(function(e){!function n(){var i=t.getAdFill();i&&(i.is("loaded")||i.is("idle"))?i.is("loaded")?i.getAdElement().applyInitialisation().then(e):i.setup(t.getWaterfall(),t.getSettings()).then(e)["catch"](function(e){ie["default"].error("Failed loading ad:",e)}):setTimeout(n,80)}()})},refresh:function(){var t,n=this,i=this.getAdFill(),r=this.getWaterfall();return r&&i?(i.destroy(),r.destroy(),t=i.getPlacementSize(),h.call(this,t).then(function(){return n._refreshCount+=1,e.all([n.loadAd(),n.getAdFill().waitForLoad(),n.getAdFill().getAdElement().waitForLoad()]).then(function(){n.set("waitingContainerImpression")})})):e.reject()},setCuttingElement:function(e,t){this._cuttingElements[e]=t},setMediaSize:function(e){this._mediaSize=e},showAd:function(){if(this.isNot("hidden"))return e.resolve();var t=this.getAnchor(),n=this.getAdFill(),i=n.getOptions().orientation,r=this.getSettings(),o=t.getDisclaimer(),a=r.getInt("ui.media.Banner.animationSpeedIn",S["default"].BANNER_ANIMATION_SPEED_IN),s=1e3*r.getInt("ui.media.Banner.interstitialClosing",S["default"].INTERSTITIAL_CLOSING),l=r.getInt("ui.media.overlays.Disclaimer.showDelay",0),u=r.getBool("ui.media.Banner.noScale",!1)===!1,c=r.getInt("ui.media.Banner.showingDelay",1),f=t.getOptions().placementType===S["default"].PLACEMENT_TYPE.REWARD,h=this;this.is("openedInstantly")&&(a=0),this.set("animating"),n.set("animating");var p="horizontal"===i,g=se["default"].calculateAdSize(n.getPlacementSize(),n.getOptions().proportions,u,p),m=function(){h.unlock("animation"),h.updateLayout()},v=function(){return te["default"].promiseRace([new e(function(e){l=l>=S["default"].DISCLAIMER_DELAY_MAX?S["default"].DISCLAIMER_DELAY_MAX:l,window.setTimeout(e,l)}),new e(function(e){if(h.has("iframeLoadedTwice"))e();else var t=h.subscribe("statusSet",function(n){n.indexOf("iframeLoadedTwice")>=0&&(t(),e())}).remove})])};return this.loadAd().then(function(){return t instanceof q["default"]&&c>1&&(t.getFixedContainerElement().style.display="none"),te["default"].delay(c,!1)}).then(function(){return h.lock("animation")}).then(function(){if(t instanceof z["default"]){var r,l;"horizontal"===i?(r="bottom",l="0px"):"vertical"===i&&(r="right",l=n.getRightPositionForOnScreen()+"px");var u={};return u[r]=l,te["default"].animate(n.getAdElement().getScalingElement(),{duration:a,properties:u,easing:"inOutQuintic"}).then(v).then(function(){return"horizontal"===i?o.setStyle("bottom",g.height+"px"):"vertical"===i&&d(o,g),o.show()})["catch"](function(e){ie["default"].error("Failed animating box anchor:",e)})}if(t instanceof V["default"]){var c=function(){var e=g.height;return o.is("outside")&&(g.height+=o.getDisclaimerHeight()),{v:te["default"].animate(t.getAdContainerElement(),{duration:a,properties:{height:g.height+"px"},easing:"inOutQuintic"}).then(v).then(function(){var i=n.getOptions().scaleEnabled?g.height:n.getOptions().proportions.height;return o.is("outside")&&(i+=o.getDisclaimerHeight()),t._visibilityDetectionFrame.style.height=i+"px",o.setStyle("bottom",e+"px"),o.show()})["catch"](function(e){ie["default"].error("Failed animating stub anchor:",e)})}}();if("object"===("undefined"==typeof c?"undefined":E(c)))return c.v}else{if(t instanceof G["default"]){if(t.getFixedContainerElement().style.bottom="-"+g.height+"px",o.is("outside")){var p=g.height+o.getDisclaimerHeight();t.getAdContainerElement().style.height=p+"px"}return te["default"].animate(t.getFixedContainerElement(),{duration:a,properties:{bottom:"0px"},easing:"inOutQuintic"}).then(v).then(function(){return o.setStyle("bottom",g.height+"px"),o.show()})["catch"](function(e){ie["default"].error("Failed animating launchpad anchor:",e)})}if(t instanceof q["default"])return t.lockScroll(),t.getFixedContainerElement().style.display="block",te["default"].animate(t.getFixedContainerElement(),{duration:a,properties:{opacity:1},easing:"inOutQuintic"}).then(function(){return t.unlockTouch(),te["default"].animate(t.getContainerBox(),{duration:a,properties:{opacity:1},easing:"inOutQuintic"})}).then(function(){return v().then(function(){return o.show()}).then(function(){return f?e.resolve():(h.unlock("animation"),te["default"].delay(s).then(function(){return h.lock("animation")}).then(function(){return o.showFull()}).then(m))})["catch"](function(e){ie["default"].error("Failed showing interstitial disclaimer",e),m()})})["catch"](function(e){ie["default"].error("Failed animating interstitial anchor:",e),m(),t.unlockScroll()});if(t instanceof K["default"])return o.show(),e.resolve()}}).then(function(){h.set("shown"),n.set("shown"),C["default"].getGrandCentralStation().dispatch("timingEvent",{name:"placementShown",properties:{kioskID:h.getOptions().kioskID}}),m()})["catch"](function(e){ie["default"].error("Failed showing placement",e),m()})},updateLayout:function(){if(this.is("shown")){var e=this.getAnchor(),t=this.getAdFill(),n=this.getSettings(),i=n.getBool("ui.media.Banner.noScale",!1)===!1,r=e.getDisclaimer(),o=t.getOptions().orientation,a="horizontal"===o,s=se["default"].calculateAdSize(t.getPlacementSize(),t.getOptions().proportions,i,a);if(e instanceof z["default"])"horizontal"===o?(t.getAdElement().getScalingElements().forEach(function(e){e.style.bottom="0px"}),r.setStyle("bottom",s.height+"px")):"vertical"===o&&(t.getAdElement().getScalingElements().forEach(function(e){e.style.right=t.getRightPositionForOnScreen()+"px"}),d(r,s));else if(e instanceof V["default"])r.setStyle("bottom",s.height+"px"),r.is("outside")&&(s.height+=r.getDisclaimerHeight()),e.getAdContainerElement().style.height=s.height+"px";else if(e instanceof G["default"]){e.getFixedContainerElement().style.bottom="0px",r.setStyle("bottom",s.height+"px");var l=s.height+r.getDisclaimerHeight();e.getAdContainerElement().style.height=l+"px"}else e instanceof K["default"]&&e.handleResize()}}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this;this.getPlacement().subscribe("buildFailed",function(){p["default"].destroyPlacementContainer(e)})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(8),l=i(s),u=n(123),c=i(u),d=n(9),f=i(d),h=n(33),p=i(h),g=n(15),m=i(g),v=n(7),y=i(v),_=1250;t["default"]=l["default"].extend({construct:function(e){this.$super(),this._placement=e,this._inputManager=new c["default"],this._inputManager.setPlacement(e),r.call(this),this._firePageImpression()},destroy:function(){var e=this,t=m["default"].bindFunction(this.$super,this);return this._inputManager.destroy(),this._inputManager=null,this._placement.destroy().then(function(){e._placement=null,t()})},getInputManager:function(){return this._inputManager},getPlacement:function(){return this._placement},isHealthy:function(){return this.getPlacement()&&this.getInputManager()?this.$super()&&this.getPlacement().isHealthy()&&this.getInputManager().isHealthy():!1},_firePageImpression:function(){var e=f["default"].getGrandCentralStation();if(ITGS.hasNot("firedPageImpression")){ITGS.set("firedPageImpression"),e.dispatch("timingEvent",{name:"firstMediaCreated"});var t=this.getPlacement().getSettings().getInt("ui.media.analytics.pageImpressionDelay",_),n=this.getPlacement().getOptions().kioskID;setTimeout(function(){ITGS.hasNot("sentPageImpression")&&(ITGS.set("sentPageImpression"),y["default"].getAnalyticsPageData().then(function(t){t[a["default"].ANALYTICS_EVENT_NAME_PROPERTY]="pageImpression",e.dispatch(a["default"].ANALYTICS_EVENT_NAME,t),e.dispatch("mediaPageImpression"),e.dispatch("timingEvent",{name:"pageImpression",properties:{kioskID:n}})}))},t)}}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){if(!this.isNot("started")){var t=this,n=e.resolve();this.forEachInput(function(e){n=n.then(function(){e.process(t.getPlacement())})}),n.then(function(){setTimeout(f["default"].bindFunction(r,t),t._processInterval)})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(2),a=i(o),s=n(8),l=i(s),u=n(13),c=i(u),d=n(15),f=i(d);t["default"]=l["default"].extend({construct:function(){this.$super(),this.addStatusSet(["stopped","started","destroy"],"stopped"),this._placement=null,this._inputs=[],this._processInterval=null,this._processVisibilityTimer=null},addInput:function(e){if(e instanceof c["default"]!=!0)throw new KioskedException("Input is not of correct type");this._inputs.push(e),this.sortInputs()},destroy:function(){this.set("destroy"),clearInterval(this._processVisibilityTimer),this.forEachInput(function(e){e.destroy()}),this._inputs=null,this.$super()},forEachInput:function(e){var t=this.getInputs(),n=t.length;if("function"!=typeof e)throw new Error("Callback is not a function");for(var i=0;n>i;i+=1)e(t[i])},getInputs:function(){return this._inputs},getPlacement:function(){return this._placement},setPlacement:function(e){this._placement=e,this._processInterval=e.getSettings().getInt("ui.media.adjustInterval",a["default"].PLACEMENT_INPUT_MGR_INTERVAL)},sortInputs:function(){this._inputs.sort(function(e,t){var n=e.getOptions().order,i=t.getOptions().order;return n>i?-1:i>n?1:0})},start:function(){var e=this.getPlacement();if(e.isNot("placement"))throw new KioskedException("Placement not set");return this.isNot("stopped")?!1:(this.set("started"),setImmediate(f["default"].bindFunction(r,this)),this._processVisibilityTimer=setInterval(function(){e.detectVisibility()},a["default"].BANNER_VIS_UPDATE_INTERVAL),!0)},stop:function(){return this.isNot("started")?!1:(this.set("stopped"),!0)}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(13),o=i(r),a=n(1),s=i(a),l=n(14),u=i(l),c=n(5),d=i(c);t["default"]=o["default"].extend({construct:function(e,t){this.$super(e,t),this._lastSize={width:0,height:0}},process:function(e){this.$super(e);var t=e.getAnchor().getTargetElement(),n=d["default"].getElementOffset(t),i=e.getAdFill(),r=e.getAnchor().getDisclaimer(),o=s["default"].isset(i)?u["default"].calculateActualAdSize(n.width,i.getOptions().proportions,!0).height:0;r.is("outside")&&(o+=r.getDisclaimerHeight()),e.isNot("shown")&&(o=0);var a={width:n.width,height:o};s["default"].isDifferentSize(a,this._lastSize)&&(e.dispatch("placementSizeChanged",a),e.getAnchor().getAnchorElement().style.width=a.width+"px"),this._lastSize=a}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(13),s=i(a),l=n(1),u=i(l),c=n(10),d=i(c),f=n(14),h=i(f);t["default"]=s["default"].extend({construct:function(e,t){this.$super(u["default"].mergeDefaults({order:-2},e),t),this._lastSize={width:0,height:0}},process:function(e){this.$super(e);var t=window.innerWidth,n=window.innerHeight,i=d["default"].isMobile()?{width:t,height:o["default"].BANNER_SIZE_STANDARDS.MOBILE.HEIGHT}:{width:o["default"].BANNER_SIZE_STANDARDS.HORIZONTAL.WIDTH,height:o["default"].BANNER_SIZE_STANDARDS.HORIZONTAL.HEIGHT};if(e.getAdFill()){var r=e.getAdFill().getOptions().proportions;if(d["default"].isMobile()&&n>t||t<r.width){var a=h["default"].calculateActualAdSize({width:t,height:o["default"].BANNER_SIZE_STANDARDS.MOBILE.HEIGHT},{width:r.width,height:r.height},!0).height;i={width:t,height:a};var s=this.getSettings().getBool("ui.media.Banner.noScale",!1);s&&t>r.width&&(i={width:r.width,height:r.height})}else i={width:r.width,height:r.height}}u["default"].isDifferentSize(i,this._lastSize)&&e.dispatch("placementSizeChanged",i),this._lastSize=i}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(13),s=i(a),l=n(1),u=i(l),c=n(14),d=i(c);t["default"]=s["default"].extend({construct:function(e,t){this.$super(u["default"].mergeDefaults({order:-2},e),t),this._lastSize={width:0,height:0}},process:function(e){this.$super(e);var t=window.innerWidth,n=window.innerHeight,i={width:2*o["default"].BANNER_SIZE_STANDARDS.MEDIUM_RECT.WIDTH,height:o["default"].BANNER_SIZE_STANDARDS.MEDIUM_RECT.HEIGHT};if(e.getAdFill()){var r=e.getAdFill().getOptions().proportions,a=e.getAnchor().getDisclaimer(),s=e.getAnchor().getTrickeryBox(),l=e.getAnchor().getSwipeGuide(),c=t>n;i={width:r.width,height:r.height},!c&&t<i.width+40?(i=d["default"].calculateActualAdSize({width:t-40,height:0},{width:r.width,height:r.height},!0),n<i.height+120&&(i=d["default"].calculateActualAdSize({width:0,height:n-120},{width:r.width,height:r.height},!1))):!c&&n<i.height+120?i=d["default"].calculateActualAdSize({width:0,height:n-120},{width:r.width,height:r.height},!1):c&&n<i.height+50&&(i=d["default"].calculateActualAdSize({width:0,height:n-50},{width:r.width,height:r.height},!1)),s&&(s.style.width=i.width+"px",s.style.height=i.height+"px",s.scrollTop=o["default"].INSCROLL_TRICKERY_CONTENT/2),l&&(l.style.left=c?"auto":"50%",l.style.right=c?"50%":"auto",l.style.top=c?"50%":"100%",l.style.marginRight=c?-(i.width/2+80)+"px":0),a&&a.setStyle({bottom:i.height+a.getDisclaimerHeight()+"px",marginRight:0-i.width/2-4+"px"})}u["default"].isDifferentSize(i,this._lastSize)&&e.dispatch("placementSizeChanged",i),this._lastSize=i}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(13),s=i(a),l=n(1),u=i(l),c=n(14),d=i(c);t["default"]=s["default"].extend({construct:function(e,t){this.$super(u["default"].mergeDefaults({order:-2},e),t),this._lastSize={width:0,height:0},this._marginWidth=50,this._marginHeight=140},process:function(e){this.$super(e);var t=window.innerWidth,n=window.innerHeight,i=e.getAnchor().getTrickeryBox(),r=e.getAnchor().getContainerBox(),a=e.getAnchor().getDisclaimer(),s={width:o["default"].BANNER_SIZE_STANDARDS.INTERSTITIAL.WIDTH,height:o["default"].BANNER_SIZE_STANDARDS.INTERSTITIAL.HEIGHT};if(e.getAdFill()){var l=e.getAdFill().getOptions().proportions,c=this._marginWidth,f=this._marginHeight,h=t>n;0!==l.width&&(s={width:l.width,height:l.height}),!h&&t<s.width+c?(s=d["default"].calculateActualAdSize({width:t-c,height:0},{width:l.width,height:l.height},!0),n<s.height+f&&(s=d["default"].calculateActualAdSize({
width:0,height:n-f},{width:l.width,height:l.height},!1))):!h&&n<s.height+f?s=d["default"].calculateActualAdSize({width:0,height:n-f},{width:l.width,height:l.height},!1):h&&n<s.height+c&&(s=d["default"].calculateActualAdSize({width:0,height:n-c},{width:l.width,height:l.height},!1))}r.style.marginTop=-(s.height/2)+"px",r.style.marginLeft=-(s.width/2)+"px",i&&(i.style.width=s.width+"px",i.style.height=s.height+"px",i.scrollTop=o["default"].INSCROLL_TRICKERY_CONTENT/2),a.setStyle("bottom",s.height+"px"),u["default"].isDifferentSize(s,this._lastSize)&&e.dispatch("placementSizeChanged",s),this._lastSize=s}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){if(this.isNot("cuttingEnabled"))return n;var i=this.getSettings(),r=i.get("ui.media.cutLeftSideByElement",!1),o=i.get("ui.media.cutTopSideByElement",!1),a=i.get("ui.media.cutSizeFromParents",!1),s=e.getCuttingElement("left"),l=e.getCuttingElement("top"),u=e.getCuttingElement("parent"),d=parseInt(a,10);if(0===d||isNaN(d))return this.unset("cuttingEnabled"),n;if(null===s&&r!==!1&&(s=c["default"].queryFirst(r)),null===l&&o!==!1&&(l=c["default"].queryFirst(o)),null===u&&a!==!1&&(u=f["default"].locateParentElement(t,a)),e.setCuttingElement("left",s),e.setCuttingElement("top",l),e.setCuttingElement("parent",u),u){var h=c["default"].getIntersection(u,t);n.left+=h.difference.left<0?Math.abs(h.difference.left):0,n.top+=h.difference.top<0?Math.abs(h.difference.top):0}return n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=i(o),s=n(1),l=i(s),u=n(5),c=i(u),d=n(61),f=i(d);t["default"]=a["default"].extend({construct:function(e,t){this.$super(l["default"].mergeDefaults({order:1},e),t),this._lastPosition={left:0,top:0},this.set("cuttingEnabled")},process:function(e){this.$super(e);var t=e.getAnchor().getTargetElement(),n=c["default"].getElementOffset(t),i=c["default"].getElementOffset(e.getAnchor().getAnchorElement(),!0,!0),o=n.left,a=n.top;o+=n.border.left+n.padding.left,a+=n.border.top+n.padding.top,o-=i.left,a-=i.top,a=Math.ceil(a);var s=r.call(this,e,t,{top:a,left:o});l["default"].isDifferentPosition(s,this._lastPosition)&&e.dispatch("placementPositionChanged",s),this._lastPosition=s}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this._onscreenInterval;if(this.canRefresh("onscreen")){if(this._onscreenCheck===!0?this._onscreenSeconds+=1:this._onscreenSeconds=0,this._onscreenSeconds>=this._onscreenRefreshTimeout){this._onscreenSeconds=0;var t=this.getLastPlacement();if(!t)throw new KioskedException("No placement ready for on-screen refresh");this.markRefreshCount("onscreen"),t.hideAd().then(function(){t.refresh().then(function(){t.showAd()},function(){l["default"].warn("/PlacementRefreshInput/","Refresh failed, disabling"),clearInterval(e)})})}this._onscreenCheck=!0}else clearInterval(e)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=i(o),s=n(3),l=i(s),u=10,c=11,d=12,f=10,h=5,p=0,g=["onscreen","offscreen"];t["default"]=a["default"].extend({construct:function(e,t){this.$super(e,t),this.addStatus("offscreenEnabled"),this.addStatus("onscreenEnabled"),this.addStatus("beenHidden"),this.set("refreshingEnabled"),t.getBool("ui.media.Banner.bannerReloading.offScreen.hide",!1)===!0&&this.set("offscreenEnabled"),this._onscreenSeconds=0,this._onscreenCheck=!1,this._onscreenRefreshTimeout=t.getInt("ui.media.Banner.bannerReloading.onScreen.hide",0),this._refreshCounts={onscreen:{current:0,max:t.getInt("ui.media.Banner.bannerReloading.onScreen.maxRefreshCount",h)},offscreen:{current:0,max:t.getInt("ui.media.Banner.bannerReloading.offScreen.maxRefreshCount",p)}},this._lastAnchorState=d},canRefresh:function(e){if(g.indexOf(e)<0)throw new KioskedException("Invalid refresh context: "+e);var t=this._refreshCounts[e];return t.max>0?t.current<t.max:!0},destroy:function(){this._onscreenInterval&&clearInterval(this._onscreenInterval),this.$super()},markRefreshCount:function(e){if(g.indexOf(e)<0)throw new KioskedException("Invalid refresh context: "+e);var t=this._refreshCounts[e];t.current+=1},process:function(e){this.$super(e);var t=this,n=e.getAnchor().isVisible();this.refreshEnabled(e)&&(this.is("offscreenEnabled")&&this.canRefresh("offscreen")&&this.processOffscreen(e,n),this.is("onscreenEnabled")&&(n||(this._onscreenCheck=!1)),!this._onscreenInterval&&this._onscreenRefreshTimeout>=f&&(this.set("onscreenEnabled"),this._onscreenInterval=setInterval(function(){r.call(t)},1e3)))},processOffscreen:function(e,t){var n=this;switch(this._lastAnchorState){case u:if(t){if(this.is("hiding")||e.is("animating"))return;this.has("beenHidden")&&(this.unset("beenHidden"),this.markRefreshCount("offscreen"),e.refresh().then(function(){e.showAd()}))}break;case c:t||e.isNot("animating")&&(this.set("hiding"),e.hideAd().then(function(){n.set("beenHidden"),n.unset("hiding")}));break;case d:default:return this._lastAnchorState=t===!0?c:u,void this.processOffscreen(e,t)}this._lastAnchorState=t===!0?c:u},refreshEnabled:function(e){if(this.isNot("refreshingEnabled"))return!1;var t=e.getAnchor(),n=e.getAdFill(),i=n?n.getAdElement():null;return t&&t.getOptions().refreshEnabled!==!0||n&&n.getOptions().refreshEnabled!==!0||i&&i.getOptions().refreshEnabled!==!0?(this.unset("refreshingEnabled"),l["default"].log("/PlacementRefreshInput/","Refreshing is not available for this placement setup"),!1):!0}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t,n){if(this.isNot("cuttingEnabled"))return n;var i=this.getSettings(),r=i.get("ui.media.cutRightSideByElement",!1),o=i.get("ui.media.cutBottomSideByElement",!1),a=i.get("ui.media.cutSizeFromParents",!1),s=e.getCuttingElement("right"),l=e.getCuttingElement("bottom"),u=e.getCuttingElement("parent"),d=parseInt(a,10);if(0===d||isNaN(d))return this.unset("cuttingEnabled"),n;if(null===s&&r!==!1&&(s=c["default"].queryFirst(r)),null===l&&o!==!1&&(l=c["default"].queryFirst(o)),null===u&&a!==!1&&(u=f["default"].locateParentElement(t,a)),e.setCuttingElement("right",s),e.setCuttingElement("bottom",l),e.setCuttingElement("parent",u),u){var h=c["default"].getIntersection(u,t);n.width=h.intersect.width,n.height=h.intersect.height}return n}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=i(o),s=n(1),l=i(s),u=n(5),c=i(u),d=n(61),f=i(d);t["default"]=a["default"].extend({construct:function(e,t){this.$super(l["default"].mergeDefaults({order:0},e),t),this._lastSize={width:0,height:0},this.set("cuttingEnabled")},process:function(e){this.$super(e);var t=e.getAnchor().getTargetElement(),n=c["default"].getElementOffset(t),i=n.screen,o=parseInt(i.width,10),a=parseInt(i.height,10);o-=n.border.left+n.border.right+n.padding.left+n.padding.right,a-=n.border.top+n.border.bottom+n.padding.top+n.padding.bottom;var s=r.call(this,e,t,{width:o,height:a});l["default"].isDifferentSize(s,this._lastSize)&&e.dispatch("placementSizeChanged",s),this._lastSize=s}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=this,t=d["default"].getGrandCentralStation();t.subscribe("appNexusFallbacksReceived",function(t){e.addDataset("appnexus",t);var n=e.getLastPlacement();n&&e.process(n)}),t.subscribe("appNexusFallbackInitiated",function(t){e.addDataset("appnexus",t);var n=e.getLastPlacement();n&&e.process(n)}),t.subscribe("networkFallbacksReceived",function(t){e.addDataset("kiosked",t);var n=e.getLastPlacement();n&&e.process(n)}),t.subscribe("networkFallbackInitiated",function(t){e.addDataset("kiosked",t);var n=e.getLastPlacement();n&&e.process(n)}),t.subscribe("placementFillError",function(t){e.addDataset("kiosked",{container_id:t,fallback:!0});var n=e.getLastPlacement();n&&e.process(n)})}function o(e,t){var n;try{n=t.getAdFill().getAdElement().getScalingElement()}catch(i){return!1}if(n){var r=n.querySelector('[id="'+e+'"]');if(r)return!0}return!1}function a(e,t){var n=t.getOptions().kioskID;return n===e}function s(e,t){var n,i,r=e.length,o=t.getOptions().kioskID;try{n=t.getAdFill().getAdElement().getScalingElement().src}catch(a){return!1}for(i=0;r>i;i+=1)if(n===e[i])return!0;for(i=0;r>i;i+=1){var s=!1;try{var l=new h["default"](e[i]),u=decodeURIComponent(l.getQuery()),c=new RegExp("tt\\?.+?cb="+o);s=c.test(u)}catch(d){}if(s)return!0}return!1}Object.defineProperty(t,"__esModule",{value:!0});var l=n(13),u=i(l),c=n(9),d=i(c),f=n(40),h=i(f),p=n(3),g=i(p),m=["appnexus","kiosked"];t["default"]=u["default"].extend({construct:function(e,t){this.$super(e,t);var n=this;this._lastWaterfallDatasets={},m.forEach(function(e){n._lastWaterfallDatasets[e]=[]}),r.call(this)},addDataset:function(e,t){this._lastWaterfallDatasets[e].push(t)},clearDatasetCollection:function(e){this._lastWaterfallDatasets.hasOwnProperty(e)&&(this._lastWaterfallDatasets[e]=[])},destroy:function(){this.$super()},getDatasetCollection:function(e){return this._lastWaterfallDatasets.hasOwnProperty(e)&&this._lastWaterfallDatasets[e].length>0?this._lastWaterfallDatasets[e]:!1},process:function(e){this.$super(e);var t=this;m.forEach(function(n){var i=t.getDatasetCollection(n);i!==!1&&(i.forEach(function(i){var r=i.dfpFrame?o(i.dfpFrame,e):a(i.container_id,e)||s.call(t,i.frame_urls||[],e);r&&(i.fallback===!0?t.processWaterfallStep(e):i.zones?t.processIncomingWaterfall(e,i.zones,n):g["default"].warn("/PlacementWaterfallCallbackInput/","Invalid dataset",i))}),t.clearDatasetCollection(n))})},processIncomingWaterfall:function(e,t,n){var i=e.getAdFill().getOptions().proportions,r=e.getWaterfall();t.forEach(function(e){r.addStep(e.name,e.zone,i,n,e.content,e.applicator)}),g["default"].log("/PlacementWaterfallCallbackInput/","Added "+t.length+" new steps ("+n+")"),this.processWaterfallStep(e)},processWaterfallStep:function(e){var t=e.getWaterfall(),n=t.step();return n?(e.getAdFill().empty(),void e.getAdFill().setup(t,e.getSettings()).then(function(){e.getAdFill().updateLayout()})):void e.getAdFill().publish("waterfallEnd",{waterfall:t})}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(){return"body {ID}.kskdCls, body {ID}.kskdCls .kskdDiv, body {ID}.kskdCls .kskdDiv img, body {ID}.kskdCls .kskdDiv div, body {ID}.kskdCls .kskdDiv iframe, body {ID}.kskdCls .kskdDiv span, .kskdDiv.kskdFixedBannerContainer,body {ID}.kskdCls.kskdDiv .kskdDiv {display: block;float: none;opacity: 1;position: static;overflow: visible;width:auto;left:auto;right:auto;transition:none;letter-spacing: normal;white-space: normal;top:auto;bottom:auto;height:auto;min-height:0;max-height:none;min-width:0;max-width:none;clear: none;margin: 0px;margin-top: 0px;margin-bottom: 0px;margin-left: 0px;margin-right: 0px;padding: 0px;border: 0px;font-size: 12px;line-height: 1.2;text-align: left;text-transform: none;color: #6d6c71;font-family: Arial, Helvetica, sans-serif;font-style: normal;vertical-align: baseline;background: transparent;box-sizing: content-box;-moz-box-sizing: content-box;-webkit-box-sizing: content-box;filter: none;}body {ID}.kskdCls .kskdDiv iframe {width: 100%;height: 100%;} body {ID}.kskdCls.kskdDiv .kskdDiv a *:not(.kskdDiv) {display: none !important;} @media print {   .kskdCls, .kskdCls * {       display: none !important;   }}"}function o(e){c["default"].getObjectLength(e["default"].normal)<=0||(0===c["default"].getObjectLength(e.mobile.normal)&&(e.mobile.normal=c["default"].deepClone(e["default"].normal)),0===c["default"].getObjectLength(e.hd.normal)&&(e.hd.normal=c["default"].deepClone(e["default"].normal)))}function a(){this._lastSelectedStyleset=null,this._lastRendered=null}Object.defineProperty(t,"__esModule",{value:!0});var s=n(6),l=i(s),u=n(1),c=i(u),d=n(3),f=i(d),h=n(11),p=i(h),g=n(10),m=i(g),v=n(133),y=i(v),_=10;t["default"]=l["default"].extend({construct:function(){this.$super(),this._lastDeviceType=null,f["default"].log("/StylesController/","Styling initiated with device type: "+this.getDeviceType()),a.call(this)},applyToElement:function(e,t){if(t=t||"normal",!this._lastSelectedStyleset)throw new KioskedException("No stylesheet is selected");this._lastRendered||(this._lastRendered=this.fulfillItem(this._lastSelectedStyleset));var n=this.getDeviceType(),i=null;try{i=this._lastRendered[n][t]}catch(r){f["default"].error("/StylesController/","Failed getting normal styles for device:",n,this._lastRendered)}if(!i)throw new KioskedException("No available styles to apply");return this.styleElement(e,i),this},clear:function(){this._lastSelectedStyleset=null,this._lastRendered=null},destroy:function(){this.clear()},fulfillItem:function(e){var t={"default":{normal:{},hover:{}},mobile:{normal:{},hover:{}},hd:{normal:{},hover:{}}};for(var n in e)if(e.hasOwnProperty(n))if(e[n].hasOwnProperty("normal"))for(var i in e[n])e[n].hasOwnProperty(i)&&(t[n][i]=c["default"].deepClone(e[n][i]));else t[n].normal=c["default"].deepClone(e[n]);for(var r=!0,a=0;r;){r=!1;for(var s in t)if(t.hasOwnProperty(s))for(var l in t[s])if(t[s].hasOwnProperty(l)&&t[s][l].hasOwnProperty("__include")){var u=c["default"].deepClone(t[s][l].__include),d={};u=p["default"].isArray(u)?u:[u],u.reverse();var h=u.length;if(h>0)for(var g=h-1;g>=0;g-=1){var m=u[g];m.indexOf(".")<0&&(m+=".normal");var v,y,E=m.split("."),A={};if(3===E.length){v=E[1],y=E[2];try{var b=this.getStylesItem(E[0]),S=this.fulfillItem(b);A=S[v][y]}catch(I){f["default"].log("/StylesController/","Failed processing style lookup (global) for __include:",m)}}else{v=E[0],y=E[1];try{A=t[v][y]}catch(I){f["default"].log("/StylesController/","Failed processing __include: ",e)}}A.hasOwnProperty("__include")?r=!0:(d=c["default"].mergeDefaults(d,c["default"].deepClone(A)),u.splice(g,1))}u.length<=0&&(t[s][l]=c["default"].mergeDefaults(d,t[s][l]),delete t[s][l].__include)}if(a+=1,a>_)throw new KioskedException("Unable to fulfill all __include directives")}return"default"!==this.getDeviceType()&&o(t),t},getDeviceType:function(){return this._lastDeviceType?this._lastDeviceType:(this._lastDeviceType="default",m["default"].isMobile()&&(this._lastDeviceType="mobile"),this._lastDeviceType)},getRenderedStyle:function(e,t){t=t||"normal";var n=this.getDeviceType();return this.selectStyle(e),this._lastRendered||(this._lastRendered=this.fulfillItem(this._lastSelectedStyleset)),this._lastRendered&&this._lastRendered[n]&&this._lastRendered[n][t]?this._lastRendered[n][t]:null},getStylesItem:function(e){var t=this.getStylesRoot();return t.hasOwnProperty(e)?t[e]:null},getStylesRoot:function(){return y["default"]},placeHeaderStylesheet:function(e,t){var n="",i="\n",r="	",o=document.head||document.getElementsByTagName("head")[0];t=t&&t.length>0?t:"";for(var a in e)if(e.hasOwnProperty(a)){var s=e[a],l=s.properties||{},u=s.classToHeader;if(u){n+=u+" {"+i;for(var c in l)l.hasOwnProperty(c)&&(n+=r+c+": "+l[c]+";"+i);n+="}"+i}}var d=document.createElement("style");d.setAttribute("type","text/css"),d.setAttribute("kiosked","stylesheet:"+t),d.appendChild(document.createTextNode(n)),o.appendChild(d)},placeHeaderStylesheetWithNamespace:function(e,t){for(var n=r().replace(/\{ID}/g,"#kskd"+t),i=document.head||document.getElementsByTagName("head")[0],o=i.getElementsByTagName("style"),a=o.length,s=!1,l=0;a>l;l+=1)o[l].getAttribute("kiosked")===e&&(s=!0);if(!s){var u=document.createElement("style");return u.setAttribute("type","text/css"),u.setAttribute("kiosked",e),u.styleSheet?u.styleSheet.cssText=n:u.appendChild(document.createTextNode(n)),i.appendChild(u),!0}return!1},selectStyle:function(e){if(!c["default"].isString(e)||e.length<=0)throw new KioskedException("Parameter expected to be of type string");return this.clear(),this._lastSelectedStyleset=this.getStylesItem(e),this},styleElement:function(e,t){if(e instanceof HTMLElement!=!0)throw new KioskedException("Parameter expected to be of type HTMLElement");for(var n in t)if(t.hasOwnProperty(n)){if("__"===n.substr(0,2))continue;try{e.style[n]=t[n]}catch(i){f["default"].error("/StylesController/","Failed applying style '"+n+"' to element",e,i)}}}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(38),o=i(r);t["default"]={AdContainerElement:{"default":{position:"absolute",overflow:"hidden",pointerEvents:"all"}},BannerCloseImage:{"default":{__stylesheet:"images.BannerCloseImage"},mobile:{__stylesheet:"images.BannerCloseImageMobile"}},BannerCloseImageInside:{"default":{__stylesheet:"images.BannerCloseImageInside"},mobile:{__stylesheet:"images.BannerCloseImageInsideMobile"}},BannerCloseImageWhite:{"default":{__stylesheet:"images.BannerCloseImageWhite"},mobile:{__stylesheet:"images.BannerCloseImageWhiteMobile"}},BannerDisclaimerContainer:{"default":{position:"absolute",overflow:"hidden",zIndex:2,height:"18px",right:"0px",minWidth:"18px",marginBottom:"0px",opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerContainerInside:{"default":{position:"absolute",overflow:"hidden",zIndex:11,height:"18px",left:"0px",minWidth:"18px",opacity:"0"},mobile:{__include:"default",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainer:{"default":{position:"absolute",right:"0px",top:"0px",width:"18px",height:"18px",cursor:"pointer",zIndex:2},mobile:{__include:"default",width:"20px",height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonContainerLeft:{"default":{position:"absolute",left:"0px",top:"0px",width:"18px",height:"18px",cursor:"pointer",zIndex:2},mobile:{__include:"default",width:"20px",height:"20px"},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIcon:{"default":{__include:"BannerCloseImage.default.normal",width:"100%",height:"100%"},mobile:{__include:["default","BannerCloseImage.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonIconInside:{"default":{__include:["BannerDisclaimerCloseButtonIcon.default.normal","BannerCloseImageInside.default.normal"]},mobile:{__include:["default","BannerCloseImageInside.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerCloseButtonWhiteIcon:{"default":{__include:"BannerCloseImageWhite.default.normal",width:"100%",height:"100%"},mobile:{__include:["default","BannerCloseImageWhite.mobile.normal"]},hd:{__include:"mobile"}},BannerDisclaimerAdsLogo:{"default":{__include:"BannerAdsLogo.default.normal",position:"relative","float":"left",width:"100%",height:"100%",backgroundSize:"auto 100%"},mobile:{__include:["default","BannerAdsLogo.mobile.normal"],backgroundSize:"85px 20px"},hd:{__include:["mobile","BannerAdsLogo.hd.normal"]}},BannerDisclaimerAdsLogoExternal:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal","BannerAdsLogoGrey.default.normal"]},mobile:{__include:["default","BannerAdsLogoGrey.mobile.normal"]},hd:{__include:["default","BannerAdsLogoGrey.hd.normal"]}},BannerDisclaimerAdsLogoInside:{"default":{__include:["BannerAdsLogoBackground.default.normal"],position:"relative","float":"left",width:"100%",height:"100%"},mobile:{__include:["default","BannerAdsLogoBackground.mobile.normal"]},hd:{__include:["default","BannerAdsLogoBackground.hd.normal"]}},BannerDisclaimerAdsLogoFloor:{"default":{__include:["BannerDisclaimerAdsLogo.default.normal"]},mobile:{__include:["BannerDisclaimerAdsLogo.mobile.normal","BannerAdsLogo.mobile.normal"]},hd:{__include:["BannerDisclaimerAdsLogo.hd.normal"]}},BannerDisclaimerAdsLogoContainer:{"default":{position:"relative",height:"18px",width:"77px",marginRight:"18px"},mobile:{__include:"default",height:"20px",width:"85px",marginRight:"20px"},hd:{__include:"mobile"}},BannerDisclaimerAdsLogoContainerLeft:{"default":{normal:{position:"relative",height:"18px",width:"18px",marginLeft:"19px"},hover:{position:"relative",height:"18px",width:"77px",marginLeft:"19px"}},mobile:{__include:"default",height:"20px",width:"20px",marginLeft:"21px"},hd:{__include:"mobile"}},BannerAdsLogo:{"default":{__stylesheet:"images.BannerAdsLogoDefault"},mobile:{__stylesheet:"images.BannerAdsLogoMobile"},hd:{__include:"mobile"}},BannerAdsLogoGrey:{"default":{__stylesheet:"images.BannerAdsLogoGreyDefault"},mobile:{__stylesheet:"images.BannerAdsLogoGreyMobile"},hd:{__include:"mobile"}},BannerAdsLogoBackground:{"default":{__stylesheet:"images.BannerAdsLogoBackgroundDefault"},mobile:{__stylesheet:"images.BannerAdsLogoBackgroundMobile"},hd:{__include:"mobile"}},BannerFooterContainer:{"default":{position:"fixed",left:"0px",right:"0px",bottom:"-500px"}},InterstitialLightBox:{"default":{position:"fixed",overflow:"auto",overflowX:"hidden",background:"rgba(0, 0, 0, 0.70)",top:0,left:0,right:0,bottom:0,border:0,opacity:0,display:"block",zIndex:"72101021"},mobile:{__include:"default"},hd:{__include:"default"}},InterstitialContentBox:{"default":{position:"absolute",top:"50%",left:"50%",opacity:0,"webkit-transform-origin":"0% 100%"},mobile:{__include:"default"},hd:{__include:"mobile"}},InterstitialContainerCloseButton:{"default":{position:"absolute",right:"18px",top:"18px",width:"36px",height:"36px",cursor:"pointer",zIndex:"72101021",display:"none"},mobile:{__include:"default",width:"50px",height:"50px",top:"0px",right:"0px"},hd:{__include:"mobile"}},InterstitialCloseButtonIcon:{"default":{__stylesheet:"images.BannerCloseImageInterstitial",width:"100%",height:"100%",backgroundSize:"100%"},mobile:{__include:"default",__stylesheet:"images.BannerCloseImageInterstitialMobile"},hd:{__include:"mobile"}},InScrollWrapper:{"default":{position:"fixed",backgroundColor:"rgba(0, 0, 0, 0)",top:"100vh",height:"100vh",left:0,right:0,display:"none",zIndex:"72101021",pointerEvents:"none"},mobile:{__include:"default"},hd:{__include:"default"}},InScrollContentWrapper:{"default":{position:"absolute",top:"100%",left:0,right:0,height:"100vh"}},InScrollContentBox:{"default":{position:"absolute",top:"50%",transform:"translateY(-50%)","-webkit-transform":"translateY(-50%)","-ms-transform":"translateY(-50%)",left:0,right:0,padding:"18px"},mobile:{__include:"default",padding:"20px"}},InScrollAdContainerElement:{"default":{position:"relative",overflow:"hidden",pointerEvents:"all",boxShadow:"0px 0px 50px 15px rgba(0, 0, 0, 0.6)",backgroundColor:"#000",margin:"0 auto",borderRadius:"0.5px"}},InScrollIFrameClickHandler:{"default":{position:"absolute",top:0,bottom:0,left:0,right:0,backgroundColor:"rgba(0,0,0,0)",zIndex:20}},InScrollVisibilityFrame:{"default":{position:"absolute",top:"20px",bottom:"20px",left:"20px",right:"20px"}},InScrollSwipeGuide:{"default":{position:"absolute",top:"100%",left:"50%",width:"50px",height:"26px",marginLeft:"-25px",opacity:0,transition:"opacity .4s","-webkit-transition":"opacity .4s",backgroundImage:o["default"].swipeGuideInScrollBg,backgroundRepeat:"no-repeat",backgroundSize:"49px 26px"}},InScrollTrickery:{"default":{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)","-webkit-transform":"translate(-50%,-50%)",overflow:"scroll","-webkit-overflow-scrolling":"touch"}},ExpandableBannerDisclaimerContainer:{"default":{position:"absolute",top:"-20px",right:"0px",overflow:"hidden",zIndex:2,height:"20px",minWidth:"20px",marginTop:"0px"},mobile:{__include:"default",top:"-20px",height:"20px",marginTop:"0px"},hd:{__include:"mobile"}}}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={filter:function(e,t){return this.runFilter(e,this.parseFilter(t))},parseFilter:function(e){for(var t,n=/(([a-zA-Z]+)(\(([^\)]+)\))?)/g,i=[];null!==(t=n.exec(e));)i.push({name:t[2],args:t[4]?t[4].split(/,/):[]});return i},runFilter:function(e,t){for(var n=e.length,i=[],r=0;n>r;r+=1)for(var o=0;o<t.length;o+=1)if(this.filterMatches(r,n,t[o].name,t[o].args)){i.push(e[r]);break}return i},filterMatches:function(e,t,n,i){var r=[e.toString(),t.toString()].concat(i).map(function(e){return parseInt(e,10)});return this.filters[n].apply(this,r)},filters:{every:function(e,t,n,i){var r;return i=i||1,e+=1,r=e,e=e-i+1,r>=i&&e%n===0},first:function(e){return 0===e},last:function(e,t){return e+1===t},nth:function(){for(var e=arguments[0],t=Array.prototype.slice.call(arguments,2),n=0;n<=t.length;n+=1)if(t.hasOwnProperty(n)&&t[n]===e+1)return!0;return!1}}};t["default"]=n},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n=new function(){var e=this;e.installed=!1,e.raw="",e.major=-1,e.minor=-1,e.revision=-1,e.revisionStr="";var t=[{name:"ShockwaveFlash.ShockwaveFlash.7",version:function(e){return n(e)}},{name:"ShockwaveFlash.ShockwaveFlash.6",version:function s(e){var s="6,0,21";try{e.AllowScriptAccess="always",s=n(e)}catch(t){}return s}},{name:"ShockwaveFlash.ShockwaveFlash",version:function(e){return n(e)}}],n=function(e){var t=-1;try{t=e.GetVariable("$version")}catch(n){}return t},i=function(e){var t=-1;try{t=new ActiveXObject(e)}catch(n){t={activeXError:!0}}return t},r=function(e){var t=e.split(",");return{raw:e,major:parseInt(t[0].split(" ")[1],10),minor:parseInt(t[1],10),revision:parseInt(t[2],10),revisionStr:t[2]}},o=function(e){var t=e.split(/ +/),n=t[2].split(/\./),i=t[3];return{raw:e,major:parseInt(n[0],10),minor:parseInt(n[1],10),revisionStr:i,revision:a(i)}},a=function(t){return parseInt(t.replace(/[a-zA-Z]/g,""),10)||e.revision};e.majorAtLeast=function(t){return e.major>=t},e.minorAtLeast=function(t){return e.minor>=t},e.revisionAtLeast=function(t){return e.revision>=t},e.versionAtLeast=function(t){for(var n=[e.major,e.minor,e.revision],i=Math.min(n.length,arguments.length),r=0;i>r;r+=1){if(n[r]>=arguments[r]){if(i>r+1&&n[r]===arguments[r])continue;return!0}return!1}},e.FlashDetect=function(){var n,a;if(navigator.plugins&&navigator.plugins.length>0){var s="application/x-shockwave-flash",l=navigator.mimeTypes;l&&l[s]&&l[s].enabledPlugin&&l[s].enabledPlugin.description&&(n=l[s].enabledPlugin.description,a=o(n),e.raw=a.raw,e.major=a.major,e.minor=a.minor,e.revisionStr=a.revisionStr,e.revision=a.revision,e.installed=!0)}else if(-1===navigator.appVersion.indexOf("Mac")&&"execScript"in window){n=-1;for(var u=0;u<t.length&&-1===n;u+=1){var c=i(t[u].name);c.activeXError||(e.installed=!0,n=t[u].version(c),-1!==n&&(a=r(n),e.raw=a.raw,e.major=a.major,e.minor=a.minor,e.revision=a.revision,e.revisionStr=a.revisionStr))}}}()};n.JS_RELEASE="1.0.4",t["default"]={flashSupported:n.installed}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={};!function(e){function t(e,t){var n=(65535&e)+(65535&t),i=(e>>16)+(t>>16)+(n>>16);return i<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function i(e,i,r,o,a,s){return t(n(t(t(i,e),t(o,s)),a),r)}function r(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function o(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}function l(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var i,l,u,c,d,f=1732584193,h=-271733879,p=-1732584194,g=271733878;for(i=0;i<e.length;i+=16)l=f,u=h,c=p,d=g,f=r(f,h,p,g,e[i],7,-680876936),g=r(g,f,h,p,e[i+1],12,-389564586),p=r(p,g,f,h,e[i+2],17,606105819),h=r(h,p,g,f,e[i+3],22,-1044525330),f=r(f,h,p,g,e[i+4],7,-176418897),g=r(g,f,h,p,e[i+5],12,1200080426),p=r(p,g,f,h,e[i+6],17,-1473231341),h=r(h,p,g,f,e[i+7],22,-45705983),f=r(f,h,p,g,e[i+8],7,1770035416),g=r(g,f,h,p,e[i+9],12,-1958414417),p=r(p,g,f,h,e[i+10],17,-42063),h=r(h,p,g,f,e[i+11],22,-1990404162),f=r(f,h,p,g,e[i+12],7,1804603682),g=r(g,f,h,p,e[i+13],12,-40341101),p=r(p,g,f,h,e[i+14],17,-1502002290),h=r(h,p,g,f,e[i+15],22,1236535329),f=o(f,h,p,g,e[i+1],5,-165796510),g=o(g,f,h,p,e[i+6],9,-1069501632),p=o(p,g,f,h,e[i+11],14,643717713),h=o(h,p,g,f,e[i],20,-373897302),f=o(f,h,p,g,e[i+5],5,-701558691),g=o(g,f,h,p,e[i+10],9,38016083),p=o(p,g,f,h,e[i+15],14,-660478335),h=o(h,p,g,f,e[i+4],20,-405537848),f=o(f,h,p,g,e[i+9],5,568446438),g=o(g,f,h,p,e[i+14],9,-1019803690),p=o(p,g,f,h,e[i+3],14,-187363961),h=o(h,p,g,f,e[i+8],20,1163531501),f=o(f,h,p,g,e[i+13],5,-1444681467),g=o(g,f,h,p,e[i+2],9,-51403784),p=o(p,g,f,h,e[i+7],14,1735328473),h=o(h,p,g,f,e[i+12],20,-1926607734),f=a(f,h,p,g,e[i+5],4,-378558),g=a(g,f,h,p,e[i+8],11,-2022574463),p=a(p,g,f,h,e[i+11],16,1839030562),h=a(h,p,g,f,e[i+14],23,-35309556),f=a(f,h,p,g,e[i+1],4,-1530992060),g=a(g,f,h,p,e[i+4],11,1272893353),p=a(p,g,f,h,e[i+7],16,-155497632),h=a(h,p,g,f,e[i+10],23,-1094730640),f=a(f,h,p,g,e[i+13],4,681279174),g=a(g,f,h,p,e[i],11,-358537222),p=a(p,g,f,h,e[i+3],16,-722521979),h=a(h,p,g,f,e[i+6],23,76029189),f=a(f,h,p,g,e[i+9],4,-640364487),g=a(g,f,h,p,e[i+12],11,-421815835),p=a(p,g,f,h,e[i+15],16,530742520),h=a(h,p,g,f,e[i+2],23,-995338651),f=s(f,h,p,g,e[i],6,-198630844),g=s(g,f,h,p,e[i+7],10,1126891415),p=s(p,g,f,h,e[i+14],15,-1416354905),h=s(h,p,g,f,e[i+5],21,-57434055),f=s(f,h,p,g,e[i+12],6,1700485571),g=s(g,f,h,p,e[i+3],10,-1894986606),p=s(p,g,f,h,e[i+10],15,-1051523),h=s(h,p,g,f,e[i+1],21,-2054922799),f=s(f,h,p,g,e[i+8],6,1873313359),g=s(g,f,h,p,e[i+15],10,-30611744),p=s(p,g,f,h,e[i+6],15,-1560198380),h=s(h,p,g,f,e[i+13],21,1309151649),f=s(f,h,p,g,e[i+4],6,-145523070),g=s(g,f,h,p,e[i+11],10,-1120210379),p=s(p,g,f,h,e[i+2],15,718787259),h=s(h,p,g,f,e[i+9],21,-343485551),f=t(f,l),h=t(h,u),p=t(p,c),g=t(g,d);return[f,h,p,g]}function u(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){return u(l(c(e),8*e.length))}function f(e,t){var n,i,r=c(e),o=[],a=[];for(o[15]=a[15]=void 0,r.length>16&&(r=l(r,8*e.length)),n=0;16>n;n+=1)o[n]=909522486^r[n],a[n]=1549556828^r[n];return i=l(o.concat(c(t)),512+8*t.length),u(l(a.concat(i),640))}function h(e){var t,n,i="0123456789abcdef",r="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),r+=i.charAt(t>>>4&15)+i.charAt(15&t);return r}function p(e){return unescape(encodeURIComponent(e))}function g(e){return d(p(e))}function m(e){return h(g(e))}function v(e,t){return f(p(e),p(t))}function y(e,t){return h(v(e,t))}function _(e,t,n){return t?n?v(t,e):y(t,e):n?g(e):m(e)}e.md5=_}(n),t["default"]={md5:function(e,t,i){return n.md5(e,t,i)}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=i(r);t["default"]={getMostRelevantCategory:function(e,t){var n=!1;if(!e||!o["default"].isString(t))throw e?new KioskedException("Parameter expected to be of type string"):new KioskedException("Categories must be specified");if(e.hasOwnProperty(t)){var i=e[t],r=i.length,a=0;if(r>0)for(var s=0;r>s;s+=1){var l=i[s];l.relevance&&l.relevance>a&&(n=l,a=l.relevance)}}return n}}},function(e,t,n){function i(e,t){return s.test(e)&&(e=e.split(",").join(", ")),a.Jaguar(e,t)}function r(e,t){var n=i(e,t);return n.length>0?n[0]:null}var o;Object.defineProperty(t,"__esModule",{value:!0}),t.queryFn=i,t.queryFirst=r;var a={};!function(i,r,a,s,l){function u(e,t){return u.search(e,t)}function c(e,t){if(O[t]){var n="function"==typeof O[t]?O[t](e):e[O[t]];return"class"!=t||n||(n=null),n}return e.getAttribute(t)}function d(e,t){for(var n=0,i=t.length;i>n;++n)if(T(e,t[n])<0)return!1;return!0}function f(e,t,n){n=[n];for(var i,r=!0,o=0,a=e.length;a>o;++o){if(i=t[e[o].name],!i)return"Unknown function "+e[o].name;r=r&&i.apply(t,n.concat(e[o].args))}return r}function h(e){return function(t,n){return C(t,function(t){return e(t,n)})}}function p(e,t){return function(n,i,r){var o=c(n,i);return(t?!0:null!=o)&&e(o,r)}}function g(e){var t=e.parentNode.children||[];return w.childrenHasComments&&(t=C(t,function(e){return 1==e.nodeType})),t}function m(e){for(var t,n,i,r=e[0].value,o=r,c=1,d=e.length;d>c;++c)o+=e[c].value;if(u.nthCache[o])return u.nthCache[o];if("odd"==r)n=2,i=1;else if("even"==r)n=2,i=0;else if("n"==r?n=1:"-n"==r?n=-1:s(+r)?r=r.substr((""+(n=a(r,10))).length):n=+r,d>2)i=+e[2].value;else if("n"==r)i=0;else for(c=0,d=r.length;d>c;++c)if(!s(+r.charAt(c))){i=a(r.substr(c),10);break}return t=[n,i],u.nthCache.push(o),u.nthCache[o]=t,u.nthCache.length>u.nthCacheSize&&(u.nthCache[u.nthCache.shift()]=l),t}function v(e,t){return function(n){return _[e](n,{value:t})}}var y,_,E=i.Jaguar,A=[].slice,b=[].indexOf,S=[].filter,I={}.hasOwnProperty,w=function(e){
var t={},n=e.createElement("a");return n.name="test",(e.firstChild||e).appendChild(n),t.brokenId=!!e.getElementById("test"),n.innerHTML="<!-- Three guys walk into a bar. *DONK* -->",t.childrenHasComments=!(!n.children||!n.children.length),t}(r.implementation.createDocument?r.implementation.createDocument(null,"html",null):new ActiveXObject("Microsoft.XMLDOM")),T=b?function(e,t){return b.call(e,t)}:function(e,t){for(var n=0,i=e.length;i>n;++n)if(e[n]===t)return n;return-1},C=S?function(e,t){return S.call(Array.prototype.slice.call(e),t)}:function(e,t){for(var n=0,i=e.length,r=Array(i);i>n;++n)r[n]=func(e[n]);return r},O=u.fixAttributes={"class":"className","for":"htmlFor",html:"innerHTML",style:function(e){return e.style.cssText},text:function(e){return e.textContent||e.innerText||""}};u.features=w,u.filter=C,u.indexOf=T,u.getAttribute=c,u.cache=[],u.cacheSize=50,u.tokenize=function(e){function t(e){return e&&(e>"/"&&":">e||e>"@"&&"[">e||e>"`"&&"{">e||"-"==e||"_"==e)}function n(e,t){return{type:e,value:t}}for(var i,r,o,a,s,l,u=e.split(""),c=u[0],d=0,f="op",h="ident",p={"(":1,")":1,"[":1,"]":1},g={'"':1,"'":1},m=[];c;){if(g[c]){for(a="",o=c;;){if(c=u[++d],c==o)break;if(!c)return[];a+=c}m.push(n(h,a))}else if(" "==c)i=u[d-1],r=u[d+1],(t(i)||g[i]||"*"==i||p[i])&&(t(r)||g[r]||"*"==r||p[r]||" "!=u[d+2])&&m.push(n(f,c));else if("*"==c)"="==u[++d]?m.push(n(f,"*=")):(m.push(n(h,c)),--d);else if(p[c])m.push(n(f,c));else{for(a="",s=t(c);c&&" "!=c&&!g[c]&&(s&&t(c)||!s&&!t(c))&&!p[c];)a+=c,"="==c&&(m.push(n(f,a)),a="",l=!0),c=u[++d];--d,a&&m.push(n(l||s?h:f,a)),l=!1}c=u[++d]}return m},u.parse=function(e){if("string"==typeof e&&u.cache[e])return u.cache[e];for(var t,n,i,r,o=u.tokenize(e),a="op",s=[[]],c={classes:[],attrs:[],pseudos:[]},d=0,f=o.length;f>d;++d)if(t=o[d].value,o[d].type==a)if(","==t)s[s.length-1].push(c),s.push([]),c={classes:[],attrs:[],pseudos:[]};else if("#"==t)c.id=o[++d]?o[d].value:"";else if("."==t)c.classes.push(o[++d]?o[d].value:"");else if("["==t){if(n=o[d+2]&&"]"!=o[d+2].value,!o[d+2]||n&&(!o[d+4]||"]"!=o[d+4].value))return[];c.attrs.push({name:n?o[d+2].value:"",args:[o[++d].value,n?o[d+=2].value:l]}),++d}else if(":"==t){if(!o[d+1])return[];if(n=o[d+2]&&"("==o[d+2].value,r=d+1,n)for(r+=2,i=1;f>r&&("("==o[r].value&&o[r].type==a&&++i,")"!=o[r].value||--i||o[r].type!=a);++r);c.pseudos.push({name:o[++d].value,args:n?o.slice(d+2,r):[]}),d=r}else c.tag||(c.tag="*"),s[s.length-1].push(c),c={classes:[],attrs:[],pseudos:[],tag:"*",combinator:t};else c.tag=t.toUpperCase();return s[s.length-1].push(c),u.cache.push(e),u.cache[e]=s,u.cache.length>u.cacheSize&&(u.cache[u.cache.shift()]=l),s},u.search=function(e,t){if(t=t||r,!e||"string"!=typeof e||1!=t.nodeType&&9!=t.nodeType)return[];var n,i,o,a=u.parse(e),s=0,l=a.length,c=0,d=[],f=[],h=[];if(!l)return[];for(;l>s;++s)d.push(u.evaluateSearch(a[s],t));for(s=0,l=d.length;l>s;++s)for(o=0,n=d[s].length;n>o;)f[c++]=d[s][o++];if(l>1&&(f.sort(function(e,t){return e==t?(i=!0,0):e.compareDocumentPosition?2&e.compareDocumentPosition(t)?1:-1:e.sourceIndex-t.sourceIndex}),i)){for(s=0,l=f.length;l>s;++s)f[s]!=f[s-1]&&h.push(f[s]);f=h}return f},u.evaluateSearch=function(e,t){function n(e,n){l.length||o||(l=t.getElementsByTagName("*")),l=C(l,function(t){var i=f(e,n,t);return"string"==typeof i&&(a=i),i})}var i,r,o,a,s,l=[],c=e[e.length-1],h=0;if(c.id){if(t.getElementById&&!w.brokenId)r=t.getElementById(c.id);else for(l=t.getElementsByTagName(c.tag||"*"),s=l.length;s>h;++h)if(l[h].id==c.id){r=l[h];break}l=r?[r]:[],o=!0}if(c.classes.length)if(o&&!d(r.className.split(" "),c.classes))l=[];else if(!o){if(t.getElementsByClassName)l=t.getElementsByClassName(c.classes.join(" "));else for(i=t.getElementsByTagName(c.tag||"*"),h=0,s=i.length;s>h;++h)d(i[h].className.split(" "),c.classes)&&l.push(i[h]);o=!0}if(c.tag&&(o?"*"!=c.tag&&(l=C(l,function(e){return e.nodeName.toUpperCase()==c.tag})):l=t.getElementsByTagName(c.tag)),c.attrs.length&&n(c.attrs,u.attrs),c.pseudos.length&&l.length&&n(c.pseudos,u.pseudos),c.combinator&&(u.combinators[c.combinator]?l=u.combinators[c.combinator](l,e.slice(0,-1)):a="Unknown combinator "+c.combinator),a)throw new Error(a);return l},u.match=function(e,t){if(!e||1!=e.nodeType||"string"!=typeof t)return!1;for(var n=u.parse(t),i=!1,r=0,o=n.length;o>r;++r)i=i||u.evaluateMatch(n[r],e);return i},u.evaluateMatch=function(e,t){if(9==t.nodeType)return!1;var n=e[e.length-1],i=!0;return n.id&&(i=t.id==n.id),n.classes.length&&(i=i&&d(t.className.split(" "),n.classes)),n.tag&&(i=i&&("*"==n.tag?!0:t.nodeName.toUpperCase()==n.tag)),n.attrs.length&&(i=i&&f(n.attrs,u.attrs,t)),n.pseudos.length&&(i=i&&f(n.pseudos,u.pseudos,t)),n.combinator&&(i=u.matchCombinators[n.combinator]?i&&u.matchCombinators[n.combinator](t,e.slice(0,e.length-1)):!1),i},u.matchCombinators={" ":function(e,t){for(;e=e.parentNode;)if(u.evaluateMatch(t,e))return!0;return!1},">":function(e,t){return u.evaluateMatch(t,e.parentNode)},"~":function(e,t){for(;e=e.previousSibling;)if(1==e.nodeType&&u.evaluateMatch(t,e))return!0;return!1},"+":function(e,t){for(;e=e.previousSibling;)if(1==e.nodeType)return u.evaluateMatch(t,e);return!1}},u.combinators={};for(y in u.matchCombinators)I.call(u.matchCombinators,y)&&(u.combinators[y]=h(u.matchCombinators[y]));u.attrs={"":p(function(e){return null!=e},!0),"=":p(function(e,t){return e===t},!0),"!=":p(function(e,t){return e!==t},!0),"^=":p(function(e,t){return!e.indexOf(t)}),"$=":p(function(e,t){return e.lastIndexOf(t)==e.length-t.length}),"*=":p(function(e,t){return e.indexOf(t)>-1}),"|=":p(function(e,t){return e===t||!e.indexOf(t+"-")}),"~=":p(function(e,t){return T(e.split(" "),t)>-1})},u.nthCache=[],u.nthCacheSize=100,u.pseudos=_={has:function(e){for(var t="",n=arguments,i=1,r=n.length;r>i;++i)t+=n[i].value;return!!u.search(t,e).length},contains:function(e,t){return c(e,"text").indexOf(t.value)>-1},not:function(e){for(var t="",n=arguments,i=1,r=n.length;r>i;++i)t+=n[i].value;return!u.match(e,t)},root:function(e){return 9==e.parentNode.nodeType},empty:function(e){return!e.firstChild},"first-child":v("nth-child","1"),"last-child":v("nth-child","-1"),"only-child":function(e){var t=g(e);return 1==t.length&&t[0]==e},"first-of-type":v("nth-of-type","1"),"last-of-type":v("nth-of-type","-1"),"only-of-type":function(e){var t=e.nodeName.toUpperCase(),n=C(g(e),function(e){return e.nodeName.toUpperCase()==t});return 1==n.length&&n[0]==e},"nth-child":function(e){var t,n,i,r,o,a,l=A.call(arguments,1);return this instanceof Array&&(t=this),l.length||(l=[{value:"n"}]),n=l[0].value,1==l.length&&"n"==n?1==e.parentNode.nodeType:(t||(t=g(e)),1!=l.length||s(+n)?(i=m(l),r=i[0],o=i[1],a=T(t,e)+1,r?r>0&&o>a||0>r&&a>o||9==e.parentNode.nodeType?!1:!((a-o)%r):o==a):t[n>-1?n-1:t.length+ +n]==e)},"nth-last-child":function(e){return _["nth-child"].apply(A.call(g(e)).reverse(),arguments)},"nth-of-type":function(e){var t=e.nodeName.toUpperCase();return _["nth-child"].apply(C(this instanceof Array?this:g(e),function(e){return e.nodeName.toUpperCase()==t}),arguments)},"nth-last-of-type":function(e){return _["nth-of-type"].apply(A.call(g(e)).reverse(),arguments)}},u.noConflict=function(){return i.Jaguar=E,u},"function"==typeof i.define&&n(172)?(o=function(){return u}.call(t,n,t,e),!(o!==l&&(e.exports=o))):i.Jaguar=u}(a,document,parseInt,isNaN);var s=/,[^ ]/;t["default"]={query:i,queryFirst:r}},function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n={applyStyle:function(e,t,i){n.isCamelCase(t)&&(t=n.camelToDash(t));var r=(e.getAttribute("style")||"").split(";").filter(function(e){return e.trim().length<=0?!1:e.split(":")[0].trim()!==t});void 0!==i&&r.push(t+":"+i),e.setAttribute("style",r.join(";"))},camelToDash:function(e){return n.processVendorPrefix(e.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2").toLowerCase())},isCamelCase:function(e){return/^[^-]*[A-Z]+[^-]*$/i.test(e)},processVendorPrefix:function(e){return/^(moz|webkit|ms)/.test(e)?"-"+e:e}};t["default"]=n},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};Object.defineProperty(t,"__esModule",{value:!0});var o=n(28),a=i(o),s=function(e,t,n,i,o,s){!function(l){function u(){var e=this;e.stack={},e.displayAd=function(){},e.requestAds=function(t){var n=l[l.libServingName__];if(0===(t||{}).sectionId||(t||{}).sectionId)try{n.requestAds.call(n,t)}catch(i){e.stack[t.sectionId+""]=t}}}function c(){function l(e){function t(e){d("server request sent: "+e.sectionId);var t,i,r,o;return o=n.generateAdServerUrl(e),d("Ad server full URL: "+o),n.isSyncMode(e.sectionId)===!0?(i='<script type="text/javascript" src="{{url}}"></script>',i=i.replace("{{url}}",o),document.write(i),!0):(t=document.createElement("script"),t.async=!0,t.type="text/javascript",t.src=o,r=document.getElementsByTagName("script")[0],n.isPresto()?setTimeout(function(){r.parentNode.insertBefore(t,r)},0):r.parentNode.insertBefore(t,r),!0)}var n=this;this.globalPart=e,this.displayedAds={},this.serverSlotsDef={},this.adRenderer=new u(this),this.dmpIsLoading=!1,this.segments=[],this.dmpParams={},this.dmpFinishCallbackFns={},this.dmpExpireTimers=[],this.maxDmpTime=parseInt(D||200,10),this.pid=this.genPageId(),this.globalPart.displayAd=function(e,t,i){var r=i;i||(r=n.getSlotDefById(e,t)),n.notEmptyVar(e)&&n.serverSlotsDef&&r&&!n.slotIsDisplayed(r)&&n.adRenderer.renderSlot(r)&&n.setSlotIsDisplayed(!0,r)},this.displayAd=this.globalPart.displayAd,this.globalPart.processDmp=function(e,t){n.dmpIsLoading=!1,n.isDmpProcessed=!0;var i,r,o,a={},s=["gender_age","home_location","occupation","work_location"];if(o=!0,n.isArray(e)?(r=e,o=!1):e&&n.isArray(e.segments)&&(r=e.segments),a&&o)for(var l=0;l<s.length;l++)i=s[l],e.hasOwnProperty(i)&&(a[i]=e[i]);n.segments=r,n.dmpParams=a,n.onDmpProcessed()},this.processDmp=this.processDmp=this.globalPart.processDmp,this.processStack=function(){window.__ASL_USE_DMP&&!n.dmpIsLoading&&!n.dmpIsLoading&&m(!!window.__ASL_DMP_SYNC);var e=this.globalPart&&this.globalPart.stack||{};for(var t in e)e.hasOwnProperty(t+"")&&(t=parseInt(t,10),this.requestAds(e[t]),delete e[t])},this.requestAds=this.requestAds=function(e){e=e||{};var t;delete n.displayedAds[e.sectionId],delete n.serverSlotsDef[e.sectionId],this.sectionInfo[e.sectionId]=e,e.dmp&&!n.isDmpProcessed?(d("set callback"),!n.dmpIsLoading&&m(e.sync),t=e.sectionId,n.dmpFinishCallbackFns[t]=n.requestAdServiceData.bind(n,e),e.sync||n.dmpExpireTimers.push(setTimeout(this.onDmpExpire.bind(this,t,e),this.maxDmpTime))):(e.dmp&&d("make a call"),this.requestAdServiceData(e))},this.onDmpExpire=function(e,t){d("DMP expire callback is called"),n.dmpFinishCallbackFns=n.dmpFinishCallbackFns||{},e in n.dmpFinishCallbackFns&&delete n.dmpFinishCallbackFns[e],n.requestAdServiceData(t)},this.requestAdServiceData=function(e){var i=window.__DMP_RESULT;return e.dmp&&i&&!n.isDmpProcessed?void n.processDmp(i.r1,i.r2,e):void t(e)},this.onDmpProcessed=function(){var e,t;for(var e in n.dmpFinishCallbackFns)t=n.dmpFinishCallbackFns[e],n.dmpFinishCallbackFns.hasOwnProperty(e)&&"function"==typeof t&&t.call();n.dmpExpireTimers=n.dmpExpireTimers||[];for(var i=0,r=n.dmpExpireTimers.length;r>i;i++)clearTimeout(n.dmpExpireTimers[i])},window[A]=function(e){var t,i,r,o,s={};n.serverSlotsDef=n.serverSlotsDef||{};for(var l=0,u=e.length;u>l;l++)t=e[l],i=b+t.id+S+t.section_id+S+t.suid,r=t.size,n.notEmptyVar(r)&&(r=r.split(n.sizeDelimiter)),o={slotId:i,sectionId:t.section_id,data:t.data,type:t.type||"",size:r,isRich:!!t.is_rich,suid:t.suid,plc:t.plc,fld:t.fld},s[t.section_id]=s[t.section_id]||[],s[t.section_id].push(o),n.serverSlotsDef[o.sectionId]=n.serverSlotsDef[o.sectionId]||{},n.serverSlotsDef[o.sectionId][o.slotId]=o;var c=a["default"].getIOWManager().getProxy();for(var d in s)s.hasOwnProperty(d)&&c.processSlotsResponse(d,s[d])},this.generateAdServerUrl=function(e){if(e=e||{},e.sectionId){var t,i,r,o,a,s,l="https:"===document.location.protocol,u=[],c=this.getLang();return i=["section_id","handler_name","tz","fl","click3rd","seg","is_secure","ord","pid"],t=E.replace(/^http:|^https:|\?$/im,""),t=(l?"https:":"http:")+t,r=["section_id="+e.sectionId,"handler_name="+A,"tz="+(new Date).getTimezoneOffset(),"fl="+n.getFlashVersion(),"is_secure="+(l?1:0),"pid="+n.pid,"plc="+e.plc,"suid="+e.suid,"ab_test_value="+e.ab_test_value,"url="+encodeURIComponent(e.url),"device_family="+e.device_family,"fld="+e.fld,"mf="+e.mf],u=u.concat(r),o=(this.sectionInfo[e.sectionId]||{}).custom,u=n.addParams(o,u,i),e.dmp&&n.dmpParams&&(u=n.addParams(n.dmpParams,u,i)),a=n.segments,"undefined"!=typeof a&&a.length>0&&u.push("seg="+a.join("_")),s=(this.sectionInfo[e.sectionId]||{}).click3rd,s&&u.push("click3rd="+s),c!==!1&&u.push("lang="+encodeURIComponent(c)),t+"?"+u.join("&")+"&ord="+Math.floor(1e13*Math.random())}},this.addParams=function(e,t,i){e=e||{},t=t||[],i=i||[];var r;e:for(var o in e){for(var a=0,s=i.length;s>a;a++)if(i[a]+""==o+"")continue e;if(e.hasOwnProperty(o)){if(r=e[o],n.isArray(r)){for(var l=0;l<r.length;l++)t.push(o+"="+encodeURIComponent(r[l]));continue e}t.push(o+"="+encodeURIComponent(r))}}return t},this.getSlotDefById=function(e,t){n.serverSlotsDef=n.serverSlotsDef||{};var i;return n.isDefined(t)||(i=e.split(S||"_"),i.length>0&&(t=i[i.length-1])),n.serverSlotsDef[t]&&n.serverSlotsDef[t][e]},this.setSlotIsDisplayed=function(e,t){return n.isDefined(e)?(n.displayedAds[t.sectionId]=n.displayedAds[t.sectionId]||{},e?n.displayedAds[t.sectionId][t.slotId]=!0:delete n.displayedAds[t.sectionId][t.slotId],this):void 0},this.slotIsDisplayed=function(e){var t,i,r;i=e.sectionId,r=e.slotId;try{t=!!n.displayedAds[i][r]}catch(o){t=!1}return t},this.getLang=function(){for(var e,t=document.getElementsByTagName("meta"),n=!1,i=0;i<t.length;i++)if(e=!1,t[i]&&(e=t[i].getAttribute("http-equiv")||t[i].httpEquiv),e&&"content-language"===e.toLowerCase())return n=t[i].getAttribute("content")||t[i].content,n=n||!1;return n}}function u(e){var t=this;e instanceof l&&(this.adManager=e),this.renderSlot=function(e){var n,i,r,o,a,s,l,u=document.getElementById(e.slotId);if(!u)return d("Not ready to render: "+e.slotId),!1;if(a=e.type,"javascript"===a&&t.isSyncMode(e.sectionId))return s='<script type="text/javascript">'+e.data+"</script>",document.write(s),d("Filled content on: "+e.slotId+" with "+e.type+" content"),!0;switch(n=t.prepareFrame(e),n.src="javascript:\"<html><body style='background:transparent;margin:0%;'></body></html>\"",u.innerHTML="",u.appendChild(n),a){case"javascript":o='<html><body style=\'background:transparent;margin:0%;\'><script type="text/javascript">var inDapIF=true;</script><script type="text/javascript">'+(0!==t.getIEVersion()?t.hexEncode(e.data):e.data)+"</script></body></html>";break;case"html":o=0!==t.getIEVersion()?t.hexEncode(e.data):e.data}return l=t.isNetscape(),0!==t.getIEVersion()||l?(i=window.frames[n.name],i.contents=o,i.location.replace(t.getFifLocationIE(e))):(r=n.contentWindow?n.contentWindow.document:n.contentDocument,-1!==navigator.userAgent.indexOf("Firefox")&&r.open("text/html","replace"),r.write(o),t.isPresto()||r.close()),d("Filled content on: "+e.slotId+" with "+e.type+" content"),!0},this.prepareFrame=function(e){var n=document.createElement("iframe"),i="border:none;",r=t.getFrameName(e.slotId);return t.notEmptyVar(e.size[0])&&(i+="width:"+e.size[0]+"px;",n.width=e.size[0]),t.notEmptyVar(e.size[1])&&(i+="height:"+e.size[1]+"px;",n.height=e.size[1]),n.setAttribute("style",i),n.setAttribute("frameBorder","0"),n.setAttribute("scrolling","no"),n.name=r,n.id=r,n},this.getFifLocationIE=function(e){return t.isNetscape()&&!t.isSyncMode(e.sectionId)?"javascript:document.write(window.contents);":"javascript:window.contents"},this.getFrameName=function(e){return"fif_slot_"+b+"_"+e}}function c(){var e=this;this.sectionInfo={},this.sizeDelimiter="x",Function.prototype.bind||(Function.prototype.bind=function(e){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var t=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i?this:e,t.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),this.getFlashVersion=function(){var t,n=0;if(e.isDefined(navigator.plugins)&&"object"===r(navigator.plugins["Shockwave Flash"]))t=navigator.plugins["Shockwave Flash"].description,!t||e.isDefined(navigator.mimeTypes)&&navigator.mimeTypes["application/x-shockwave-flash"]&&!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin||(t=t.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),n=parseInt(t.replace(/^(.*)\..*$/,"$1"),10));else if(e.isDefined(window.ActiveXObject))try{var i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");i&&(t=i.GetVariable("$version"),t&&(t=t.split(" ")[1].split(","),n=parseInt(t[0],10)))}catch(o){}return n},this.getScreenSize=function(){var e=0,t=0;return"number"==typeof window.innerHeight?(e=window.innerHeight,t=window.innerWidth):document.documentElement&&(document.documentElement.clientWidth||document.documentElement.clientHeight)?(e=document.documentElement.clientHeight,t=document.documentElement.clientWidth):document.body&&(document.body.clientWidth||document.body.clientHeight)&&(e=document.body.clientHeight,t=document.body.clientWidth),{width:t,height:e}},this.isDefined=function(e){return"undefined"!=typeof e},this.notEmptyVar=function(t){return e.isDefined(t)&&null!==t&&t+""!=""},this.isSyncMode=function(t){return e.sectionInfo&&e.sectionInfo[t]&&e.sectionInfo[t].sync},this.getIEVersion=function(){var e=navigator.userAgent,t=e.indexOf("MSIE ");return-1===t?0:parseFloat(e.substring(t+5,e.indexOf(";",t)))},this.isNetscape=function(){var e=navigator.userAgent;return null!==e.match(/\d\sNavigator\/\d/)||null!==e.match(/\d\sNetscape\/\d/)},this.isPresto=function(){return-1!==navigator.userAgent.indexOf("Opera")},this.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},this.hexEncode=function(e){window.hexDic=window.hexDic||{},e+="";for(var t=[],n=window.hexDic,i=0;i<e.length;i++){var r=e.charAt(i),o=r.charCodeAt(0),a=i+1;(31>o||o>127)&&(r in n?r=n[r]:(o="&#x"+("000"+o.toString(16)).slice(-4)+";",r=n[r]=o)),t[a]=r}return t.join("")},this.genPageId=function(){var e=this.genRandomInt(1e6,99999999)+this.genRandomString(20)+((new Date).getTime()+"").split("").reverse().join("");return e.slice(0,35)},this.genRandomInt=function(e,t){return Math.floor(Math.random()*(t-e+1))+e},this.genRandomString=function(e){var t,n;if(t="1qwe8rty2uiop3a0sdf4ghjkl5z9xcv6bnm7MNBVCXZASDFGHJKLPOIUYTREWQ",n="",e=e||0,0>e)return"";for(;e>0;)n+=t[this.genRandomInt(0,t.length-1)],e--;return n}}function d(e){window.__SHOWAD_DEBUG&&"undefined"!=typeof console&&console.info&&console.info(new Date," -> ",e.replace("http","htt_p"))}function f(){window[M]=function(e,t){var n,i;window.__DMP_RESULT=window.__DMP_RESULT||{},n=window.__DMP_RESULT,n.r1=e,n.r2=t,i=window[_],i&&"function"==typeof i.processDmp&&i.processDmp.call(window,e,t);var r,o;"[object Array]"===g(e)?r=e:e&&g(e.segments)&&(r=e.segments),g(t)?o=t:e&&g(e.piggybacks)&&(o=e.piggybacks),h(o),p(r)}}function h(e){if(e&&g(e)&&!(e.length<=0)){var t="cftdpb_"+Math.floor(1e13*Math.random()),n=document.createElement("iframe");n.id=t,n.style.display="none",n.onload=function(){for(var t=n.contentWindow.document,i=0;i<e.length;i++)if("https:"===location.protocol&&(e[i].url=e[i].url.split("http:").join("https:")),"script"===e[i].type){var r=document.createElement("script");r.type="text/javascript",r.src=e[i].url,t.body.appendChild(r)}else"image"===e[i].type&&((new Image).src=e[i].url)};var i=document.getElementsByTagName("script")[0];i.parentNode.insertBefore(n,i)}}function p(e){if(!window.__ASL_DMP_NO_COOKIE&&e&&g(e)){var t,n=C;if(n&&n+""!=""){n+="",t=O;var i=new Date;i.setTime(i.getTime()+31536e6);var r=i.toGMTString(),o="";if(e.length>0){for(var a=0;21>a&&a<e.length;a++)e[a]=("0000"+String(e[a])).slice(-5),o+=t+a+"="+e[a]+"/";o=o.replace(/\,$/,"")}else o=t+"0=0";document.cookie=n+"="+escape(o)+"; expires="+r+"; path=/"}}}function g(e){return"[object Array]"===Object.prototype.toString.call(e)}function m(e){if("function"==typeof window[M]){P.dmpIsLoading=!0;var t,n="https:"===document.location.protocol?"https:":"http:",i=n+w+"?dd_jsonp="+M+"&dd_rft=je&oid="+T,r=0;for(i+="&src="+encodeURIComponent(location.href),document.referrer&&(i+="&ref="+encodeURIComponent(document.referrer)),t=v();r<t.length;r++)i+="&mtk="+encodeURIComponent(t[r]);for(;i.length>2e3;){var o=i.split("&");o.pop(),i=o.join("&")}e?document.write('<script type="text/javascript" src="'+i+'"></script>'):y(i)}}function v(){for(var e,t,n,i=0,r=document.getElementsByTagName("meta"),o="getAttribute";i<r.length;i++)if(e=r[i],t=e&&e[o]("name"),n=e&&e[o]("content"),t&&"keywords"===(t+"").toLowerCase()&&n){for(var a=0,s=(n||"").split(",");a<s.length;a++)s[a]=s[a].replace(/(^[\s]+)|([\s]+$)/g,"");return s}return[]}function y(e){var t=document.createElement("script"),n=document.getElementsByTagName("script")[0];t.type="text/javascript",t.src=e,t.async=!0,-1!==navigator.userAgent.indexOf("Opera")?setTimeout(function(){n.parentNode.insertBefore(t,n)},0):n.parentNode.insertBefore(t,n)}var _=t;if("undefined"==typeof window[_]){var E=n,A=i,b=o,S="_",I=s;if("undefined"==typeof window[I])throw new Error("Failed initialising library");var w="",T="dmp_oid",C="seg_cookie_name",O="kskd_cookie_prefix",D="200",M="__DMP_PROCESSING_CALLBACK_FN";l.prototype=new c,l.prototype.constructor=l,u.prototype=l.prototype,u.prototype.constructor=u;var P=new l(window[I]);f(),window[_]=P,P.processStack(),setTimeout(e,1)}}l.libServingName__=t,l[s]=l[s]||new u,"undefined"==typeof l.__ASL_LIB_LOADED&&c(),l.__ASL_LIB_LOADED=1}(window)};t["default"]={init:function(){var e=!1;return s&&(e=!0,s.apply(this,arguments)),s=null,e},isInitialised:function(){return null===s}}},function(n,i,r){(function(n){function o(e){return e&&e.__esModule?e:{"default":e}}function a(){if(!te["default"].isset(this._pageProperties.publisherID)||this._pageProperties.publisherID<0)throw new Error("Invalid/unset publisher ID: "+this._pageProperties.publisherID);if(!te["default"].isset(this._pageProperties.siteID)||this._pageProperties.siteID<0)throw new Error("Invalid/unset site ID: "+this._pageProperties.siteID)}function s(e){var t=this,n=e.context.getSettings().clone(),i=this.getOptions(),r=$["default"].resolveAnchorTypeForSettings(n),o=$["default"].convertAnchorTypeToPlacementType(r),a=X["default"].prepareWaterfallResolver(this.getAdZoneTemplates(),this.getAdZoneTemplateID()),s=a.selectByLocation(i.countryCode||v["default"].COUNTRY_CODE_UNKNOWN).selectByDevice().selectByOperatingSystem().selectByURI().selectByPlacementType(o).getWaterfalls(),l={anchorType:r,categories:e.categories,kioskedZoneID:e.hash,settings:n,settingsMeta:i.settingsData.meta,targetElement:e.element,publisherID:this.getPageProperties().publisherID,siteID:this.getPageProperties().siteID,waterfall:s.length>0?s[0]:null,waterfallsInitial:a.totalWaterfalls};return H["default"].createPlacementContainerWithOptions(l).then(function(e){t._unfilteredContainers+=1,de.createWithMedia(e),l.anchorType===v["default"].PLACEMENT_ANCHOR_TYPE.REWARD&&ITGS.publish("placementCreated",e),ie["default"].log("/SnifferController/","Created placement")},function(e){ie["default"].error("/SnifferController/","Placement was not created: "+e)})}function l(e,t){var n=t.getInt("ui.sniff.maxBanners",50),i=this.getActivatedElements().length,r=n-i,o=e.length;if(0>=r){for(var a=0;o>a;a+=1)this.setReservedElementByZoneID(e[a].hash,!0);return[]}var s=function(e){return e.width&&e.height?e.width*e.height:parseFloat(e.element.offsetWidth)*parseFloat(e.element.offsetHeight)};if(e=e.sort(function(e,t){var n=s(e),i=s(t);return i>n?1:n>i?-1:0}),e=this.getReservedElements().concat(e),o=e.length,o>r)for(var l=e.splice(r,o),u=o-r,c=0;u>c;c+=1)this.setReservedElementByZoneID(l[c].hash,!0);return e}function u(e,t){return e===t?!0:e.src&&t.src&&e.src===t.src}function c(){var e=this;if(this.isNot("running"))return this.set("idle"),n.resolve();this.set("sniffing"),this._snifferRoundsIndex=void 0!==this._snifferRoundsIndex?this._snifferRoundsIndex+1:0;var t=n.resolve([]),i=this.getSettings();return this.getRootSearchNode().forEachNode(function(i){t=t.then(function(t){return new n(function(n){var r=[].concat(t),o=new q["default"](e,i);o.retrieveItems().then(function(e){r=r.concat(e),n(r)}),o.destroy()})})}),t.then(function(t){t=l.call(e,t,i);var n=t.length;t.forEach(function(t){e.setReservedElementByZoneID(t.hash,!1),e.setActivatedElementByZoneID(t.hash,!0)}),e.getElementQueue().addItems(t),e.hasNot("timedFirstElementsCreation")&&(e.set("timedFirstElementsCreation"),P["default"].getGrandCentralStation().dispatch("timingEvent",{name:"snifferFirstBatch",properties:{item_count:n}}))}).then(function(){e.unset("sniffing"),e.hasNot("sentScriptStatusUpdate")&&(e.set("sentScriptStatusUpdate"),d.call(e)),setTimeout(function(){c.call(e)},v["default"].SNIFFER_INTERVAL)})}function d(){this._eventIndex=void 0!==this._eventIndex?this._eventIndex+1:0,oe["default"].getAnalyticsPageData().then(function(e){e[v["default"].ANALYTICS_EVENT_NAME_PROPERTY]="scriptStatusUpdate",P["default"].getGrandCentralStation().dispatch(v["default"].ANALYTICS_EVENT_NAME,e)})}function f(){var e=this,t=P["default"].getGrandCentralStation();t.addListener("mediaPageImpression",function(){var t=e.getQuantcastManager();te["default"].isset(t)&&t.boot()}),t.addListener("bannerProviderNotInitiated",function(e){R["default"].getSnifferController().setActivatedElementByZoneID(e.placementID,!1)}),t.addListener("maxPluginsExceeded",function(e){R["default"].getSnifferController().setActivatedElementByZoneID(e.placementID,!1)}),t.addListener("BannerDestroyedForSizeRestriction",function(e){R["default"].getSnifferController().setActivatedElementByZoneID(e.placementID,!1)}),t.addListener("incorrectPluginName",function(e){R["default"].getSnifferController().setActivatedElementByZoneID(e.placementID,!1)})}function h(){var e=this.getSettings(),t=C["default"].getSharedInstance(),n=e.getInt("ui.media.maxPlugins.BannerSlot",0),i=e.getInt("ui.media.maxPlugins.ExternalBannerSlot",0),r=e.getInt("ui.media.maxPlugins.VastPreroll",0);t.applyLimit(D["default"].InstanceType.Anchor,v["default"].PLACEMENT_ANCHOR_TYPE.BOX,n),t.applyLimit(D["default"].InstanceType.Anchor,v["default"].PLACEMENT_ANCHOR_TYPE.STUB,i),t.applyLimit(D["default"].InstanceType.AdFill,"AdFillVast",r)}function p(){var e=this.getOptions(),t=new V["default"](this._rootContext,{hashAttribute:e.elementHashAttribute});this._rootSearchNode=t.getRootNode()}function g(){var e=P["default"].getGrandCentralStation(),t=this.getSettings();e.prepareTimingController().then(function(i){if(S["default"].storageAvailable()&&t.getBool("ui.analytics.sendTimingData",!1)===!0){if(x["default"].getLocalStorageEventQueue().sendQueueFromStorage(),ue["default"].memoryProfilingSupported()){var r=ue["default"].getMemoryProfiling(),o=oe["default"].getAnalyticsConsumerData();o.memoryProfiling=r,o[v["default"].ANALYTICS_EVENT_NAME_PROPERTY]="kskdMemoryProfiling",x["default"].getLocalStorageEventQueue().setEventInQueue(o)}var a=F["default"].getUnloadManager();a.registerShutdownHandler(function(){return new n(function(t){e.dispatch("timingEvent",{name:"unload"});var n=oe["default"].getAnalyticsConsumerData();i.registerInitialsEvents();var r=i.getTimingEvents();n.records=r,i.registerResources(),n.resources=i.getResources(),n[v["default"].ANALYTICS_EVENT_NAME_PROPERTY]="pageTimings",x["default"].getLocalStorageEventQueue().setEventInQueue(n);var o=w["default"].getErrorCollector().getErrorList(),a=oe["default"].getAnalyticsConsumerData();a.errors=o,a[v["default"].ANALYTICS_EVENT_NAME_PROPERTY]="kskdErrors",x["default"].getLocalStorageEventQueue().setEventInQueue(a),t()}).then(function(){x["default"].getLocalStorageEventQueue().saveQueueInStorage()})},a.PRIORITY_HIGH)}})}Object.defineProperty(i,"__esModule",{value:!0});var m=r(2),v=o(m),y=r(6),_=o(y),E=r(106),A=o(E),b=r(32),S=o(b),I=r(55),w=o(I),T=r(29),C=o(T),O=r(20),D=o(O),M=r(9),P=o(M),k=r(113),x=o(k),N=r(18),R=o(N),L=r(57),F=o(L),B=r(95),H=o(B),j=r(64),z=o(j),W=r(146),V=o(W),U=r(19),G=o(U),Z=r(144),q=o(Z),Y=r(142),K=o(Y),Q=r(73),X=o(Q),J=r(30),$=o(J),ee=r(1),te=o(ee),ne=r(3),ie=o(ne),re=r(7),oe=o(re),ae=r(5),se=o(ae),le=r(12),ue=o(le),ce=[{name:"BannerSlot"}],de=_["default"].extend({construct:function(t,n){this.$super(),t=t||{},this._options=te["default"].mergeDefaults({elementHashAttribute:"kioskedhash_"+e,countryCode:"",settingsData:{},zoneDataEndpoint:oe["default"].getZoneDataURL(),zoneReportEndpoint:oe["default"].getZoneReportURL()},t);var i=t.settingsData||{};n=n||new z["default"](i,{countryCode:this._options.countryCode}),this._markedElements=[],this._pageType=null,this._rootContext=n.getRootContext(),this._settings=n.getBaseSettingsContext().getSettings(),this._adZoneTemplates=[],this._pageProperties={publisherID:t.hasOwnProperty("publisherID")?parseInt(t.publisherID,10):null,siteID:t.hasOwnProperty("siteID")?parseInt(t.siteID,10):null},this.addStatusSet(["idle","running","stopping","disabled"],"idle"),this.addStatus("sniffing"),a.call(this),p.call(this),h.call(this),n.destroy(),this._elementQueue=new K["default"](this,{publisherID:this._pageProperties.publisherID,siteID:this._pageProperties.siteID,zoneDataURL:this._options.zoneDataEndpoint,zoneReportURL:this._options.zoneReportEndpoint,cachedZones:this.getOptions().cachedZoneResponse&&this.getOptions().cachedZoneResponse.hasOwnProperty("results")?this.getOptions().cachedZoneResponse.results:[]}),G["default"].processDOMModifications(this),this._quantcastManager=null,this.getSettings().getBool("ui.sniff.quantcastEnabled",!1)===!0&&(this._quantcastManager=new A["default"]({publisherID:this.getPageProperties().publisherID,siteID:this.getPageProperties().siteID})),this._unfilteredContainers=this._unfilteredContainers||0,f.call(this),g.call(this)},destroy:function(){var e=this,t=this.bindMember("$super");return this.stop().then(function(){e.getElementQueue().destroy(),e.getRootSearchNode().destroy(),e.unMarkAllElements(),t()})},addMarkedItem:function(e){this._markedElements.push(e)},deactivateItemByZoneID:function(e){this.setActivatedElementByZoneID(e,!1),this.setReservedElementByZoneID(e,!1)},getActivatedElements:function(){for(var e=[],t=this.getMarkedElements(),n=t.length,i=0;n>i;i+=1)t[i].activated&&t[i].activated===!0&&e.push(t[i]);return e},getAdZoneTemplates:function(){return this._adZoneTemplates},getAdZoneTemplateID:function(){return this._adZoneTemplateID},getCategories:function(e){var t,n,i,r={};if(!te["default"].isset(e))return r;for(var o=0;o<e.length;o+=1){var a=e[o].type,s=te["default"].mergeDefaults({},e[o].result);if(s.items||(s.items=[]),s){if(s.state&&"error"===s.state)continue;if(!s.state||"ok"!==s.state)continue}if(te["default"].isset(s))if("focus100k"===a){t=s.items,n=Math.min(3,t.length);var l=[];for(i=0;n>i;i+=1)l.push(t[i]);r.focus100k=l}else if("iabtier2"===a){t=s.items,n=Math.min(2,t.length);var u=[];for(i=0;n>i;i+=1)u.push(t[i]);r.iabtier2=u}else if("iabtier1"===a){t=s.items,n=Math.min(2,t.length);var c=[];for(i=0;n>i;i+=1)c.push(t[i]);r.iabtier1=c}}return r},getElementQueue:function(){return this._elementQueue},getItemByZoneID:function(e){for(var t=this.getMarkedElements(),n=t.length,i=0;n>i;i+=1)if(t[i].hash===e)return t[i];return null},getMarkedElements:function(){return this._markedElements},getOptions:function(){return this._options},getPageProperties:function(){return this._pageProperties},getPageType:function(){return this.getSettings().getBool("ui.sniff.disableIndexPageAnalysis",!1)===!1?(this._pageType=this._pageType||G["default"].getPageType(),this._pageType):"article"},getQuantcastManager:function(){return this._quantcastManager},getReservedElements:function(){for(var e=[],t=this.getMarkedElements(),n=t.length,i=0;n>i;i+=1)t[i].reserved&&t[i].reserved===!0&&e.push(t[i]);
return e},getRootSearchContext:function(){return this._rootContext},getRootSearchNode:function(){return this._rootSearchNode},getSettings:function(){return this._settings},getSettingsMetaAbTesting:function(){var e=-1,t=0,n=this.getOptions();return n.hasOwnProperty("settingsMeta")&&(e=n.settingsMeta.hasOwnProperty("appliedAbTestStatus")?n.settingsMeta.appliedAbTestStatus:e,t=n.settingsMeta.hasOwnProperty("appliedAbTest")?n.settingsMeta.appliedAbTest:t),{status:e,test:t}},getUnfilteredContainers:function(){return this._unfilteredContainers},getUniqueNodeIndex:function(e){var t=[],n=this.getMarkedElements(),i=n.length;if(i>0){if(e instanceof HTMLImageElement){for(var r=0;i>r;r+=1)u(e,n[r].element)&&t.push(n[r].element);return t.push(e)-1}for(var o=G["default"].elementAsString(e),a=0;i>a;a+=1)o===G["default"].elementAsString(n[a].element)&&t.push(n[a].element);return t.push(e)-1}return 0},isLargeEnough:function(e){var t=e.context.getSettings();return e.width>=t.getInt("ui.sniff.minMediaWidth",300)&&e.height>=t.getInt("ui.sniff.minMediaHeight",250)},isPermittedBySettings:function(e){var t=!0,n=e.element,i=e.context.getSettings().get("ui.sniff.disableKiosksInElements",!1);if(i){var r=se["default"].query(i);if(r&&r.length>0)for(var o=0;o<r.length;o+=1){var a=r[o];if(n===a||se["default"].isDescendant(a,n)){t=!1;break}}}return t},loadItemWithData:function(e,t){if(te["default"].isEmpty(t))return void ie["default"].log("/SnifferController/","Unable to load item, no categories data (possibly blacklisted): "+e);for(var n=!1,i=this.getActivatedElements(),r=i.length,o=0;r>o;o+=1)if(i[o].hash===e){n=i[o];break}if(n!==!1){n.categories=this.getCategories(t),n.plugins=this.processPluginsForSettings(ce,n.context.getSettings());try{s.call(this,n)}catch(a){throw ie["default"].warn("/SnifferController/","Failed creating placement"),a}}else ie["default"].error("/SnifferController/","Unable to find media item for zone:",e)},markElementAsProcessed:function(e){if(!(e instanceof HTMLElement))throw new Error("Invalid element: not a HTMLElement");var t=this.getUniqueNodeIndex(e),n=G["default"].createElementHash(e,t,this._pageProperties.publisherID);return e.setAttribute(this.getOptions().elementHashAttribute,n),n},processPluginsForSettings:function(e,t){return te["default"].processPluginsArray(te["default"].deepClone(e),t)},setActivatedElementByZoneID:function(e,t){var n;n=this.getItemByZoneID(e),n.activated=t},setAdZoneTemplates:function(e){this._adZoneTemplates=e},setAdZoneTemplateID:function(e){this._adZoneTemplateID=e},setReservedElementByZoneID:function(e,t){var n;n=this.getItemByZoneID(e),n.reserved=t},start:function(){return this.is("idle")?(this.set("running"),c.call(this),!0):!1},stop:function(){var e=this;return new n(function(t){if(e.is("running")){e.set("stopping");var n=setInterval(function(){e.is("idle")&&(clearInterval(n),t(!0))},80)}else t(!1)})},unMarkAllElements:function(){for(var e=this.getOptions().elementHashAttribute,t=se["default"].query("["+e+"]"),n=t.length,i=0;n>i;i+=1)t[i].removeAttribute(e);return n},unsniffItemWithZoneID:function(e){var t=this.getItemByZoneID(e),n=this._markedElements.indexOf(t),i=this.getOptions().elementHashAttribute;if(!(te["default"].isset(t)&&n>=0))throw new Error("Unable to un-sniff item: doesn't exist ("+e+")");this._markedElements.splice(n,1),t.element.removeAttribute(i)},wasSelectedAsCustom:function(e){return e.selectionMode===v["default"].ELEMENT_SELECTION_MODE.CUSTOM}});de.createWithMedia=function(e){return t.push(e),e},i["default"]=de}).call(i,r(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=this.getSniffer(),n=t.getSettings(),i=t.getPageProperties(),r=e.length;A["default"].log("/SnifferElementQueue/","Will analyse "+r+" items"),r>0&&(this.analyzer=this.analyzer||new v["default"]({zoneReportURL:this.getOptions().zoneReportURL,settings:n}),this.analyzer.getPageAnalysis()||this.analyzer.analyzePage(e,i.siteID,i.publisherID),this.analyzer.analyzeZones(e),this.analyzer.sendAnalysis(!0))}function o(e){for(var t=[],n=e.length,i=0;n>i;i+=1){var r=e[i];r.zoneId=r.hash,r.categories=s(),t.push(r)}this.getOptions().cachedZones=this.getOptions().cachedZones.concat(t)}function a(){var e=this;if(this.isNot("started"))return A["default"].warn("/ElementQueue/","Not flushing: queue not started"),!1;var t=this.getQueue(),n=t,i=t.length;i>O?(n=t.splice(0,O),this.setQueue(t)):this.setQueue([]);var r=n.length;if(0>=r)return!1;for(var o=0;r>o;o+=1){var a=n[o];n[o]={id:a.hash,responseTypes:["categories"]}}var s=this.prepareJSONPayload(n);return S["default"].sendRequest({destination:this.getOptions().zoneDataURL,method:"POST",errorCallback:function(){throw new Error("Failed sending zone data request")},data:{json:JSON.stringify(s)},callback:function(t){var n=!1;try{n=JSON.parse(t)}catch(i){throw A["default"].warn("/ElementQueue/","Failed decoding invalid JSON response"),i}n&&e.processItemsResponse(n)}}),this.set("sentFirstZonesRequest"),!0}function s(){return[{type:"cache",result:{state:"ok",meta:"Cached item"}}]}function l(){var e=this.getOptions(),t=e.cachedZones,n=this.has("zoneCacheEnabled")||this.hasNot("zoneDataRequestEnabled"),i=this.getQueue();if(t&&n){for(var r=i.length,o=[],a=t.length,s=0,l=0;r>l;l+=1){for(var u=!1,c=0;a>c;c+=1)if(t[c].zoneId===i[l].hash){u=!0,this.set("usedCachedZoneData");var d={results:[t[c]]};this.processItemsResponse(d),s+=1}u||o.push(i[l])}s>0&&A["default"].log("/SnifferElementQueue/","Loaded "+s+" cached zones"),this.setQueue(o)}}function u(){var e=this;this._timer=setTimeout(function(){if(!e.isNot("started")){a.call(e);try{u.call(e)}catch(t){A["default"].error("/ElementQueue/","Failed restarting queue timer")}}},d["default"].SNIFFER_ELEMENT_QUEUE_DELAY)}Object.defineProperty(t,"__esModule",{value:!0});var c=n(2),d=i(c),f=n(6),h=i(f),p=n(19),g=i(p),m=n(86),v=i(m),y=n(1),_=i(y),E=n(3),A=i(E),b=n(31),S=i(b),I=n(11),w=i(I),T=n(7),C=i(T),O=20;t["default"]=h["default"].extend({construct:function(e,t){if(this.$super(),t=t||{},this._options=_["default"].mergeDefaults({name:"ElementQueue",cachedZones:[],publisherID:null,siteID:null,zoneDataURL:null,zoneReportURL:null},t),this._sniffer=e,this._queue=[],this.addStatusSet(["started","stopped"],"started"),this.addStatus("usedCachedZoneData"),this.addStatus("sentFirstZonesRequest"),this.addStatus("zoneCacheEnabled"),this.addStatus("zoneDataRequestEnabled"),this.getSniffer().getSettings().getBool("ui.sniff.sendZoneDataRequests",!0)===!0&&(this.set("zoneDataRequestEnabled"),_["default"].isEmpty(this._options.zoneDataURL)||_["default"].isEmpty(this._options.zoneReportURL)))throw new KioskedException("Invalid/unset zone-data or zone-report URL");d["default"].CACHE.ZONE_RESPONSE===!0&&this.set("zoneCacheEnabled"),this._timer=null,u.call(this)},addItems:function(e){w["default"].isArray(e)||(e=[e]),this.isNot("zoneDataRequestEnabled")&&o.call(this,e),this._queue=this._queue.concat(e),l.call(this)},destroy:function(){this._timer&&clearTimeout(this._timer),this._options=null,this.set("stopped"),this.$super()},flush:function(){a.call(this)},getOptions:function(){return this._options},getQueue:function(){return this._queue},getSniffer:function(){return this._sniffer},prepareJSONPayload:function(e){var t=this.hasNot("sentFirstZonesRequest")&&this.hasNot("usedCachedZoneData"),n=this.getOptions();return{zones:e,pub:n.publisherID,site:n.siteID,pageUrl:g["default"].processPageURL(C["default"].getPageUrl()),pageType:this.getSniffer().getPageType(),firstRequest:t}},processItemsResponse:function(t){if(t){var n=this.getSniffer();if(t.results){for(var i=t.results,o=i.length,a=e.resolve(),s=0;o>s;s+=1)!function(e){a=a.then(function(){n.loadItemWithData(e.zoneId,e.categories)})}(i[s]);a["catch"](function(e){throw A["default"].warn("/ElementQueue/","Failed loading some item responses"),e})}if(t.zonesToAnalyze){for(var l=t.zonesToAnalyze.length,u=[],c=0;l>c;c+=1){var d=t.zonesToAnalyze[c].zoneId,f=n.getItemByZoneID(d);f?(t.zonesToAnalyze[c].img=f.element,u.push(t.zonesToAnalyze[c])):A["default"].warn("/SnifferElementQueue/","Failed finding sniffed data for zone: ",d)}u.length>0&&r.call(this,u)}}},setQueue:function(e){this._queue=e}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),o=i(r),a=n(1),s=i(a);t["default"]=o["default"].extend({construct:function(e){this.$super(),this._originalSettings=e},getSettingsInNewLayout:function(){for(var e=[],t=this._originalSettings.length,n={},i=[],r=0;t>r;r+=1){var o=this._originalSettings[r];s["default"].isset(o.target)&&o.target.length>0?(n.hasOwnProperty(o.target)||(n[o.target]=[]),n[o.target].push(o)):i.push(o)}var a=i.length;if(a>0){for(var l={conditionId:null,cssSelector:null,properties:[]},u=0;a>u;u+=1)l.properties.push({key:i[u].key,value:i[u].value});e.push(l)}for(var c in n)if(n.hasOwnProperty(c)){for(var d={conditionId:null,cssSelector:c,properties:[]},f=n[c].length,h=0;f>h;h+=1)d.properties.push({key:n[c][h].key,value:n[c][h].value});e.push(d)}return e}})},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(6),s=i(a),l=n(19),u=i(l),c=n(5),d=i(c),f=n(134),h=i(f);t["default"]=s["default"].extend({construct:function(e,t){this.$super(),this._snifferController=e,this._searchNode=t,this._maxItemsPerRound=u["default"].getMaximumItemsPerRound()},destroy:function(){this._snifferController=null,this._searchNode=null,this.$super()},getMaximumItemsPerRound:function(){return this._maxItemsPerRound},getSearchNode:function(){return this._searchNode},getSnifferController:function(){return this._snifferController},retrieveItems:function(){var t=this.getSearchNode(),n=this.getSnifferController(),i=t.getContext().getSettings(),r=t.isRoot(),a=t.getSelectionMode(),s=t.getOptions().hashAttribute,l=this.getMaximumItemsPerRound();return t.getContext().isNot("enabled")||t.isBlockedBySettings()?e.resolve([]):t.prepareChain().then(function(e){var n=t.formQueryString(e.subParentSelectors,e.selectors),i=e.customSelectors.length>0?t.formQueryString(e.subParentSelectors,e.customSelectors):!1;if(r)return{elements:e.elements,parents:[],queryString:n,queryStringCustom:i};for(var o=e.parentSelectors.length,a=[],s=0;o>s;s+=1)a=a.concat(d["default"].query(e.parentSelectors[s]));return{elements:e.elements,parents:a,queryString:n,queryStringCustom:i}}).then(function(e){var n=[].concat(e.elements),i=[];if(r)n=n.concat(d["default"].query(e.queryString));else for(var s=e.parents.length,l=0;s>l;l+=1)if("select"===a)n.push(e.parents[l]),i.push(e.parents[l]);else{var u=d["default"].query(e.queryString,e.parents[l]);n=n.concat(u)}for(var c=[],f=n.length,h=0;f>h;h+=1){var p=t.wrapElement(n[h]);i.indexOf(n[h])>=0&&(p.searchMode=o["default"].ELEMENT_SEARCH_MODE.SELECT),c.push(p)}return{items:c,queryStringCustom:e.queryStringCustom}}).then(function(e){var n=e.items;if(e.queryStringCustom&&r)for(var i=d["default"].query(e.queryStringCustom),a=i.length,s=0;a>s;s+=1){var l=t.wrapElement(i[s]);l.selectionMode=o["default"].ELEMENT_SELECTION_MODE.CUSTOM,n.push(l)}return n}).then(function(e){return"select"===a&&e.forEach(function(e){e.selectionMode=o["default"].ELEMENT_SELECTION_MODE.CUSTOM}),e.forEach(function(e){e.element.hasAttribute(s)?e.firstSniff=!1:t._incrementElementCount(1)}),e}).then(function(e){return e.filter(t.filterTemporarilyBlockedItem,t)}).then(function(e){for(var t=e.length,i=[],r=0,o=0;t>o;o+=1){var a=e[o].element,s=a.offsetWidth,l=a.offsetHeight;(s>0&&l>0||n.wasSelectedAsCustom(e[o]))&&(e[o].width=s,e[o].height=l,i.push(e[o]),r+=1)}return e=i}).then(function(e){return e=e.filter(function(e){return n.wasSelectedAsCustom(e)||n.isLargeEnough(e)}),e=e.filter(function(e){return n.wasSelectedAsCustom(e)||n.isPermittedBySettings(e)})}).then(function(e){var t=i.get("ui.sniff.bulletLangFilter",!1);return t!==!1&&(e=h["default"].filter(e,t)),e}).then(function(e){return e.filter(function(e){return n.wasSelectedAsCustom(e)||e.element instanceof HTMLImageElement&&e.element.src})}).then(function(e){return e.filter(t.filterItemByBlockedAttributes,t)}).then(function(e){var t=e.length;t>l&&(e=e.slice(0,l),t=l);for(var i=0;t>i;i+=1)e[i].hash=n.markElementAsProcessed(e[i].element),n.addMarkedItem(e[i]);return e})}})}).call(t,n(4))},function(e,t,n){(function(e){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),o=i(r),a=n(6),s=i(a),l=n(63),u=i(l),c=n(1),d=i(c),f=n(5),h=i(f);t["default"]=s["default"].extend({construct:function(e,t){if(this.$super(),t=t||{},this._options=d["default"].mergeDefaults({name:"SearchNode",hashAttribute:"",root:!1},t),this._context=e,this._context instanceof u["default"]!=!0)throw new KioskedException("Expected context to be of type SearchContext");this._children=[],this._elementCount=0;var n=this.getContext().getSettings(),i=n.get("ui.sniff.customElementSelector",!1);this._customSelectors=i?i.split(","):[]},destroy:function(){try{this.getContext().destroy()}catch(e){}this.forEachChild(function(e){e.destroy()}),this.$super()},addChild:function(e){this._children.push(e)},applySelectorFilter:function(e){var t=e;return t+=':not(*[class*="'+o["default"].SNIFFER_BLOCK_PARAM+'"] '+e+'):not(*[class*="'+o["default"].SNIFFER_BLOCK_PARAM+'"]):not(*[src*="'+o["default"].SNIFFER_BLOCK_PARAM+'"])'},filterItemByBlockedAttributes:function(e){var t=e.element,n=this.getOptions();return!t.hasAttribute(n.hashAttribute)},filterTemporarilyBlockedItem:function(e){var t=e.element,n=this.getItemsThatBlockSniffing(),i=n.length;if(i>0)for(var r=0;i>r;r+=1)if(n[r]===t||h["default"].isDescendant(n[r],t))return!1;return!0},forEachChild:function(e){var t=this.getChildren(),n=t.length;if("function"!=typeof e)throw new KioskedException("Callback must be a function");for(var i=0;n>i;i+=1)e(t[i])},forEachNode:function(e){e(this),this.forEachChild(e)},formQueryString:function(e,t){for(var n="",i=t.length,r=e.length,o=0;i>o;o+=1){var a=t[o];n+=this.applySelectorFilter(a);for(var s=0;r>s;s+=1)n+=":not("+e[s]+" "+a+")";i-1>o&&(n+=", ")}return n},getChildren:function(){return this._children},getContext:function(){return this._context},getCustomSelectors:function(){return this._customSelectors},getElementCount:function(){return this._elementCount},getItemsThatBlockSniffing:function(){var e=this.getContext().getSettings().get("ui.sniff.delayKiosksInElements",!1);if(e!==!1){for(var t=e.split(","),n=[],i=0;i<t.length;i+=1)for(var r=h["default"].query(t[i]),o=r.length,a=0;o>a;a+=1)n.push(r[a]);return n}return[]},getOptions:function(){return this._options},getSelectionMode:function(){return this.getContext().getSettings().get("ui.sniff.selectionMode","search")},getSelectors:function(){return["img"]},isBlockedBySettings:function(){var e=this.getContext().getSettings(),t=e.get("ui.sniff.disableOnPagesWithElement",!1);if(t){var n=h["default"].query(t);if(n&&n.length>0)return!0}return!1},isRoot:function(){return this.getOptions().root===!0},prepareChain:function(){var t=this.getContext().getContextSelectors(),n=this.getContext().getChildContextSelectors(),i=this.getSelectors(),r=this.getCustomSelectors();return e.resolve({elements:[],parentSelectors:t,subParentSelectors:n,selectors:i,customSelectors:r})},wrapElement:function(e){return{element:e,firstSniff:!0,node:this,context:this.getContext(),searchMode:o["default"].ELEMENT_SEARCH_MODE.SEARCH,selectionMode:o["default"].ELEMENT_SELECTION_MODE.NORMAL}},_incrementElementCount:function(e){return e=e>=0?e:1,this._elementCount+=e,this._elementCount}})}).call(t,n(4))},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){var n=this.getOptions(),i=new u["default"](e,{hashAttribute:n.hashAttribute,root:!1});t.addChild(i);var o=e.getChildContexts(),a=o.length;if(a>0)for(var s=0;a>s;s+=1)r.call(this,o[s],i)}function o(){var e=this.getOptions();this._rootNode=new u["default"](this._rootContext,{hashAttribute:e.hashAttribute,root:!0});for(var t=this._rootContext.getChildContexts(),n=t.length,i=0;n>i;i+=1)r.call(this,t[i],this._rootNode)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(6),s=i(a),l=n(145),u=i(l),c=n(1),d=i(c);t["default"]=s["default"].extend({construct:function(e,t){this.$super(),t=t||{},this._options=d["default"].mergeDefaults({hashAttribute:""},t),this._rootContext=e,this._rootNode=null,o.call(this)},getOptions:function(){return this._options},getRootNode:function(){return this._rootNode}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(40),o=i(r),a=n(41),s=i(a);t["default"]={getURLPathOnly:function(e){var t=e.split("?");return t[0]},getURLWithAlphabetizedParameters:function(e){var t=new o["default"](e),n=t.getPath(),i=t.getQueryParameters(),r=t.getFragment(),a=s["default"].formURLStringFromParameters(i,["ALPHABETIZE"]);return a.length>0&&(n+="?"+a),r.length>0&&(n+="#"+r),n},getURLWithoutFragment:function(e){var t=new o["default"](e),n=t.getPath(),i=t.getQuery();return i.length>0&&(n+="?"+i),n}}},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),o=i(r),a=n(16),s=i(a),l=n(5),u=i(l);t["default"]=o["default"].extend({construct:function(e){this.$super(e)},build:function(){this.$super(),this.unset("built");var e=this.getContainer(),t=this.getCloseButtonContainer(),n=this.getAdsLogoDisclaimerContainer(),i=this.getOptions();s["default"].getStyling().selectStyle("BannerDisclaimerAdsLogoContainer").applyToElement(n),this.buildAdsLogoDisclaimerContainer(n),i.closingButton!==!1&&(s["default"].getStyling().selectStyle("BannerDisclaimerCloseButtonContainer").applyToElement(t),this.buildCloseButton(t)),e.appendChild(t),i.showDisclaimer&&e.appendChild(n),s["default"].getStyling().selectStyle("BannerDisclaimerContainer").applyToElement(e),this.getOptions().zIndex!==!1&&(this.getContainer().style.zIndex=this.getOptions().zIndex),this.set("built")},buildCloseButton:function(e){var t=document.createElement("div"),n="white"===this.getOptions().colour?"BannerDisclaimerCloseButtonWhiteIcon":"BannerDisclaimerCloseButtonIcon";s["default"].getStyling().selectStyle(n).applyToElement(t),e.appendChild(t)},buildAdsLogoDisclaimerContainer:function(e){var t=this.getOptions();this._adsLogo=u["default"].create("a"),this._adsLogo.href=t.disclaimerLink,this._adsLogo.target="_blank",s["default"].getStyling().selectStyle("BannerDisclaimerAdsLogo").applyToElement(this._adsLogo),e.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}})},function(e,t,n){function i(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(60),o=i(r),a=n(16),s=i(a),l=n(1),u=i(l),c=n(10),d=i(c),f=n(5),h=i(f);t["default"]=o["default"].extend({construct:function(e){this.$super(e)},build:function(){this.$super(),this.unset("built");var e=this,t=this.getContainer(),n=this.getCloseButtonContainer(),i=this.getAdsLogoDisclaimerContainer(),r=s["default"].getStyling(),o=this.getOptions();r.selectStyle("BannerDisclaimerCloseButtonContainerLeft").applyToElement(n),r.selectStyle("BannerDisclaimerAdsLogoContainerLeft").applyToElement(i);var a=r.getRenderedStyle("BannerDisclaimerAdsLogoContainerLeft"),l=r.getRenderedStyle("BannerDisclaimerAdsLogoContainerLeft","hover");if(d["default"].isMobile()){var c=function f(t){t.preventDefault(),u["default"].animate(i,{duration:500,properties:{width:"96px"},easing:"inOutQuintic"}),i.removeEventListener("touchstart",f),e.disclaimerTimeout=setTimeout(function(){u["default"].animate(i,{duration:500,properties:{width:"20px"},easing:"inOutQuintic"}),i.addEventListener("touchstart",f)},5e3)};i.addEventListener("touchstart",c)}else i.addEventListener("mouseenter",function(){clearTimeout(e.disclaimerTimeout),u["default"].animate(i,{duration:500,properties:{width:l.width},easing:"inOutQuintic"})}),i.addEventListener("mouseleave",function(){e.disclaimerTimeout=setTimeout(function(){u["default"].animate(i,{duration:500,properties:{width:a.width},easing:"inOutQuintic"})},500)});this.buildCloseButton(n),this.buildAdsLogoDisclaimerContainer(i),t.appendChild(n),o.showDisclaimer&&t.appendChild(i),s["default"].getStyling().selectStyle("BannerDisclaimerContainerInside").applyToElement(t),this.getOptions().zIndex!==!1&&(this.getContainer().style.zIndex=this.getOptions().zIndex+1),this.set("built")},buildCloseButton:function(e){var t=document.createElement("div");s["default"].getStyling().selectStyle("BannerDisclaimerCloseButtonIcon").applyToElement(t),e.appendChild(t)},buildAdsLogoDisclaimerContainer:function(e){var t=this.getOptions();this._adsLogo=h["default"].create("a"),this._adsLogo.href=t.disclaimerLink,this._adsLogo.target="_blank",s["default"].getStyling().selectStyle("BannerDisclaimerAdsLogoInside").applyToElement(this._adsLogo),e.appendChild(this._adsLogo)},getAdsLogo:function(){return this._adsLogo},destroy:function(){this.$super()}})},function(e,t,n){(function(e,t){(function(){!function(e,n){function i(e){return g[p]=r.apply(n,e),p++}function r(e){var t=[].slice.call(arguments,1);return function(){"function"==typeof e?e.apply(n,t):new Function(""+e)()}}function o(e){if(m)setTimeout(r(o,e),0);else{var t=g[e];if(t){m=!0;try{t()}finally{a(e),m=!1}}}}function a(e){delete g[e]}function s(){h=function(){var e=i(arguments);return t.nextTick(r(o,e)),e}}function l(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function u(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&o(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),h=function(){var n=i(arguments);return e.postMessage(t+n,"*"),n}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;o(t)},h=function(){var t=i(arguments);return e.port2.postMessage(t),t}}function d(){var e=v.documentElement;h=function(){var t=i(arguments),n=v.createElement("script");return n.onreadystatechange=function(){o(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n),t}}function f(){h=function(){var e=i(arguments);return setTimeout(r(o,e),0),e}}if(!e.setImmediate){var h,p=1,g={},m=!1,v=e.document,y=Object.getPrototypeOf&&Object.getPrototypeOf(e);y=y&&y.setTimeout?y:e,"[object process]"==={}.toString.call(e.process)?s():l()?u():e.MessageChannel?c():v&&"onreadystatechange"in v.createElement("script")?d():f(),y.setImmediate=h,y.clearImmediate=a}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(window)}).call(t,function(){return this}(),n(173))},function(e,t){e.exports='<style type="text/css">\n    body {\n        margin: 0;\n    }\n</style>'},function(e,t){e.exports="<!-- AOL [SIZE] [DOMAIN] -->\n<script type=\"text/javascript\">\n    var placementID = [ID],\n        cachebuster = \"[CACHEBUSTER]\";\n    document.write('<scr'+'ipt language=\"javascript1.1\" src=\"[PROTOCOL]://adserver.adtechus.com/addyn|3.0|9573.1|'+placementID+'|0|225|ADTECH;loc=100;target=_blank;misc='+cachebuster+';rdclick=\"><\\/script>');\n</script>\n"},function(e,t){e.exports="<!-- Async Tag // Website: [DOMAIN] mobile // Placement: [DOMAIN] [SIZE] mobile  ([ID]) -->\n<script type=\"text/javascript\" src=\"http://aka-cdn-ns.adtechus.com/dt/common/DAC.js\"></script>\n<div id=\"[ID]\"></div>\n<script>\n    ADTECH.config.page = {protocol: '[PROTOCOL]', server: 'a.adtechus.com', network: '9573.1', params: { loc: '100' }};\n    ADTECH.config.placements[[ID]] = {params: {alias: '[ID]', target: '_blank' }};\n    ADTECH.loadAd([ID]);\n</script>"},function(e,t){e.exports='<!-- BEGIN APPNEXUS TAG - [SIZE] [DOMAIN] < - DO NOT MODIFY -->\n<SCRIPT SRC="http://ib.adnxs.com/ttj?id=[ID]&cb=[CACHEBUSTER]" TYPE="text/javascript"></SCRIPT>\n<!-- END TAG -->'},function(e,t){e.exports='<!-- BEGIN SECURE APPNEXUS TAG - [SIZE] [DOMAIN] < - DO NOT MODIFY -->\n<SCRIPT SRC="https://secure.adnxs.com/ttj?id=[ID]&cb=[CACHEBUSTER]" TYPE="text/javascript"></SCRIPT>\n<!-- END TAG -->'},function(e,t){e.exports="<!-- [DOMAIN] - Criteo tag - [SIZE] -->\n<script type=\"text/javascript\">\n    document.MAX_ct0 ='';\n    var m3_u = (location.protocol=='https:'?'https://cas.criteo.com/delivery/ajs.php?':'http://cas.criteo.com/delivery/ajs.php?');\n    var m3_r = Math.floor(Math.random()*99999999999);\n    document.write (\"<scr\"+\"ipt type='text/javascript' src='\"+m3_u);\n    document.write (\"zoneid=[ID]\");document.write(\"&nodis=1\");\n    document.write ('&cb=' + m3_r);\n    if (document.MAX_used != ',') document.write (\"&exclude=\" + document.MAX_used);\n    document.write (document.charset ? '&charset='+document.charset : (document.characterSet ? '&charset='+document.characterSet : ''));\n    document.write (\"&loc=\" + escape(window.location));\n    if (document.referrer) document.write (\"&referer=\" + escape(document.referrer));\n    if (document.context) document.write (\"&context=\" + escape(document.context));\n    if ((typeof(document.MAX_ct0) != 'undefined') && (document.MAX_ct0.substring(0,4) == 'http')) {\n        document.write (\"&ct0=\" + escape(document.MAX_ct0));\n    }\n    if (document.mmm_fo) document.write (\"&mmm_fo=1\");\n    document.write (\"'></scr\"+\"ipt>\");\n</script>\n<!-- End tag -->"},function(e,t){e.exports="<!-- BEGIN DFP TAG - [SIZE] [DOMAIN] < - DO NOT MODIFY -->\n<script type='text/javascript'>\n    var googletag = googletag || {};\n    googletag.cmd = googletag.cmd || [];\n    (function() {\n        if (window.__ITGS_DFPSCRIPT_INIT) {\n            return;\n        }\n        window.__ITGS_DFPSCRIPT_INIT = true;\n        // Load:\n        var gads = document.createElement('script');\n        gads.async = true;\n        gads.type = 'text/javascript';\n        var useSSL = 'https:' === document.location.protocol;\n        gads.src = (useSSL ? 'https:' : 'http:') +\n                '//www.googletagservices.com/tag/js/gpt.js';\n        var node = document.getElementsByTagName('script')[0];\n        node.parentNode.insertBefore(gads, node);\n    })();\n</script>\n<script type='text/javascript'>\n    (function() {\n        // slot definitions\n        googletag.cmd.push(function() {\n            googletag.defineSlot( '/109207610/[ID]',  [[WIDTH], [HEIGHT]], 'div-gpt-ad-[KIOSK_ID]').addService(googletag.pubads());\n        });\n        if (window.__ITGS_DFPSCRIPT_DEF) {\n            return;\n        }\n        window.__ITGS_DFPSCRIPT_DEF = true;\n        // setup services\n        googletag.cmd.push(function() {\n            googletag.pubads().enableSingleRequest();\n            googletag.enableServices();\n        });\n    })();\n</script>\n\n<div id='div-gpt-ad-[KIOSK_ID]'>\n    <script type='text/javascript'>\n            googletag.cmd.push(function() { googletag.display('div-gpt-ad-[KIOSK_ID]'); });\n    </script>\n</div>\n<!-- END TAG -->"},function(e,t){e.exports="<!-- District M Tag - [SIZE] - ATF - EN -->\n<div class='districtm'><script type='text/javascript'><!--\n/* [DOMAIN] - RunOfSite */\ndm_ad_slot = [ID];\ndm_ad_width = [WIDTH];\ndm_ad_height = [HEIGHT];\ndm_language = 'EN';\n//-->\n</script>\n    <script type='text/javascript'\n            src='//static.districtm.ca/18/dm_adtag[ADVERTISER_ID].js'>\n    </script></div>\n<!-- End of District M Tag -->"},function(e,t){e.exports='<!-- Begin IOW tag - [SIZE] - [DOMAIN] -->\n<div style="width: [WIDTH]px; height: [HEIGHT]px" id="kskd_iow_[KIOSK_ID]"></div>\n<script type="text/javascript">\n    ITGS.r("locators/IOWManagerLocator", function(IOWManagerLocator) {\n        var mgr = IOWManagerLocator.getIOWManager(),\n            proxy = mgr.getProxy();\n        proxy.requestSlot("[PLACEMENT_TYPE]", "[ID]", "[FLD_STATUS]");\n        proxy.renderSlot(\n                document.getElementById("kskd_iow_[KIOSK_ID]"),\n                "[PLACEMENT_TYPE]",\n                "[ID]",\n                "[KIOSK_ID]",\n                [FLD_STATUS]\n        );\n    });\n</script>\n<!-- End IOW tag -->\n'},function(e,t){e.exports='<!--/* OpenX JavaScript tag */-->\n<script type="text/javascript">\n    if (!window.OX_ads) { OX_ads = []; }\n    OX_ads.push({ "auid" : "[ID]" });\n</script>\n<script type="text/javascript">\n    document.write(\'<scr\'+\'ipt src="//us-ads.openx.net/w/1.0/jstag"><\\/scr\'+\'ipt>\');\n</script>\n'},function(e,t){e.exports='<!-- PulsePoint [DOMAIN] @ [SIZE] -->\n<script src="[PROTOCOL]://tag.contextweb.com/TagPublish/getjs.aspx?action=VIEWAD&cwrun=200&cwadformat=[SIZE]&cwpid=558626&cwwidth=[WIDTH]&cwheight=[HEIGHT]&cwpnet=1&cwtagid=[ID]"></script>'},function(e,t){e.exports='<!--Smaato Tag - [WIDTH] x [HEIGHT] -->\n<div id="smaatoad-[KIOSK_ID]" style="padding: 0px"></div>\n<script type="text/javascript" src="//soma-assets.smaato.net/js/smaatoAdTag.js"></script>\n<script>\n    function callBackForSmaato(status){\n        if (status == "ERROR"){\n            throw new Error("Failed rendering Smaato tag: " + status);\n        }\n    };\n    SomaJS.loadAd({\n        adDivId : "smaatoad-[KIOSK_ID]",\n        publisherId: 1100019414,\n        adSpaceId: [ID],\n        width: [WIDTH],\n        height: [HEIGHT]\n    },callBackForSmaato);\n</script>\n<!-- END TAG -->\n'},function(e,t){e.exports="<!-- BEGIN TECHNORATI MEDIA TAG FOR [DOMAIN]_[SIZE], Ad Size: [SIZE] -->\n<script type='text/javascript'>\n    var trID = \"[ID]\", lp = trID.substr(- 2, 2), sp = trID.substr(- 4, 2); \n    document.write('<scri' + 'pt type=\"text/javascript\" src=\"'\n    + (document.location.protocol == 'https:' ? 'https://uat-secure.technoratimedia.com' : 'http://ad-cdn.technoratimedia.com')\n    + '/00/' + lp + '/' + sp + '/uat_[ID].js?ad_size=[SIZE]\"></scri' + 'pt>');\n</script>\n<!-- END TECHNORATI MEDIA TAG FOR [DOMAIN]_[SIZE], Ad Size: [SIZE] -->\n"},function(e,t){e.exports='<!-- Kiosked: BEGIN Sample banner -->\n<div id="kskdTestDiv_[KIOSK_ID]"></div>\n<script type="text/javascript" src="[PROTOCOL]://[RESOURCES_DOMAIN]/demo/creatives/boot.js"></script>\n<script type=\'text/javascript\'>\n(function() {\n    "use strict";\n\n    var div = document.getElementById("kskdTestDiv_[KIOSK_ID]");\n    var zoneID = "[ID]";\n    if (zoneID === "fallback:close") {\n\n        setTimeout(function() {\n\n            // Kiosked Fallback :: (C) Copyright Kiosked Ltd.\n            var currentTargetWindow = window,\n                windowSources = [],\n                kskdID = "";\n\n            try {\n                kskdID = window.frameElement.getAttribute("data-kioskid");\n            } catch (e) {}\n            // test hack:\n            kskdID = "[KIOSK_ID]";\n\n            do {\n                try {\n                    var contentURL = currentTargetWindow.location.href;\n                    if (contentURL.length > 0) {\n                        windowSources.push(contentURL);\n                    }\n                } catch (e) {}\n                currentTargetWindow = currentTargetWindow.parent;\n                var packet = {\n                    name: "fallback_initiated",\n                    window_chain: windowSources,\n                    containerID: kskdID\n                };\n                try {\n                    currentTargetWindow.postMessage("kiosked_window_message:" + JSON.stringify(packet), \'*\');\n                    currentTargetWindow.postMessage("kskd_window_message:" + JSON.stringify(packet), \'*\');\n                } catch (e) {}\n            } while (currentTargetWindow !== window.top);\n\n        }, 150);\n\n    } else if (zoneID.indexOf("demo:") === 0) {\n        div.style.backgroundColor = "rgba(0,0,0,0)";\n        var demoZoneID = zoneID.substr(5);\n        ITGS.r("DemoCreativeManager", function (DCM) {\n            var dcmInstance = DCM.getSharedInstance(),\n                inventoryReady = function () {\n                    var data = dcmInstance.getRandomCreative(demoZoneID);\n                    if (data) {\n                        var anchor = document.createElement("a"),\n                            img = document.createElement("img");\n                        anchor.href = "[HREF]";\n                        anchor.target = "_blank";\n                        img.src = data.url;\n                        img.className = "kskdDiv";\n                        img.setAttribute("style", "width: " + data.width + "px; height: " + data.height + "px");\n                        anchor.appendChild(img);\n                        div.appendChild(anchor);\n                        return true;\n                    }\n                    return false;\n                };\n            if (!inventoryReady()) {\n                var remove = dcmInstance.subscribe("update", function () {\n                    inventoryReady();\n                    (remove)();\n                }).remove;\n            }\n        });\n    } else {\n        div.style.width = "1000px";\n        div.style.height = "1000px";\n        div.style.backgroundColor = "blue";\n    }\n})();\n</script>\n<!-- Kiosked: END Sample banner -->\n';
},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAAAPFBMVEUAAAD////////////////////////////////////////////////////////////////////////////YSWgTAAAAE3RSTlMAAw8VJCotMEtOUFylydPk6/r8Zwi+1gAAAKBJREFUOMvt1N0KgzAMBeAzV+tvNXXv/65qNrpoEra7wbB3gY+QnpTi8eXBBX8JF7c4wrGhdzGF5MHxhljkdEeVbLg0QJGbAwanI8Ui2XXZm7FI7U63fknDnXNkWRtOBc7ScHozVO+uzR9XyPOJPD34dIaE4dpoSGjXZTIkDHfYkQVFzlrKRxFEfix7p2OqRM6bDLM3YxpEztTP1wfwV3AF9HZsqH96W1QAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABI1BMVEUAAAAAAAAAAAAAAAAAAAAAAACQkJCRkZGOjo6Pj4+QkJCRkZGLi4uRkZGSkpKTk5OUlJSIiIiJiYmKioqMjIyRkZGIiIiBgYGBgYFra2taWlpbW1tbW1tcXFxdXV1gYGBhYWFiYmJjY2NkZGRlZWVmZmbFxcXGxsbFxcWUlJSVlZWQkJCQkJD19fXb29vv7+/T09Pk5OTm5ubo6Ojp6enr6+vz8/P09PT29vb4+Pj5+fn6+vrh4eHi4uLj4+Pk5OTm5ubn5+fh4eHi4uLj4+Pk5OTm5ubn5+fr6+vt7e3v7+/x8fHy8vL09PT29vbm5ub+/v7m5ubn5+fo6Ojq6urs7Ozt7e3v7+/x8fHz8/P19fX39/f4+Pj6+vr8/Pz9/f3+/v5T3cwbAAAAUXRSTlMzPT5HSF1dXV5eXl5fX19fX2BgYGBgYWdof4KCg4ODg4ODg4OEhIaGh52eo6Td3t/j9PT09PT09PT09PT19fX19fX29vb29vb29vb29vb2/v7cj7FhAAABDklEQVQYGe3BVVfCABgG4Pebw1aUWeCYMRGLbrCTjpWx4v//Cnd2OFxt41oPz4O5fyWZWsLUVioJHxfDcWMRE+HGeHgObxnbtutrcIXrtm1n4C3atyyrtgrHZs2yrH4U3phEzzTN6gqwUTVNs5dg4IM56xqGUVnerRiG0RUZ+GLEjq7r5bKu6x2REIBO2z+u9jEhEJ20vh2tI8IMB80vR3MfM+yUPl2ldQTiipqmPX1omlbkEIArqKr6KAjvqqoWOPiK5BVFeRCIhDdFUfIR+NjLybJ8HyeA4q+yLOe24S0tSdLdIcFB/IskSWl4uxqMbmMEF/HPo8ElvLE32Rhhgvjs9QJ8sCHCFIVYzP0Bv8TkMV6N/MAsAAAAAElFTkSuQmCC"},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAMAAAC7IEhfAAABAlBMVEUAAAAAAAAAAAAAAAAAAABQTk5STk5SUE5SUFBNS0tRT09TUU9TUVFNS0lNS0tPS0tPTU1ST09MSEZLSUhBPz45NjY6Nzc6ODc9Ojg9PDo/PDxAPT2Hg4OHhISGgoJlYWFlYmJjYF5kYGDe3Nu/vLzV1dW2s7PS0M/T0dHV09PY1tXb2Njk4+Pn5eXq6ejs6+vs7e3u7e3v7u7LyMjLycnMysrMy8vOzMvPzc3Qz8/S0NDT0dHV09PZ2Njb29ve3Nzi397k4uLm5eTo5+b7+/vT0dHV09PX1dXZ19fb2dnc29vf3t3i4ODk4+Pn5ubq6eju7Ovw7+/z8/P19vb4+fn7+/sPx4prAAAARXRSTlNmbnV2hYaGhoaHh4eHiIiIiIiNjqChoqKioqKjpKSltra6uuXm5+r29vb29vb29vb29vb4+Pj4+Pj4+Pj4+Pj4+Pj4+P4UwkMSAAABCklEQVQYGe3BZ1eCYBgG4PsJtUFBQ3wVsuXeZUsr92A1WP7/vxKH4/ET4Oc6Xhd2/pV8IYWN40IeEa7mq24Sa3x3Nb9EuJLneQ8HCPD3nueVEC49c123sw8f33Fdd5ZGOFKmjuO0U8BR23GcqUKIQMrEtu1W8qxl2/ZEJkQieWxZVrNpWdZYJsSg3OgnMMoSYlFu+O0bZglbXAy+fINzbHHa+Aw0DhFLrJum+f5hmmZdRAyhZhhGn7E3wzBqAiIJVV3Xe4yI9XVdrwqIIFY0TXtlBBDraZpWOUG4oqqqzxLBR5kXVVWLCHezWD5KhABlnpaLa4Tj7soSYY0y5ds9ROAShA1KcNj5A34BLqkp/MpQuAcAAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAMAAABZ0JFjAAACfFBMVEUAAAB4eHj///94eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHhSpjOlAAAA03RSTlMAAAABAgMEBQYHCAkKCwwNDhAREhMUFRYXGBkaGxwdHh8gISIjJCUmJykqKywuLzAxMjM0NTY3ODk7PT9AQUJDREVHSElKS01OT1JUVVlaXF1eX2BhYmNmaGlqa2xtbnFydXZ3eHl6e3x9fn+AgoOFhoeIiYqLjI2Oj5CRkpOVlpeZmpydnp+goaKlpqeoqaqrrK+wsbK1tri5uru8vb6/wMHCw8THyMnLzM3Oz9DT1NbX29zd3t/g4eLj5OXm5+jp6uzt7u/w8vT19vf4+fr7/P3+t2ttXgAABQdJREFUWMPt2PlXVGUcx3E+bCoIyqi4ZCWOFrZoTlZqSVNZmSlmqGiKRhPlglpokePWWESZSmm5ROVQtEypZU3iVqQMiIOjwPsf6ofnzgLMmOd0Omc4h+8vc7fn3ted+zzf73NvSmo/iZSUlAHqALW/UCVJyl126BxWnDu4JFf/W/xHamZ5Kz3i8pqM5KSObqRPNOQnI3X078SJ0/nJR81sJG40ZCQdtZwEsTrZqLktiaiXc5KMusSCnSye7gUan7x3abjvLoq5wuQPt2RL0vS969O1sG6hJGlG9Rc/H3tzqjli0hvHGg5WTJI0e//LkqRnDyzRHW/Vmnh9aMbKmtramq0rC3sQJMnhtPe4HWfMegz1oGE1Zku1sGeQpNyfzLa6mNbHoVxSURDm3d5F13hp5OfWLe0bJqn4GgCdu9PTW+AJSSuACQ2Rh7RuaXjp6KSeVDv4e1DBFY961jR/SFJt1xpJUnqt2RbbvgncRsqsx4BpGhVNHCdyZQ+FVx7NA0qMNDgqmrBd7shi24weVBfguAWq1ViSdj4jSbIdts4Y6k0tCgKvylAPA81byna3A++pAm6sLd7VTqjAUFcAoXlqA29lZWVl5UuD3XDF7d77N9A8PJbqBzy3TG2SpCxJ0v3Rf6sXtSgIXStkqDMBn03SpIvQOWEHXBomjVg0RXlAyQqgvUhqg0rrFG5oklKzDwDrYqgLwEPAZv6mqgD1DnBJC+ohUOeIT5UkLbxKAur3QbheLIu6DbhHkjQfWFUBtNbMz5GUBxwHWh6W1AaHSkpKSp7PDFNTs/+CkzFUDz4blEqS6gEC4NICQwjYE1Ezt8Wmq55UgGqFqUfhN7NrSBfsnGhGVccH45RntV4sQzXxToSaWgPXolQbuFSHT5JKwWOz+8wWv01O8CSkVly7KbXDEaZ+AyetfVdhj5znzREXxoWp58fEUg9FqTugO0p1gU0LzMDyEJDkMFSqnDaH/SYdoPDbhNTWbjibb1H3Q4eZK94NbJAGP/d+M8DbeQAtQMMgqQ2avF6vt64wSvXCxSjVj8/pdJqBVU99eFiZDuArvQlVaSuvxKdemLIR+DrDUJcDmyVJHwOzcp4eK6UXXYQv84Af8j8DtscbVqlzgY8iVGf4YgFbD6qcdQGAqrjUjXPMOe88kiBZZXwFVBtqXgBwT9CUfcCPad8RXDtWuSfgiElWtjPAC2oDd0FBQUFBjtxwoaDgkU0h4MEI1RN5hqWSB78pCS7JYZfT5Yc+eTVdUm13tclXWpygBIz+E5hr8uqiaEcJPqAgQCAElFslwBGCDnukr4bmR0sAmyNSW8BKqT7qpVIolerAJT8+m1RFoDeVZZJq4dQ0SdJTAOyPoZ6GrZJmd0K1A7hPKuu02rbMkVaHq9WpnKxuKJa0HFh8JsLbtym81Lk+LUItDRcqF9glH/j84WQVqPfF6QBc3zBSB4DQa0M1/JVQn+lKWXfbdEla1X1lZmYD3kxJ0z4JApe3j5WkybuagfZ3R0ge/hglSXs4d1tJu3WB1scn/grQcXr75JgpgC/87GxQJTl84LdKgD+2q8ZQoeuSlY/O3rAmgdmxxc42xPyOyJLSxqSZlawpM+9KjxwyfmphpiQp35qVj8n890lg7/0OZ8yiM05hjRdlyTa1Tig9ntFfqL8k32tgAqk3CV+u479WrU7GTxZ9mF1Nn76YIyUhdeBL4AB1gDpA7Q/UfwAdrdCOeVpyJgAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAK0AAAAoCAYAAACM0nooAAASGklEQVR42u1cB1SUV/ZPzho9bjzHmOgmgq6CJlGjoEYRJaixJbEmcS1RY4s6A8zQy9CGJmWo0kGaIIiURYqKCCIiotIUQQVbYtcYjRpL1CTuvez9+D++/zQUs7vnfN859wzzvf7e7937u/c95rXXXnttgyCC/I+JMAmCCKAVRBABtIII8rKgFYGIQcxBLECkIJYaREp5zamsSJh4Qf4M0LaBVUfnPVtXmWx7eVlZ8+WLF+8+1/BgntKSklNOtra57733nivUYU0AFsAryCsFrahnz56SsODAgrt37jx6/oLPrZs3Hnl7eOzp1q2bM9RpRZpXAK4gXQ5a0bBhw2TH6usvPO+ip/rgwUtDhugFQN22pHUF4ArSZaBtA+wPF77/6XkXP80nTtwZqq8fBG3YCcAVpKtA20YJulLD8p+qysorb7zxhhdpXIEqCPLSoBUjh33+ih8nB4cKaMudOK5YWBBBXhS0IowS3Ll9++GrBu31a9d+feedd0KhTcdO0AQu7GZGwkYiRCrSue/m9ClSUYYL5UmUhOlEGsJ/qsqw+dT115zXX65eVWKuZGz8dLMuiNTwxyHqZH1s2RcprxVoxa4y2TZ1YKs5cvjuymXLqk2MjXeXluy9yaaVl5X9NOeLLyrGjRtbsGHdukMtp07dV1fX+rVrSqFNDy21reiTSZM8igoLapITE8sB8E4UC+aAKIa2A4qLiuqjwsNLunXrhpzZyt7KKrVkT/Fxa6k0Hb7bEMC4CTRbMGdOUFpyckV1VdWZk01NVysrKs7Gx8RUzJg2LYzyS3lgF08yNvZIjIsrO3TwYGvN0aMXykr2ngwJDCwxNhqnYNowX7p4ceje4t0NAb6+hUSFpEzbYtG6dfF79xQfc7K3z8L0MYaGnqnJyeUFO3bU5uXm1iuTsKCQkn79+jl3797ddqOXVy68q8nPy6trS8/JqUuIj630ksvzTSZOVCjpf2dBIp47+3PFyuXLo42MxvnQfHeGzolXr1gRgeUnThjv/ZJ9UQla83179zapAhmCsnfv3pmQLw4kPCM19TSXFhcTfb5Hjx5b4X00SDCI4m99+0bVHj16S1V92du3X4B8GE2wp8lQ12EzqOssV9bPxxsBL+MmcsXSpZEPfvnlKZcOE7V95MgRimfPnv2B3/Hzo+HDQ6gtydChQx0PlJc3q9tUhTt2NPfv39+LFr9NeznY2qY+fvTombL8T58++WNramotbBgZbhrWYi1euHArWRVcOHMAXDZb1nDUqHBQCN9rY6WCAgIO2NvY5GvKt7+8/JzR+PHBTLSmM5pXZGxs5MHV9f2F83fgnQvF27UFrjlXPtDfv4QZv7grQWtx+YcfflY1CZNNJmHDsSB+IPKczMxGBIOTnd0R+J4AgtrJm8DkCAsnz8zIUAmM0ydP/kJlnGlS1XXY4tLFi3faN0lU1HF4h7vffvk3S6JZwOLz+cyZ2V/Nn5/eof+fmKC2dR+qry/XNjJyrKHhx3fffdcXox2oLQCwv2kqs2Du7IwBAwb4su8sRKK9UIcn1uPj6ZnDpt2/f//ZoIEDN/9069av2vTJ09X1UHx0dL02eWHj/DprxvREaNeBsTJaaclNwSFFbF3TpkxJI+BaaglaKVcWxnyAsGFL2rbLQCtVc0DwFNK3gAQSKG3SU1Orly1dkg1/owZTkGPVZpL0Bw2SgSZrUTehALTfIW8UiBvtQLUTcInZUBFhYSdRoy/6+usUPmBdnJzqsd75c+Zksu9NJhnnwnvfin37Wtn3UO/jQD+/k1YSSU1sdHTL3Tt3OmjS9C1bmhFwSAG4dwDeP9ycnRtBox+MiYhoL4NjGjVyZNJAXd0Qtg7Rd9/hoimAfhXy52DRwoVlaKEQYNz7sj17fvSUy5u8PDwavT08jm/09DyGYi2RVP31zTdjwbI1cHkB7M9CAwPPhIeEnE5PS7tw9dKlx2wbVy9ffggWI5CsjDb+A6ZbwMa+zdaTGB9/CuePwpVmani+lMSOKyt3c6smjDgyvJu9DsAd+Zup4b5KO2upCmBnWk4/hPTNtFvajmT79OnjQDsPQefEvZ81Y4a/tpqMNLcHdVxr0OICzZszOx+1FPcOtb5ELD5K/Qz6esGCNLatSRMn7Phs5owM9t3h6urbsKBZVCYCNb+hoeFW6P9D1uyPHDEiKSkhoZYBAjqSOZA/CQGnq6ubuG716n3jx47dhm3D96AO/H3NmkN2Vlbl7DsE+uefzSylOQhhQevh6oqbMpXSIsgioWCMOyAhJqaOtzYZNIbIt956Kw6s4Hm2LV8fr8M0z9ba+A9WFhYp/0f9Ys7g580bN57AuKJpzSWsU6mnp2efkphYBmNoOzkFvn9u1rRp8VwdbjLZUaKNzpYWFluOVFefYazBo+KdO5s+mzUrgpSehYo+vhBoWYCJqXIrkradgo4PAOmptlEE4sfagNaSBW1VZeVP9+/d/Y3RfL+vWr68imgKLqw7aOFEtq2JRkYFoEkb2Hcfjxmzk8YVQJYCqYp81bffduCMtpaWh8DEHeJZnyfgxLWsXLGskCIhCqJOHgMHDtzI5i0tKbnJi548mWr6STGNH9v2ZEGbl519Zf3atZVIK2CRd1lKJDthU/wT/AZUGu6wgY5yec+2tj6gzRNEc+n+9ttvBV6+eLF94zXU1d5mNJ1G/yE3K+swlgM/4kcdHZ12i2UllZZDuhcDfgSuOYCwVYl1/pUBbQ1uTLMNG7arwgJYjMewHuFqLELnQEsTE4MLynAaLpQh7vnmmxbb0rfu72zoC8rGE9frFGj/n3OiULRAnhSQUNL8Nov+8Y+4DqA1Ni4E8Fzkvp9sakJOnUyUx5n60LYRQVt5cE4cPpHh4adHffRROpjz31RQnWfbMzKaPvzwQ2zfGUDrpW7cq79dcZiAxrXtwIJW1ZMYH4f+gzw5MfEIb23iCEx2NA7HrG3bGhne/DtpbE5LqtSygwcPduLKubu4YHubc7OzznMg5oFf7CWXtwMxOSHhJFiuFHAs0zAv997VyakW12ZnYcEp/H7uzJm7urr90ZLEz58zu507gyOLvooroxi7BLTuygCGoA0PDd2palFfNWhhUX4zNZm0gzRdW4RgyaJFMWwe4wlGOysrKq5x32FSf6b2OcrDxhVtWYsBjs9ZHP+X8+blgSf9QFU/oI+/AHBD+I4Y/7lw7uzDIXp6W8iZROfEBujCY03zBYt+HseYFB9fo2ZtcAyWaSkphxnq9Fzd+qlywBCACPY1K1e2v5tiarqNqcec08qoWTmKglofHTceaMOK8vPbI07gRzTNmzt71wAdnYQpkz/JQqAThXBXQWO6FrREoK0nTBgfWXXw4NU/A7TAsZ7iYnAP7N4HoCWiiF9bLl64MJYP2pzt28+xQAeznkTtW7EczcRkol8Hj10ubyRN5der11+Dv1m6eGdKQkIrOnH8MUVt2lQPCxGm5EDlCfv9wP7913r27MmF/GxZ0CIdQ2cMY+H7SktvoGCIcPyYMRgBCdACtFIw2d8zIatHRIPkaua6gwNWc+TwrXmzv9iNG/WrBfOzeQ6ZH2l1aXVVVVsosqyk5Aq14c/5Ojx6ELZ+7Zo8ZTioq6m5CU7mPqJKr0zT8k87xMRrHV9//XUfOxubCjB3T18VaEFTPRpraLgHeGaHuPL+ffvwXgNqL4clCxfGd6AHE4yKrCSSA+y7AD+/44x25k6aLHYVFR1j802fOrUYAB614ptvtg0b9kEwedHBr//lLxFzZs8uYh03oCBXdXT6d2gbNPwdoAz5ebm5l9n3cTFtoTvkoc4sPQBvG4GxlTh6NEVZwsk0eyrhtLHMQY352pXfbmbbSU1KuqBFpEaEBwGa1gwdsoG6ujEETBt0uhjQRjIOny3PEUPq5LPwqy+35eXknGU5b7uDHRZWo8ZhfGlOK4bdvnvZ0iWRvJCFlAAgHzV8eDx4hZc0hLxeyBHDEA9yWABoLGihK2y90RERDbiwX3+1IJnPaRFM/MnCmO9oAwP0zB1MTU0UxUVFxztcqayqug0bMQk0zzUurqrw9z/wwfvvI4j8/tavX3hDXV37IUpRQcFVMKsd2l67ahUuWpKujk7iudbWDieF4g0b0CHzYUEbGhzUOmLYsCzg0clgNuOgf9GjDQ0j3+3XDzeLG8tpcQOPGDE808DAIGrunC9i4qKjy/jxZKBOOyk0KVMTE293wDQ9UnPzCuLQjpkZGbWEkXtkjdrulBgbGW1UAlpPjCqMNTBAZRWJfBZ5c2vL6fuMIvOnuLL5S4EW47SgVeIZgJkX5uejifoDyHcVOC5uTLjCgnYKTtBG8fr1e5UeLjQ3P+hEyKsDaDcFhbSQBvIfMkRvE3jKHXgmUIM8/uHCJOMJ+Thx0J9d2tIXjFBMmjihCNtiw2usx8sHiJODQz0ftOD5V9OC+k6fMmULbliWphiOHLlFG0cM2/pu9epslh5oevy8vZtJOfioCe6L9AcPduRCVolxsS0UckskZYVaOhYpA6NVUeu7uDg4tEdawJLtJyvktGfXrhM8ehCKJ2tthzb19dcpfIZADg8JCmpgeHGYCoexc6Bt0wjr11cywWVLPPNmPPFbsBhxpGWlTJDZARyiTGX1paelXezM4QLsxnZtFhwQ0MxECmRA6FMxnsqYmcZPJ0/uEJOdMH5cLhdecpXJStn8Ki71PPl81qy9tDkC3F1dSzSdiNXX1d7t06dPSu/evSNZvr1qxYoDFCnAxXCW2dsX8+5hVPA1sKonN2t7a7BCcVRTPhyfp6trI1iJzUyUQqoicC/2dHPLYjTzDhq3ghxVpHA+3nJ5JZcHtH8KKRwXBCHLT0H7/4wbmu+IrV+7NpcNie0vLb3YUFd7g4kCNXYpaDEWqvD1Paw3aBAOxLmosKCZrwX8fH0r+vbtiwOxg53kDJO7S9VCr165oqoTx7gSL7m8EIEAk/EEJjWXzIgj8ThHAGIJpiOXnjltWt4bPXqEAd9q45D7y8qud+/ePYZMGjpqLlNMTZL/mZNzno33cjfQIkJDT+vp6WXSpvLlwDbu4zExCbGxTaDZH/EPCoBmtOro6GylMW1MT01t+LdT1XL/738fkEKazo766wzpjWTeH7w/dOhWoAll/NM4JRbvCWzQQoNRo1JAUdxWFkU5cfzYPey/gcHIXLJkCnJurNTcPzA7eeLEZS4cRdzUj9bGmiyhzaBBg9pNfnhoaC2B2emz6dNjWfBhHVNNTTN5oTPcOB4IXEzn9z1EoTjOWc8uoQfsg/HLm9evP1TDVZ+BY3IPdvrvqvJcvXLlCWijLZ24MIPpduDMBPbq1SuMJsCducCBGkQG4AiDeiMo0O4DWsZ7qL5+FHyG0GTImP8WRvD6YP7x48ZlTvv004LRow2ygQYlEFiDaVEcmDKOpHmCh33wfgpQjtyPR4/Ohg2RSGWCiPdjPmd9ff0w4N3cMbcLc1MKP12gb5GwuTZRW/6UbxOBLV6JcCbVjySE2o2j9DgqG0l1enPRFA03rMyIOngyhyR8zSym+XajdfOnv+1oDT0/nTp565dz5+6gMYSQcCd5njT/OA8+UyZPTse8lJ879fNj5kncZaDtisfSwqKOFkDbq4lixslz5u4/MCcnbLoL5bGnCXWi744MaMRkfmwpzYMW2Ic+3akce6zIlbGhNHfS3N68MtaUz5IA78y8525ImTGbwIXpnxN9l9Mi88Wd0h2Zut2p/570KWeO1vnXMbWZXxljwcx4d4DNaRxOJNyVS24uXXh9daV3Mubgw5LacaP5Y+fcUc0G+8+BtqR494/dunVL5l2g0OYSB3chQ8LdWVVx4VrCu5htoeJCBgceC5ooa1pka+Z0jL/YIuYIW1MZsYq2NyhJlzBOrKbflGDHJtHwmxPaXkdk+yNR0l82nxmTz5x3eV1Kc2HN9EOqIa8tzaGlhj7/Z0DbUFtzD0x4FpmPF/l3G5GGG/DK0jtTRqRFfk3lXra//6vSmTkUvcB/Nvz5oMUTHgJsBJkP4R8bBXnp+7SvBLTodFlJpXVECTZxl6GFfyEX5L8GtBhdwLPzrMzMS2tXrz709tt90piYn7vwYx2CdCVoJeQRBlAYJf4lJJbqCKP6PBiPVKAEgnQZaM2Y+KW7ipCLNuLBXUZmQk/CD9AJ8mp+94CAK9HiZzy1EeGnPgURflRZEAG0gggigFYQQQTQCiIIyb8AURrIdyaTD40AAAAASUVORK5CYII="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKoAAAAoCAQAAADEB6naAAANw0lEQVRo3u1aB1hUVxr9maF3G0hHE4qAipogdkVRCYiIYo8ga4nRJLpr2Wgs0TUmJtFNjAY3saNGUUFdwYrdWNaIaKwoggVQkT4DTGHPu+8NzAxD0V3zfUnm3m/gtnfLuX85975HVaSP/9+IoAdBD6oe1D8tqBrBgMRkTGZkSdZa0RKlxqg1oD9E+K1ABaDftsj9oCxF9qRKK1TkFBy5NmvEG2RLpn8MYH8bUEWTzAvmK4qq6gmywvQvHNzIBhIr0oPaMKiiky4VF6oaEV5ciQmk5pBXkR7U+kEFpPLMqkaGkuzhPcnu9w7r6wbVYJJ546RUFfKuNWkHaTX+PdvW1w2quGB+1UuGI2vIE7ZVrAe1DlDXNlcUvCyo5SU+fckJJqC2rIrIkIwQeY5goJYX468xfiK1GhMQNXP8TJAWVfemXsPTOL61sVa/XN6Q/TdFS1U0Rd6QjWYilJhUP6cFqgb34foUq81Cm2yK2BpEdeunGqg5UzUBy3myclPM0uzbfO5B5tzVI+dvWFf4VLPV1hXko0NWRXd9JNtfrIp0JissBCTtQRdJQt5yezuyyY2VJGVMpmaAipua0c1ehWtKT5VfLz796Ps9wSi3YE/gmTTfgpWSE2UXCg9nfbGuCzXFE8aP+0n25CyA0bEAYAZkmBMlScz8iJrv8i1aVbSjICF/lyo+XB7h7tn82cySbYU7kd+ZG5fxyY5u6MWCbWgtUIWUOL9LXvhlf8wb3EaH9IlLQ/LCr7TnZ6mbQKmVlKaog/Ugs8U0GkoDbx/lcufOWU2kwdSbunkPenZfvd2tCxRILTEBzWBUeZqrTV9Brtz0HoQqpVz+wIfzulYpkFC834fsyfywo/Sg1lYeDPXDwiFTT2OVFTXlSkX2Dls3eztem3ZPIkcsyzh/Bl/74cDSi7X16Nr3l+bVYi1nv+yNLTFTSawmqGSQ3YaRxmxqRU04b1ELVGOuPnc59NOSxA2CKnusPviE5TSE3ibvx/uUyr1baCT1o3YAyMmyTaYG+IXPUOOOSWoGU/lDrvbKXupALX8dzENaVbV0xrr3+NScyeS5xEsX1yi6270TtTjYXlmpXbN2yqC3+dSer8mXWuTM5HPyim7DZSW1ezq+4WaCDpZdGjeKHJie1AbVsGQR3yp+IrWGONSSVbLgau/EEeeijRoEVcNWSimGugPEpk83JkynPtQVDgmK+Y1rSarmFOVyGkQe2DXNYCF7xNWeP0i990arIN2fQGFrBSMzZRZ1Kj7Op8uKjh3avu38cVk5n7+dQn4PlnMphWLv/lU/nk/lahSyUWN79+ZbbIqjrtcW8mmF7MuVNFhWyqUzM/Ynp+w7lHQk8UjirnXNIq7tYefA8tSTp46ln5cUC6sr6N4d2sU8gTqoyJvKs/g2WUeoEwijABtnaKA9Foh2TAM3ARFHZum5o7wVO7yrvERdoBa+oBHUHgpgGukARfAgF+5gejVQl2RRJLVBt5rBsoLJ/emjn3+iYFAplZu2oc8emycKmjBv+RQ+9STbazpq3qHgkRPLXvCqPnxsxg4uJSlx+RuNocGdRm/5Z+xU6hnUk3/mh/XJqwS5K5+zAjPow4OadIj+glwIBUN/elLg7R3CaqbQcAp1jrxzjn/qzBbM2ZaTVQ1QRfnRXO3dU5w8jwvHys05A0CidHvpSmVhVZX0bPJwpoFbqRe5PR1feZJta1Fp8oV3IHRm6tJfC9SifAaVNfbHDG7IBjtklhurlOhiADQMrspaC1QrHtTHmXJmFxXyb9fBhPQgzwOj+adi56fv4VORizFWIDTBnbx3CjZw94ZTGwSpklxP3boQHKMbBVCbiE58aeYdobb0vWWw/IHkK2fqfyN949rErw79I/XT5Nl27cnrQbywmjEY24c8PXuUs217noX+HCF7mqAalW3BoSbjnWlcm4urqC3EirO9xrIT1ZrJxvllG/W59aGGxhavHwAvwY5CdYMaQd6QP+62CmRlhpnku7poFUXBvtUBqiocS6VoCqI3qenZoXxJzMJHv3D/C57SOBgaN4yF7fNro1Qyx3gscrJCzaYqKh4ciO5L7mPaao69agvg4p52kNeyqffiybsa1KEAqAXGcMrazyCQQZpbQw7V7aFBqhNXlxZPI3LOceBCxZ0AvLiEwZd9KHLc/IklGVz68k/Ut+gwNjUnYjxF7WB2OHcvvQEcxPWD6lWj1DPM8her++KXBVUmmzoXktaSzP8TwZdEf5pzg53KHuH5dpAIEdvA5gpmfy+eoohv55Q9V+9D+mx8UPhbmmMXF3SPJX+4jKaKYu15PTxHAfe2aaxGRFaPtvBkQrU+NVDFxZ8yzYmmkDMMpvVTWRsTyWZOQmGiQqlH/EQB1OACxot+PbB9SdSotdMXTIBB8IJJMWw0qDDCTZaGPrv+8qBKpVVM9kqe9w+DZba6MEQF6u2zTGYqW48hPxgYzsSLUgTvnrwPkhTQstcPi6+eKKu+MUvb1b2fKi0RTNGTG3ZdsVnNeVALCjIzsu48vPXw1q0L4ydTl4ztGqsxIItSdhAvKQS38dYAVXBSxfe2Lt035yCjalmHwX/s4B9AD/PTYaQ6Q7o9BPUPvvRxDQaldy99Q10aK6mq84MhrKqTUceU1ZXSlwG1qGjQ58nJAgNNt+1ADieiBPVftCeOT51MwtTt2YnJtDiRL5v+mUdY0tTxvegt6mUSsmRRKWOn2df9hacfZvvNu3WVT6cnwVq68eqfeJgmwXYPpjAaAOX1q1b/IfAQNmR8YwT/zJXzaOGBNdUsX5QXXpt8jYmAs2omPcNADUUfTai54Kj6kn/qtLzTvINkW7CN1Rs2bFPF0s/uhQIyC5hgSyzde8ywrF+0KFU9jir1JEWbRT5JFyRtN/ntHcunxy/wj6oU7ODVpBn9yeHfXYuTBOnLEo998SssaXlaXNRACvAd+IIdODKu+Y7jW3y3lcb4jy4RTndJy6gDD+rxEyHTR74bO3RK+NSwzp3ozSym7CUFYdPeH7Q/4ulKFfedtBg00RVrqlm+Eafk2uHnNbDFjkWQd2ku+IkX2fzcUQA1iHwPRn0dRaEJC9PipXlMvDqD/5rUw1ONeaiMJduqlI/Wd/bAKYc7TdtiKh13fl3TsuC5TkolgHoyFVLTOaK/NJ9v/a+PVeR/wjwK2r9E5xV4ZewiCleUV+eLFTKB8if4vSscAzbCPLy1LIavkVeOjqmRmOozWGXKX3n11w6HUuC4OnDkvRpUg1OOHGW6n0qxNBoCNYgii+4z+exKrbM+YZx7NZirS9kBQf2DZDjeSG+CeAXRgDt7OLkGkVNzfrVAxZl+LSO/VoU7mUO4v2ooLJcl9sGSHHZOq2l39bJO8m9Zfo+rPZECNfEg1w2xSu5wWnVh/3wB1OjZsEF+Z1bw5WruqGz2V9iILpeWq6BUhWePXWKcwngLHfc9fH4rcjv9OV+3cU1pXm3w7p+4uLUW1IoD+8QjGWOwqKE/JC6cztV+M5fCQbbawaD5317LlSyOhnC1lt5kh5Q7lY/kxYKj6nd1Jk+xii6XsfuRm/saBFUhP795WFcQ3IOqc8uVNd18yW66e/ZS9QPk6nWg2W61jqnmdxdCVMqmzYZKOMKaOZ77Ennp3z+26ZefBv56wyoCiuVMrRaPyzgnF3iFtPTMscAPYO06ATD3GUPSD0gLVRT//Mm2kzBSx+zd2OKnAdGQNDv063ZvH9Q7v8+khJWycq33aWXLFo6KLsquNlSV+Tlnj4bPgn3tBpdiwy5kVMs3kqdxBAl2MwCraQIdbbaAKfr9n+BGXY5G8sCV5/z4ATNkW7AtPmmzKqrf4t1KwnbUr/7CriorNS4DFRXlOUq5eomkzD5W54WKMdkN6OHYD0N7sYsJS3IN7uscglNOB6P2g8IMgzABV/Z21oU6OIeMnzZz/tAZxiMg9b2wCAdW4wSJ6T0wZvLMEX+1GIWaHrDyTuQeHmwZxCklZ5zwax0eatOfeqO/btQfgEVVx8HQkgA4wT54dhjyw1Abiv7bY0xrdhNWc/Y3gjHwRa8BOIJYcid+uE1b6Fgg+vUAw21JvvETE+dihD6IwZiLH+bfijpsnpw4F+Uh2PAA5Ovz/o0N8TuxP7qu/sRQLnvsuSsOb6bsztMSE4PC4q8dFuUOeKzZfac5luMGq9westcOW+AC623K+IY5nnXBSast6rgaZ2yPOZ5ywNMubKtEAIMDvxXrzxlAewMaVfRCuSNau6EPH+R9UPsmWnGXjoaq21CV+rP5ujKtMhJuak0whjNG4q4ZuVm2Yr16QspboyVMI8a2R49twZRxemMrMqqR/lcE9V6G6TjIh65Lao7Im2Aq5mzpBmp5U3ZlbMEuIPgLYSOkrbGApvhZoV61YG4rTFFiq1bDl1kI1xf8RYcpW7Qp+2+l9oWClTCaeXWpFWMxhupv1YTli9iB3Ly6X358I1Zmwq66jfGsLaI1u1ZRlXI+BjQLG2VdM/P/AdS8XP+PoA51v04xYFFXXleNiEUDHdujXVN3v6/8OqURQTVHXTPXehPwyqBmZgDSEFiWP8SLv9fz3uulQJWUxSdA8fsDUv0r6gY+UGswKJWFL65fidvgPIGxOU/9xxQNv6J2AR0PU6MkumIk6Ekw2vnAPek/+2kEqNaMwPjWE31AfbjL5Jb6D9QaC6qRGvmoK1rpP6V89e9T/zRB/yW1/vN0fdSD+lpA/S8WXoIG7FEXGwAAAABJRU5ErkJggg=="},function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGIAAAA4CAMAAAAxbt2tAAABblBMVEUAAAD///8AAAD9/f0AAAADAwMAAAD+/v7///8AAAAAAAAAAAAAAAAAAAD///8QEBAAAAAAAAAAAAAEBAQAAAAAAAD///////8AAAAAAAAAAAAAAAD4+Pj///////8DAwP6+vru7u7////m5uaHh4dVVVX///////8AAAAAAAAAAAD///8AAAD29vb////h4eH////V1dX///+zs7NgYGD///9JSUlAQED///8wMDAbGxv////////////4+Pjw8PD////v7+/n5+fe3t7b29v///+rq6v///+Tk5P///9tbW3///9nZ2f///9PT0////86OjpBQUH8/PwkJCT///8AAAAAAAD///////////8AAAD////s7Ozp6eni4uLKysr////Pz8/Dw8P///+Li4v////GxsZycnJ9fX3JyclVVVX////////u7u60tLQHBwf///8EBATIyMj///////8uLi7////29vb///////9965InAAAAeXRSTlMA/QT8BhcJ/eJQNBMOC/ppIh5LRjou9/JIQCga8+vdX/ro5uCslXlpW1lXUizw7t/Y1M3EmJKMiIN/dV8XEfjw7evj29nGvr21rJ2bm5WRiYWEdXVvXlVMSUAmBeXl3tXR0Meysaamo6GYj46KiH5qYl9cWlhXHx0KxSreegAABCRJREFUWMO112lb2kAQAOAMkQTFRrkSWhEF5JQbBNTirVWr1ru1933fp/vvu0aUzEISAzhfyZN5Zt4sM8tZi7/xWi3+l7vGmHxOaDyf5K4rHn2WiBrS50fctcTvPLmM/G+u93FSBGimACie9DrDoQMICnAc9jTB/SABwgSQ4P3eZZhSgLQJUKZ6lGA2SHQjONuLHhVlVMLcHCpELnbdrRhmhsWJiUXA7LHuTrMDMYukdJBKHZSIiNgdXZz2uwuYORQ99g4Pe4+jIcy+cLfDBHEHehEvvx7y3xq02QZv+Ydeyzz60RHvIMHtOzLu0VKlf8Dex9Hosw/0V5Zwt+Q7t61mqGFmMbN5dHP4ho1Tw3Zj+ObRZkbE7DVrRyEM2gw8LO/5fU41QSOJ0+ffWwZemwPCsxaYRxnmnZTXJeBnBJc3tcOwj16V/XAUM0sTQx7KzD5G2T1DExJmHz28ErOCmSO7KjMbDfbdCGZXzNnvhQGVkCmPqcxMNNnHyhlUCITvGR+FsISYycq02+fEJeBCnD739ApB7FI4rj+b32BmeFxJekcEXAJbiDDiTVYeA2Z/ozPbYwruEbRnbs8OuFtKrB3zKjN3ctPtmPXYp3PMtFptYZ9aQI+MB6I6zLrs0cA4esXCFO5RWCaIuXCgw2zAflBA7EQON7t1uoGZ+aVqSofZkD1VXeIx+8Zp4x9PamV+2Mpszv6wlV2qqQpZgmJlRp/ZnH1mhaDIUpF/CmLOmDHX62bsGcSu/OP2ZS3zixl32oj5QRGg+MCIPe2eeaFll/e5L9AsIbJrcpq3iRrbJqd9N9IsBL5wPwMXJYy/NGGezF8u5pMm7C/HLwoJ/ORcEfE8Q8GE+WRVguaXsnpiwl44zyFGXJz9T47WMTf/8Ycxc9zBbGhxY/YfH+fnaA25P3ZO8CU3S6X33yizzYA5T4BdzPMG7DbK/u19qbSZ9Am0dT534qh/YEQwGlRZIC0BWaPhI4wM9B8l3L4zXJtgd7nsRj36FdRdzH8ZdevsvVf6G6pvUGadAGmjznUd+5iZn5/nMft+txftIME729Nq9Snw+D7W1TX8E7OzLZZTHk+qvMhsaJ86TvCdWc2ldbqaO510MV+XmMX8e0cJ6q9kQA15UqGfdh89vPRzrDwh6Ef5VQfsMaaEwLsxDz3+jcPrGXsXwIVYv49tK3iY5/bUYa4Z1Xs5PKqV7a4uwqFokq7m2uWfLubJaKibC/IHSfulrqs3sJYNjbJrv1/pg6UUbzWYkarKzIbKXo1ozN9aSvE1e8m8hYc5O6q3LtmzXy2lsBcat4tldTU3XMyXGzeMgt1SCqfnGS+KYmgnoTIzgdkTOyH6KP/M47SUQkgfl9fWthAzCsy+tbZWPk4LnKUYTPsTCTTMDUd1IuFPD3IWw3RQscNHt4b/31uGc3kExjoAAAAASUVORK5CYII="},function(e,t){(function(t){e.exports=t}).call(t,{})},function(e,t){function n(){u=!1,a.length?l=a.concat(l):c=-1,l.length&&i()}function i(){if(!u){var e=setTimeout(n);u=!0;for(var t=l.length;t;){for(a=l,l=[];++c<t;)a&&a[c].run();c=-1,t=l.length}a=null,u=!1,clearTimeout(e)}}function r(e,t){this.fun=e,this.array=t}function o(){}var a,s=e.exports={},l=[],u=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new r(e,t)),1!==l.length||u||setTimeout(i,0)},r.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=o,s.addListener=o,s.once=o,s.off=o,s.removeListener=o,s.removeAllListeners=o,s.emit=o,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t,n){function i(e){return n(r(e))}function r(e){return o[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var o={"./core/AdComponentAbstract.js":8,"./core/Config.js":2,"./core/EventDispatcher.js":44,"./core/KioskedBase.js":65,"./core/KioskedException.js":66,"./core/KioskedObject.js":6,"./core/KskdClass.js":67,"./core/LocalStorage.js":32,"./core/MutexLocker.js":45,"./core/Status.js":26,"./misc/UnloadManager.js":68,"./misc/adelement/AdContentTokenResolver.js":69,"./misc/adelement/AdElement.js":46,"./misc/adelement/AdElementDFP.js":70,"./misc/adelement/AdZoneTemplate.js":71,"./misc/adelement/Waterfall.js":47,"./misc/adelement/WaterfallGroup.js":72,"./misc/adelement/WaterfallResolver.js":73,"./misc/adfill/AdFillAbstract.js":74,"./misc/adfill/AdFillBanner.js":27,"./misc/adfill/AdFillHorizontalBanner.js":75,"./misc/adfill/AdFillRectBanner.js":76,"./misc/adfill/AdFillResolver.js":77,"./misc/adfill/AdFillVast.js":78,"./misc/adfill/AdFillVerticalBanner.js":79,"./misc/adfill/vast/VASTDelegate.js":80,"./misc/adfill/vast/VASTFormatMarshaler.js":81,"./misc/adfill/vast/VASTVideoAdAbstract.js":48,"./misc/adfill/vast/VASTVideoAdFlash.js":49,"./misc/adfill/vast/VASTVideoAdHTML5.js":50,"./misc/adfill/vast/VideoSupport.js":82,"./misc/analytics/ErrorCollector.js":83,"./misc/analytics/KioskedAnalytics.js":84,"./misc/analytics/TimingReportController.js":85,"./misc/analyzers/Analyzer.js":86,"./misc/components/DisclaimerCloseComponent.js":87,"./misc/components/DisclaimerCloseComponentStyles.js":88,"./misc/components/DisclaimerComponent.js":89,"./misc/components/DisclaimerComponentStyles.js":90,"./misc/components/DisplayComponent.js":91,"./misc/components/ScrollerComponent.js":51,"./misc/facades/URLProcessingFacade.js":147,"./misc/factories/AdElementApplicatorFactory.js":92,"./misc/factories/AdElementFactory.js":93,"./misc/factories/ContainerFactory.js":52,"./misc/factories/DisclaimerBarFactory.js":94,"./misc/factories/PlacementContainerFactory.js":95,"./misc/init/Destructors.js":33,"./misc/init/ITGS.js":96,"./misc/init/ITGS_bridge.js":97,"./misc/init/ITGS_status.js":98,"./misc/init/checklist.js":99,"./misc/init/overriding.js":100,"./misc/init/placeholders.js":53,"./misc/komponent/KElement.js":101,"./misc/komponent/Komponent.js":54,"./misc/library/DemoCreativeManager.js":102,"./misc/library/InstanceControlManager.js":20,"./misc/library/KFSM.js":103,"./misc/library/KModel.js":17,"./misc/library/LocalStorageEventQueue.js":104,"./misc/library/PageInventory.js":105,"./misc/library/QuantcastManager.js":106,"./misc/library/RewardWrapper.js":107,"./misc/library/Script.js":34,"./misc/library/SettingsDeviceFilter.js":108,"./misc/library/SettingsFlattener.js":109,"./misc/library/iow/IOWManager.js":110,"./misc/library/iow/IOWProxy.js":111,"./misc/library/iow/IOWResponse.js":112,"./misc/locators/ErrorCollectorLocator.js":55,"./misc/locators/GrandCentralStationLocator.js":9,"./misc/locators/IOWManagerLocator.js":28,"./misc/locators/InstanceControlManagerLocator.js":29,"./misc/locators/LocalStorageEventQueueLocator.js":113,"./misc/locators/PageInventoryLocator.js":56,"./misc/locators/PlacementContainerLocator.js":21,"./misc/locators/ScriptLocator.js":114,"./misc/locators/SnifferControllerLocator.js":18,"./misc/locators/StylesLocator.js":16,"./misc/locators/UnloadManagerLocator.js":57,"./misc/messaging/AppNexusMessageHandler.js":115,"./misc/messaging/FallbackMessageHandler.js":116,"./misc/messaging/FallbackScriptMessageHandler.js":117,"./misc/messaging/FrameMessageSource.js":118,"./misc/messaging/GrandCentralStation.js":119,"./misc/messaging/MessageHandlerAbstract.js":35,"./misc/messaging/MessageSourceAbstract.js":120,"./misc/messaging/PubSub.js":22,"./misc/placement/Placement.js":121,"./misc/placement/PlacementContainer.js":122,"./misc/placement/PlacementInputManager.js":123,"./misc/placement/anchor/AnchorTypeResolver.js":30,"./misc/placement/anchor/PlacementAnchorAbstract.js":23,"./misc/placement/anchor/PlacementBoxAnchor.js":24,"./misc/placement/anchor/PlacementInScrollAnchor.js":58,"./misc/placement/anchor/PlacementInterstitialAnchor.js":59,"./misc/placement/anchor/PlacementLaunchpadAnchor.js":36,"./misc/placement/anchor/PlacementStubAnchor.js":37,"./misc/placement/disclaimer/DisclaimerBarAbstract.js":60,"./misc/placement/disclaimer/DisclaimerBarBasic.js":148,"./misc/placement/disclaimer/DisclaimerBarInside.js":149,"./misc/placement/inputs/PlacementExternalSizeInput.js":124,"./misc/placement/inputs/PlacementFixedSizeInput.js":125,"./misc/placement/inputs/PlacementInScrollInput.js":126,"./misc/placement/inputs/PlacementInputAbstract.js":13,"./misc/placement/inputs/PlacementInterstitialInput.js":127,"./misc/placement/inputs/PlacementPositionInput.js":128,"./misc/placement/inputs/PlacementRefreshInput.js":129,"./misc/placement/inputs/PlacementSizeInput.js":130,"./misc/placement/inputs/PlacementWaterfallCallbackInput.js":131,"./misc/styles/StylesController.js":132,"./misc/styles/images.js":38,"./misc/styles/index.js":39,"./misc/styles/manifest.js":133,"./misc/tools/URLParser.js":40,"./misc/tools/ads.js":14,"./misc/tools/array.js":11,"./misc/tools/bulletlang.js":134,"./misc/tools/communication.js":31,"./misc/tools/compatibility.js":15,"./misc/tools/cutting.js":61,"./misc/tools/debug.js":3,"./misc/tools/decorators.js":25,"./misc/tools/device.js":10,"./misc/tools/dom.js":5,"./misc/tools/encoding.js":41,"./misc/tools/environment.js":7,"./misc/tools/flash.js":135,"./misc/tools/formatting.js":42,"./misc/tools/hashing.js":136,"./misc/tools/index.js":1,"./misc/tools/matching.js":137,"./misc/tools/performance.js":12,"./misc/tools/query.js":138,"./misc/tools/scope.js":43,"./misc/tools/styling.js":139,"./misc/validation/execution.js":62,"./misc/vendor/iow.js":140,"./sniffing/SnifferController.js":141,"./sniffing/SnifferUtilities.js":19,"./sniffing/context/SearchContext.js":63,"./sniffing/context/SearchContextsAdapter.js":64,"./sniffing/processing/ElementQueue.js":142,"./sniffing/processing/SettingsLayoutAdapter.js":143,"./sniffing/processing/SnifferConveyor.js":144,"./sniffing/search/SearchNode.js":145,"./sniffing/search/SearchNodeFactory.js":146};i.keys=function(){return Object.keys(o)},i.resolve=r,e.exports=i,i.id=174}])}();